<!DOCTYPE html><html lang="en">
<!-- Mirrored from pusher.com/tutorials?tag=Ruby by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 13 Sep 2020 12:19:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><script type="text/javascript" src="https://cdn.polyfill.io/v2/polyfill.min.js?features=default,fetch"></script><script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="03d3d286-a619-45cc-b4b4-cda87e817355" type="text/javascript" async=""></script><style></style><link rel="stylesheet" href="https://djmmlc8gcwtqv.cloudfront.net/fonts/style.css"/><meta charSet="utf-8"/><title>Tutorials</title><meta property="og:title" content="Tutorials"/><meta property="og:description" name="description" content="Pusher tutorials, learn what you can build with Pusher"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:site_name" content="Pusher"/><meta property="og:url" content="https://pusher.com/tutorials"/><meta property="og:image" content="https://djmmlc8gcwtqv.cloudfront.net/imgs/tutorials/meta-pusher-square-logo.png"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="robots" content="noindex"/><meta name="google-site-verification" content="4nInkZEayBkHd-Ip-ZWzlf4hwac47VzQ5fS3Iup1TjQ"/><meta name="ahrefs-site-verification" content="a8dc9e8aed476acc9a95f7df10171f54a32e86d66a26f7d2139fc93dad051d06"/><link rel="dns-prefetch" href="https://d2cy1obokpvee9.cloudfront.net/"/><link rel="icon" type="image/png" href="https://d2cy1obokpvee9.cloudfront.net/manifest/favicon-196x196.png" sizes="196x196"/><link rel="icon" type="image/png" href="https://d2cy1obokpvee9.cloudfront.net/manifest/favicon-128.png" sizes="128x128"/><link rel="icon" type="image/png" href="https://d2cy1obokpvee9.cloudfront.net/manifest/favicon-96x96.png" sizes="96x96"/><link rel="icon" type="image/png" href="https://d2cy1obokpvee9.cloudfront.net/manifest/favicon-32x32.png" sizes="32x32"/><link rel="icon" type="image/png" href="https://d2cy1obokpvee9.cloudfront.net/manifest/favicon-16x16.png" sizes="16x16"/><style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }

          html,
          body {
            font-size: 16px;
            font-family: Maison Neue, sans-serif;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
          }
        </style><script src="https://d3qy0ae439eg67.cloudfront.net/cdn/da7ae6c0-9455-11ea-9b03-c97f7c5e49d9.js"></script><meta name="next-head-count" content="21"/><link rel="preload" href="_next/static/5ca6c1ecbe5c9b23ac66836b5e096d6b6c6ce25f/pages/tutorials.js" as="script"/><link rel="preload" href="_next/static/5ca6c1ecbe5c9b23ac66836b5e096d6b6c6ce25f/pages/_app.js" as="script"/><link rel="preload" href="_next/static/runtime/webpack-b65cab0b00afd201cbda.js" as="script"/><link rel="preload" href="_next/static/chunks/framework.8f8ac35b6c50c5d44e18.js" as="script"/><link rel="preload" href="_next/static/chunks/commons.5bea89f818e6d7d50d28.js" as="script"/><link rel="preload" href="_next/static/runtime/main-584a95128cf78f0fbea3.js" as="script"/><link rel="preload" href="_next/static/chunks/76f4f697.bba43166686acfbb5f45.js" as="script"/><link rel="preload" href="_next/static/chunks/40541903ab1c1ac841a57dd2b1fba9dfbed8c9ab.d608edb81271263c90db.js" as="script"/><link rel="preload" href="_next/static/chunks/5cad565c69a90ad2361a05d3169ab69cc3ef1b5b.50169a8607cbe0f0091c.js" as="script"/></head><body><div class="root"><div id="__next"><main><style data-emotion-css="10izwvm">.css-10izwvm{width:100%;margin:0 auto;}</style><nav class="css-10izwvm e15rrn890"><style data-emotion-css="rk6moy">.css-rk6moy{max-width:75rem;margin:0 auto;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;z-index:2;padding:0.75rem 1rem;}@media all and (min-width:760px){.css-rk6moy{padding:1rem;}}</style><div class="css-rk6moy e15rrn891"><style data-emotion-css="1xvir01">.css-1xvir01{display:inline-block;}@media all and (min-width:760px){.css-1xvir01{display:inline-block;}}</style><div class="css-1xvir01 e8wkac50"><a href="index.html"><style data-emotion-css="1rjgloz">.css-1rjgloz{display:inline-block;width:144px;height:38px;vertical-align:middle;}</style><span class="css-1rjgloz e8wkac52"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1203.43 317.2"><path fill="#300d4f" d="M102.66 316.72v-79.51a.46.46 0 0 1 .24-.41l102.18-59a.46.46 0 0 0 .24-.41v-22.61a.47.47 0 0 0-.71-.41l-101.24 58.45a.47.47 0 0 1-.71-.41v-22.62a.47.47 0 0 1 .24-.41l102.18-59a.49.49 0 0 0 .24-.41v-22.61a.48.48 0 0 0-.71-.41L103.37 165.4a.47.47 0 0 1-.71-.41v-22.61a.46.46 0 0 1 .24-.41L205.08 83a.47.47 0 0 0 .24-.41V59.67a1 1 0 0 0-.47-.82L103.13.13a.93.93 0 0 0-.94 0L82.84 11.3a.47.47 0 0 0 0 .82l101.24 58.45a.48.48 0 0 1 0 .82l-19.35 11.17a1 1 0 0 1-.95 0L62.07 23.84a1 1 0 0 0-1 0L41.78 35a.47.47 0 0 0 0 .82L143 94.28a.47.47 0 0 1 0 .82l-19.34 11.17a1 1 0 0 1-1 0L21 47.54a1 1 0 0 0-1 0L0 59.12V258a.46.46 0 0 0 .24.41l19.58 11.31a.47.47 0 0 0 .71-.41V71.8a.47.47 0 0 1 .71-.41L40.83 82.7a.47.47 0 0 1 .23.41v198.6a.47.47 0 0 0 .24.41l19.58 11.31a.48.48 0 0 0 .72-.42V95.51a.47.47 0 0 1 .71-.41l19.58 11.3a.47.47 0 0 1 .24.41v198.61a.49.49 0 0 0 .23.41l19.64 11.3a.47.47 0 0 0 .66-.41z"></path><g fill="#300d4f"><path d="M308 254.11V62.7a3.56 3.56 0 0 1 3.66-3.58h56.9c36.08 0 58.49 21 58.49 56.18s-25.43 57.58-58.81 57.58h-30.38a1.91 1.91 0 0 0-1.91 1.86v79.68a3.56 3.56 0 0 1-3.65 3.58h-20.66a4.07 4.07 0 0 1-3.64-3.89zm60.56-104.89c19.07 0 29.88-15.87 29.88-33.92 0-18.68-9.85-32.84-29.88-32.84h-30.7a1.92 1.92 0 0 0-1.86 1.87v63a1.91 1.91 0 0 0 1.91 1.87z"></path><path d="M544.81 58.81h20.66a3.56 3.56 0 0 1 3.66 3.58V207c0 32.84-26.86 52.91-58.33 52.91-30.84 0-57.7-20.23-57.7-52.91V62.39a3.56 3.56 0 0 1 3.65-3.58h20.35a3.56 3.56 0 0 1 3.66 3.58v144.1c0 17.89 13.66 29.25 29.88 29.25s30.2-11.36 30.2-29.25v-144a4.2 4.2 0 0 1 3.97-3.68z"></path><path d="M640.18 157.16c-19.71-13.23-32.9-28-32.9-50.27 0-31.9 26.86-50.26 57.38-50.26 28.76 0 54 16 55.47 56.49a3.83 3.83 0 0 1-3.66 3.89h-18.91a3.64 3.64 0 0 1-3.66-3.42c-1.27-22-14.46-32.53-31-32.53-15.9 0-27.82 9.34-27.82 24.28 0 12.91 7.79 19.92 28.14 34.23l28.45 20.54c19.71 14.32 30.83 27.24 30.83 47.62 0 33-27.18 52.6-59.13 52.6-30.2 0-54-16.49-56.58-56.95a3.64 3.64 0 0 1 3.66-3.9h19.23a3.75 3.75 0 0 1 3.65 3.43c1.75 22.56 15.26 33 31.16 33 15.26 0 29.56-8.25 29.56-27.55 0-12-5.4-17.89-21-28.32z"></path><path d="M855.55 254.11v-83.72a1.91 1.91 0 0 0-1.91-1.87h-60.87a1.91 1.91 0 0 0-1.91 1.87v83.72a3.56 3.56 0 0 1-3.66 3.57h-20.66a3.56 3.56 0 0 1-3.66-3.57V62.7a3.56 3.56 0 0 1 3.66-3.58h20.66a3.56 3.56 0 0 1 3.66 3.58v80a1.91 1.91 0 0 0 1.91 1.86h60.87a1.91 1.91 0 0 0 1.91-1.86v-80a3.56 3.56 0 0 1 3.66-3.58h20.66a3.56 3.56 0 0 1 3.66 3.58v191.56a3.56 3.56 0 0 1-3.66 3.58h-20.66a3.69 3.69 0 0 1-3.66-3.73z"></path><path d="M935.82 254.11V62.7a3.56 3.56 0 0 1 3.65-3.58h101.09a3.56 3.56 0 0 1 3.66 3.58v16.65a3.56 3.56 0 0 1-3.66 3.58H965.7a1.92 1.92 0 0 0-1.91 1.87v58.66a1.91 1.91 0 0 0 1.91 1.87h51.5a3.56 3.56 0 0 1 3.65 3.58v16.65a3.56 3.56 0 0 1-3.65 3.58h-51.5a1.92 1.92 0 0 0-1.91 1.87v61a1.92 1.92 0 0 0 1.91 1.87h74.86a3.66 3.66 0 0 1 3.66 3.58v16.65a3.66 3.66 0 0 1-3.66 3.57H939.47a3.46 3.46 0 0 1-3.65-3.57z"></path><path d="M1173.28 254.11l-30.51-83.26a1.86 1.86 0 0 0-1.75-1.24h-28.29a1.91 1.91 0 0 0-1.91 1.86v82.64a3.56 3.56 0 0 1-3.66 3.57h-20.66a3.55 3.55 0 0 1-3.65-3.57V62.7a3.56 3.56 0 0 1 3.65-3.58h56.59c34.65 0 58.49 21.94 58.49 54.47 0 21.63-11.45 39.68-32.43 50.26a.8.8 0 0 0-.47 1.09l34.49 88.23a3.66 3.66 0 0 1-3.5 5h-21.46a6.72 6.72 0 0 1-4.93-4.06zm-32.42-107.22c16.69 0 31.63-11.67 31.63-32.21 0-18.37-11.92-32.22-31.63-32.22h-28.13a1.74 1.74 0 0 0-1.75 1.71v60.69a1.91 1.91 0 0 0 1.91 1.87z"></path></g></svg></span></a></div><style data-emotion-css="fcohl9">.css-fcohl9{display:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media all and (min-width:760px){.css-fcohl9{display:none;}}</style><div class="css-fcohl9 e8wkac51"><a href="index.html"><style data-emotion-css="5xa07n">.css-5xa07n{width:25px;display:inline-block;vertical-align:middle;line-height:0;}</style><span class="css-5xa07n"><svg id="svg-object" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 201" width="100%"><path id="one" d="M130.94 38.5l.27 1.55-12.34 6.56-.57-.88c.18-.26.12-.81-.2-.97L54.3 7.96c-.4-.2-.4-.8 0-1L65.1.76c.2-.1.4-.1.6 0l65 37.5c.11.05.2.14.24.25z" fill="#300D4F" class="css-0 e1urnhlf0"></path><path id="two" d="M104.13 53.85a.64.64 0 0 1-.43-.06l-65-37.5c-.2-.1-.4-.1-.6 0l-10.8 6.2c-.4.2-.4.8 0 1l63.8 36.8c.4.2.4.8 0 1l.58.96 13.18-7.76-.73-.64z" fill="#300D4F" class="css-0 e1urnhlf0"></path><path id="three" d="M77.59 69.1a.64.64 0 0 1-.43-.06l-65-37.5c-.2-.1-.4-.1-.6 0l-10.8 6.2c-.4.2-.4.98 0 1.18l63.8 36.62c1 .5.86.95 1.02 1.43l12.76-7.13-.75-.74z" fill="#300D4F" class="css-0 e1urnhlf0"></path><path id="four" d="M65.53 136.49H64.2v15l1.33-.47c.05-.1.13-.2.25-.25l65-37.5c.2-.1.3-.3.3-.5v-12.5c0-.5-.5-.7-.9-.5l-63.8 37c-.32.16-.7 0-.85-.28z" fill="#300D4F" class="css-0 e1urnhlf1"></path><path id="five" d="M65.58 106.23h-1.09v14.9l1.09-.36c.04-.1.13-.2.24-.26l65-37.5c.2-.1.3-.3.3-.5v-12.5c0-.5-.5-.7-.9-.5l-63.8 37c-.32.16-.7 0-.84-.28z" fill="#300D4F" class="css-0 e1urnhlf1"></path><path id="six" d="M131.17 38.95v13.1c0 .3-.1.4-.3.5l-65 37.5c-.2.1-.3.3-.3.5h-1.33V75.98h1.3l65.4-37.48c.15.1.23.28.23.45z" fill="#300D4F" class="css-0 e1urnhlf1"></path><path id="seven" d="M65.5 76.02v-1.39l-12.39-6.92v1.22c.2.1.3.3.3.5v124.3c0 .2.1.4.3.5l10.8 6.2c.4.2.9-.1.9-.5 0-41.42.2-82.27.1-123.9z" fill="#300D4F" class="css-0 e1urnhlf2"></path><path id="eight" d="M26.5 53.58c.2.1.3.3.3.5v124.3c0 .2.1.4.3.5l10.8 6.2c.4.2.9-.1.9-.5V61.68c0-.5.5-.7.9-.5v-1.73l-13.2-7.34v1.47z" fill="#300D4F" class="css-0 e1urnhlf2"></path><path id="nine" d="M.46 38.13c-.03.07 0 .68 0 .75v124.3c0 .2.1.4.3.5l10.8 6.2c.4.2.9-.1.9-.5V46.48c0-.4.37-.63.7-.59l1.3-.52-13.3-7.64-.7.4z" fill="#300D4F" class="css-0 e1urnhlf2"></path></svg></span></a></div><style data-emotion-css="1w30q6i">.css-1w30q6i{position:relative;z-index:2;background-color:#ffffff;}@media all and (min-width:960px){.css-1w30q6i{display:none;}}</style><div class="css-1w30q6i ey74b780"><style data-emotion-css="16tdi1w">.css-16tdi1w{position:relative;display:block;z-index:2;margin:.5rem;}.css-16tdi1w path{-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;opacity:100;-webkit-transition:-webkit-transform .3s,opacity .3s;-webkit-transition:transform .3s,opacity .3s;transition:transform .3s,opacity .3s;}</style><svg viewBox="0 0 900 900" fill="#300D4F" width="30px" class="css-16tdi1w ey74b781"><path d="M145 609l609 0c74,0 74,111 0,111l-609 0c-74,0 -74,-111 0,-111z" id="dash_bottom"></path><path d="M146 394c203,0 406,0 609,0 74,0 74,111 0,111 -203,0 -406,0 -609,0 -74,0 -74,-111 0,-111z" id="dash_middle"></path><path d="M146 179l609 0c74,0 74,111 0,111l-609 0c-74,0 -74,-111 0,-111z" id="dash_top"></path></svg><style data-emotion-css="1vzfu1c">.css-1vzfu1c{background-color:#ffffff;position:absolute;top:-1rem;right:-1rem;width:100vw;visibility:hidden;-webkit-transition:.2s linear all;transition:.2s linear all;-webkit-transform:scale(.95);-ms-transform:scale(.95);transform:scale(.95);-webkit-transform-origin:top right;-ms-transform-origin:top right;transform-origin:top right;opacity:0;border-radius:2px;box-shadow:0px -6px 10px rgba(0,0,0,0.1),0px 3px 4px rgba(0,0,0,0.1);}@media all and (min-width:400px){.css-1vzfu1c{width:auto;min-width:340px;}}</style><div class="css-1vzfu1c ey74b782"><style data-emotion-css="1imlk2a">.css-1imlk2a{padding-bottom:0;}</style><style data-emotion-css="2xoy5l">.css-2xoy5l{padding:0.7rem;border-top-right-radius:2px;border-top-left-radius:2px;padding-bottom:0;}</style><div class="css-2xoy5l ey74b784"><style data-emotion-css="1ays0sq">.css-1ays0sq{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:#300D4F;font-family:italian-plate,sans-serif;font-weight:600;-webkit-letter-spacing:0.03em;-moz-letter-spacing:0.03em;-ms-letter-spacing:0.03em;letter-spacing:0.03em;text-transform:uppercase;line-height:1.2;margin:0.5rem 0.7rem;display:inline-block;text-transform:uppercase;color:#300D4F;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;font-size:30px !important;}@media all and (min-width:400px){.css-1ays0sq{font-size:18px;}}@media all and (min-width:760px){.css-1ays0sq{font-size:18px;}}@media all and (min-width:960px){.css-1ays0sq{font-size:18px;}}@media all and (min-width:1200px){.css-1ays0sq{font-size:18px;}}</style><span class="css-1ays0sq ey74b783">Products</span></div><style data-emotion-css="r5j97r">.css-r5j97r{padding:0.7rem;border-radius:0;}</style><div type="primary" class="css-r5j97r ey74b784"><style data-emotion-css="1y45fp7">.css-1y45fp7{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0.5rem;box-shadow:0px 0px 10px rgba(0,0,0,0.12);}</style><div class="css-1y45fp7"><style data-emotion-css="4s0ue6">.css-4s0ue6{display:block;padding:1rem 0.5rem;background:transparent;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:.1s background linear;transition:.1s background linear;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:end;-webkit-box-align:end;-ms-flex-align:end;align-items:end;width:100%;}.css-4s0ue6:hover{background:#F6F6F6;}.css-4s0ue6:hover{background:#F6F6F6;}</style><a href="index-2.html" type="primary" class="css-4s0ue6 e1xsodxy0"><div><style data-emotion-css="1w8jm51">.css-1w8jm51{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:2rem;cursor:pointer;}.css-1w8jm51 svg{width:auto;height:26px;}</style><span class="css-1w8jm51 eyw1ojh0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1170.84 200"><title>channels_full-logo</title><g fill="#300D4F"><path d="M326.39,37.64c25.37,0,45.08,17.48,47.82,42.85L349.36,84.6c-2.58-15.25-10.8-23.82-23-23.82-17.32,0-27.6,14.74-27.6,39.42s10.28,39.42,27.6,39.42c12.85,0,21.08-9.08,23.31-25.71l24.85,4.29c-3.08,26.91-21.94,44.56-48.16,44.56-32.06,0-53-24.68-53-62.56S294.33,37.64,326.39,37.64Z"></path><path d="M397.17,40.21h25.37v47h38.91v-47h25.37v120H461.45V110.31H422.54v49.88H397.17Z"></path><path d="M583.14,141.51H537.2l-6.34,18.68h-25.2l42.85-120h23.31l42.86,120h-25.2Zm-7.72-22.28L560.34,75H560l-15.08,44.23Z"></path><path d="M633.35,40.21h26L700,116.48h.34V40.21h25.37v120H699.68L659.06,83.91h-.34v76.28H633.35Z"></path><path d="M757.09,40.21h26.06l40.62,76.27h.34V40.21h25.37v120H823.43L782.81,83.91h-.35v76.28H757.09Z"></path><path d="M880.84,40.21h77.3V63.52H906.21V87.86h47.3v22.28h-47.3v26.74h52.1v23.31H880.84Z"></path><path d="M984.7,40.21h25.37v96.67h50.74v23.31H984.7Z"></path><path d="M1100.74,115.28C1104,133.11,1111,140,1127,140c11.83,0,18.51-4.29,18.51-11.83,0-8.4-5.65-12.51-25.71-19.37-27.94-9.43-38.39-19.54-38.39-37.2,0-20,16.8-33.93,40.62-33.93,23.48,0,41.82,14.22,45.6,35.31l-24.69,5.31c-3.25-12.17-9.94-17.83-20.91-17.83-9.43,0-15.6,4.29-15.6,11,0,6.17,5.14,9.6,23,15.6,14.91,5.14,25.71,10.8,32.06,17.14s9.42,14.23,9.42,24c0,20.74-18,34.62-44.22,34.62-28.63,0-46.45-14.74-50.74-42.16Z"></path></g><g fill="#6a52ff"><path d="M127.12,10,109.92.11a.84.84,0,0,0-.84,0L91.67,10.16a.84.84,0,0,1-.84,0L73.42.11a.84.84,0,0,0-.84,0L55.38,10a.42.42,0,0,0,0,.73L91,31.36a.45.45,0,0,0,.42,0l35.66-20.59A.42.42,0,0,0,127.12,10Z"></path><path d="M163.62,31.11l-17.2-9.92a.84.84,0,0,0-.84,0L91.67,52.31a.84.84,0,0,1-.84,0L36.92,21.19a.84.84,0,0,0-.84,0l-17.2,9.92a.42.42,0,0,0,0,.73L91,73.5a.4.4,0,0,0,.42,0l72.16-41.66A.42.42,0,0,0,163.62,31.11Z"></path><path d="M109.5,84.65v19.86a.42.42,0,0,0,.63.36l72.16-41.66a.41.41,0,0,0,.21-.36V43.48a.84.84,0,0,0-1.26-.73L109.92,83.92A.84.84,0,0,0,109.5,84.65Z"></path><path d="M110.13,147l72.16-41.66a.44.44,0,0,0,.21-.37V85.62a.84.84,0,0,0-1.26-.73l-71.32,41.18a.83.83,0,0,0-.42.73v19.85A.42.42,0,0,0,110.13,147Z"></path><path d="M91.25,177.53V95.19a.83.83,0,0,0-.42-.73L74.26,84.89a.84.84,0,0,0-1.26.73V167a.84.84,0,0,1-1.26.73l-16.57-9.57a.84.84,0,0,1-.42-.73V74.11a.84.84,0,0,0-.42-.73L37.76,63.82a.84.84,0,0,0-1.26.73v81.37a.84.84,0,0,1-1.26.73l-16.57-9.56a.84.84,0,0,1-.42-.73V53a.84.84,0,0,0-.42-.73L1.26,42.75A.84.84,0,0,0,0,43.48V147.14a.41.41,0,0,0,.21.36L91,199.94a.4.4,0,0,0,.42,0l90.83-52.44a.41.41,0,0,0,.21-.36V127.77a.84.84,0,0,0-1.26-.73L92.51,178.26A.84.84,0,0,1,91.25,177.53Z"></path></g></svg></span><style data-emotion-css="1yvjfro">.css-1yvjfro{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:#300D4F;margin-bottom:1rem;white-space:nowrap;font-size:16px !important;overflow:hidden;text-overflow:ellipsis;margin-top:0.5rem;margin-bottom:0;margin-left:35px;}@media all and (min-width:400px){.css-1yvjfro{font-size:18px;}}@media all and (min-width:760px){.css-1yvjfro{font-size:18px;}}@media all and (min-width:960px){.css-1yvjfro{font-size:18px;}}@media all and (min-width:1200px){.css-1yvjfro{font-size:18px;}}.css-1yvjfro a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-1yvjfro a:hover{color:white;background-color:#300D4F;border-bottom:none;}</style><p class="css-1yvjfro e1xsodxy1">Build scalable realtime features</p></div></a><a href="index-3.html" type="primary" class="css-4s0ue6 e1xsodxy0"><div><span class="css-1w8jm51 eyw1ojh0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 809.21 200"><defs><style></style></defs><title>beams_full-logo</title><g fill="#2ae9aa"><path d="M85.58,40.65l-15.75,9.1a.79.79,0,0,0-.4.69V190a.39.39,0,0,0,.2.35L86.18,200a.4.4,0,0,0,.6-.35V41.35A.81.81,0,0,0,85.58,40.65Z"></path><path d="M104.14,189.58v-18a.81.81,0,0,1,1.2-.7l15,8.64a.8.8,0,0,1,0,1.39l-15.55,9A.39.39,0,0,1,104.14,189.58Z"></path><path d="M104.14,150V131.54a.8.8,0,0,1,1.2-.7L155,159.52a.8.8,0,0,1,0,1.38l-16,9.21a.36.36,0,0,1-.4,0L104.34,150.3A.4.4,0,0,1,104.14,150Z"></path><path d="M104.14,109.87V91.45a.8.8,0,0,1,1.2-.69l67.83,39.16a.8.8,0,0,1,.4.69v18.88a.41.41,0,0,1-.61.35l-68.62-39.62A.4.4,0,0,1,104.14,109.87Z"></path><path d="M104.14,69.79V51.37a.81.81,0,0,1,1.2-.7l67.83,39.16a.83.83,0,0,1,.4.7v18.88a.41.41,0,0,1-.61.35L104.34,70.14A.42.42,0,0,1,104.14,69.79Z"></path><path d="M50.87,60.7,35.11,69.79a.82.82,0,0,0-.4.69V170a.43.43,0,0,0,.2.35l16.56,9.55a.39.39,0,0,0,.6-.34V61.39A.8.8,0,0,0,50.87,60.7Z"></path><path d="M16.15,80.74.4,89.83a.81.81,0,0,0-.4.7V150a.4.4,0,0,0,.2.34l16.56,9.56a.4.4,0,0,0,.6-.34V81.43A.8.8,0,0,0,16.15,80.74Z"></path><path d="M0,69.33V50.44a.79.79,0,0,1,.4-.69L86.38.11a.77.77,0,0,1,.8,0l86,49.64a.82.82,0,0,1,.4.69V69.33a.4.4,0,0,1-.61.34L87,20a.41.41,0,0,0-.4,0L.6,69.67A.39.39,0,0,1,0,69.33Z"></path></g><g fill="#300D4F"><path d="M260,43.13H309.6c19.72,0,33.9,12.88,33.9,30.65,0,9.29-4.4,17-11.57,21.36v.32c9.78,4.57,15.82,14.35,15.82,26.25,0,24-14.19,35.54-43.37,35.54H260Zm46.13,45.49c8.64,0,13.37-4.24,13.37-12.07,0-7.66-4.73-11.9-13.37-11.9h-22v24Zm2.61,47.11c10.27,0,15-4.57,15-14.19,0-9-5.22-13.85-14.83-13.85H284.17v28Z"></path><path d="M371.21,43.13h73.52V65.3H395.34V88.45h45v21.19h-45v25.44h49.55v22.17H371.21Z"></path><path d="M531.61,139.48H487.92l-6,17.77h-24L498.68,43.13h22.17l40.76,114.12h-24Zm-7.34-21.19L509.93,76.23h-.33l-14.34,42.06Z"></path><path d="M579.36,43.13H606.1l31.95,76.79h.33l32.11-76.79h26.73V157.25H673.59V86.82h-.33l-29.83,70.43H633L603.33,86.82H603v70.43H579.36Z"></path><path d="M742.53,114.54c3.1,17,9.78,23.47,24.94,23.47,11.25,0,17.61-4.07,17.61-11.25,0-8-5.38-11.9-24.45-18.42-26.57-9-36.52-18.58-36.52-35.37,0-19.08,16-32.28,38.64-32.28,22.33,0,39.77,13.53,43.36,33.58l-23.48,5c-3.09-11.57-9.45-16.95-19.88-16.95-9,0-14.84,4.08-14.84,10.43,0,5.87,4.89,9.13,21.85,14.84,14.18,4.89,24.45,10.27,30.48,16.3s9,13.53,9,22.82c0,19.73-17.12,32.93-42.06,32.93-27.23,0-44.18-14-48.26-40.1Z"></path></g></svg></span><p class="css-1yvjfro e1xsodxy1">Programmatic push notifications</p></div></a></div></div><div type="secondary" class="css-r5j97r ey74b784"><style data-emotion-css="jky6of">.css-jky6of{font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;display:block;padding:0.6rem;color:#300D4F;-webkit-text-decoration:none;text-decoration:none;font-size:18px;}</style><a href="docs.html" type="secondary" class="css-jky6of er9zuxy0">Docs</a><a href="index-4.html" type="secondary" class="css-jky6of er9zuxy0">Customers</a><a href="index-8.html" type="secondary" class="css-jky6of er9zuxy0">Contact sales</a></div><style data-emotion-css="1pajrte">.css-1pajrte{margin:0 auto;width:100%;padding:1.75rem 2.5rem;border-top:2px solid #f5f4f4;}</style><style data-emotion-css="bfp8qa">.css-bfp8qa{padding:0.7rem;border-radius:2px;margin:0 auto;width:100%;padding:1.75rem 2.5rem;border-top:2px solid #f5f4f4;}</style><div type="secondary" class="css-bfp8qa ey74b784"><style data-emotion-css="1hyfx7x">.css-1hyfx7x{display:none;}</style><div class="css-1hyfx7x"><style data-emotion-css="124e4c5">.css-124e4c5{font-family:maison-neue,sans-serif;font-weight:700;line-height:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;border:none;outline:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:inline-block;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;padding:1rem;border-radius:2px;font-size:1rem;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;-webkit-transition:box-shadow .2s ease,background-color .2s ease,-webkit-transform .2s ease;-webkit-transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;position:relative;line-height:24px;color:#300D4F;background-color:transparent;padding:0;margin:0 8px 6px;border-radius:0;box-shadow:none;}.css-124e4c5:before{content:" ";position:absolute;left:0;right:100%;bottom:-2px;z-index:5;background:#300D4F;height:3px;-webkit-transition-property:right;transition-property:right;-webkit-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;}.css-124e4c5:after{content:" ";position:absolute;left:0;right:0;z-index:4;bottom:-2px;background:#C223CE;height:3px;}.css-124e4c5:hover,.css-124e4c5:focus{box-shadow:none;outline:none;}.css-124e4c5:hover:before,.css-124e4c5:focus:before{right:0;}</style><a href="https://dashboard.pusher.com/accounts/sign_in" kind="tertiary" class="css-124e4c5 ermq5n0">Sign in</a></div><div><style data-emotion-css="k7lhnn">.css-k7lhnn{width:100%;margin-left:0;}</style><style data-emotion-css="jfhgfv">.css-jfhgfv{font-family:maison-neue,sans-serif;font-weight:700;line-height:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;border:none;outline:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:inline-block;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;padding:1rem;border-radius:2px;font-size:1rem;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;-webkit-transition:box-shadow .2s ease,background-color .2s ease,-webkit-transform .2s ease;-webkit-transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;padding:0.875rem 1rem;color:white;background-color:#C223CE;border:2px solid #C223CE;-webkit-transition:all 0.1s ease;transition:all 0.1s ease;width:100%;margin-left:0;}.css-jfhgfv:hover,.css-jfhgfv:focus{color:#300D4F;background-color:transparent;box-shadow:inset 12em 0 0 0 transparent;}.css-jfhgfv:active{color:#300D4F;background-color:transparent;box-shadow:inset 12em 0 0 0 transparent;}</style><a href="https://dashboard.pusher.com/accounts/sign_up" kind="primary" class="css-jfhgfv ermq5n0">Get your free account</a></div></div></div></div><style data-emotion-css="n7priw">.css-n7priw{display:none;}@media all and (min-width:960px){.css-n7priw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;cursor:pointer;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}}.css-n7priw > div:first-of-type > div{-webkit-transform:translate3d(-50%,10px,0);-ms-transform:translate3d(-50%,10px,0);transform:translate3d(-50%,10px,0);}.css-n7priw > div:first-of-type:hover > div{-webkit-transform:translate3d(-50%,0px,0);-ms-transform:translate3d(-50%,0px,0);transform:translate3d(-50%,0px,0);}</style><div class="css-n7priw e15rrn892"><style data-emotion-css="16f4mmd">.css-16f4mmd{position:relative;display:inline-block;}.css-16f4mmd:hover > div{-webkit-transform:translate3d(-51%,0,0);-ms-transform:translate3d(-51%,0,0);transform:translate3d(-51%,0,0);opacity:1;visibility:visible;}</style><div class="css-16f4mmd e1qa80lw0"><style data-emotion-css="11ismyt">.css-11ismyt{font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;color:#300D4F;border:0;font-size:1rem;height:40px;line-height:40px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 24px;cursor:pointer;border-radius:2px;min-height:40px;-webkit-transition:0.05s linear all;transition:0.05s linear all;outline:none;background:transparent;-webkit-text-decoration:none;text-decoration:none;}</style><a class="css-11ismyt e1qa80lw2">Products<style data-emotion-css="1h2opr7">.css-1h2opr7{display:inline-block;margin-left:0.4rem;-webkit-transform:translate3d(0,2px,0);-ms-transform:translate3d(0,2px,0);transform:translate3d(0,2px,0);}</style><svg width="12" height="8" viewBox="0 0 12 8" class="css-1h2opr7 e1qa80lw3"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 7.66L.34 2 1.76.59 6 4.83 10.24.59 11.66 2 6 7.66z" fill="#300D4F"></path></svg></a><style data-emotion-css="1lf5qfn">.css-1lf5qfn{position:absolute;padding:0.5rem;z-index:2;background:white;top:114%;left:50%;list-style:none;visibility:hidden;-webkit-transform:translate3d(-51%,10px,0);-ms-transform:translate3d(-51%,10px,0);transform:translate3d(-51%,10px,0);-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;opacity:0;cursor:auto;box-shadow:0px -6px 10px rgba(0,0,0,0.1),0px 3px 4px rgba(0,0,0,0.1);border-radius:4px;}.css-1lf5qfn a:first-of-type{margin-top:0;}</style><div class="css-1lf5qfn e1qa80lw1"><style data-emotion-css="49ft7v">.css-49ft7v{position:absolute;top:-14px;left:calc(50% - 10px);}</style><span class="css-49ft7v"><svg width="20" height="12" viewBox="0 0 20 12" fill="none"><path d="M20 12H0L10 0l10 12z" fill="#fff"></path></svg></span><style data-emotion-css="1mikpth">.css-1mikpth{display:block;background:transparent;padding:1rem;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:.1s background linear;transition:.1s background linear;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-1mikpth:hover{background:#F6F6F6;}@media all and (min-width:960px){.css-1mikpth{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><a href="index-2.html" class="css-1mikpth e1ob8a130"><div><span class="css-1w8jm51 eyw1ojh0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1170.84 200"><title>channels_full-logo</title><g fill="#300D4F"><path d="M326.39,37.64c25.37,0,45.08,17.48,47.82,42.85L349.36,84.6c-2.58-15.25-10.8-23.82-23-23.82-17.32,0-27.6,14.74-27.6,39.42s10.28,39.42,27.6,39.42c12.85,0,21.08-9.08,23.31-25.71l24.85,4.29c-3.08,26.91-21.94,44.56-48.16,44.56-32.06,0-53-24.68-53-62.56S294.33,37.64,326.39,37.64Z"></path><path d="M397.17,40.21h25.37v47h38.91v-47h25.37v120H461.45V110.31H422.54v49.88H397.17Z"></path><path d="M583.14,141.51H537.2l-6.34,18.68h-25.2l42.85-120h23.31l42.86,120h-25.2Zm-7.72-22.28L560.34,75H560l-15.08,44.23Z"></path><path d="M633.35,40.21h26L700,116.48h.34V40.21h25.37v120H699.68L659.06,83.91h-.34v76.28H633.35Z"></path><path d="M757.09,40.21h26.06l40.62,76.27h.34V40.21h25.37v120H823.43L782.81,83.91h-.35v76.28H757.09Z"></path><path d="M880.84,40.21h77.3V63.52H906.21V87.86h47.3v22.28h-47.3v26.74h52.1v23.31H880.84Z"></path><path d="M984.7,40.21h25.37v96.67h50.74v23.31H984.7Z"></path><path d="M1100.74,115.28C1104,133.11,1111,140,1127,140c11.83,0,18.51-4.29,18.51-11.83,0-8.4-5.65-12.51-25.71-19.37-27.94-9.43-38.39-19.54-38.39-37.2,0-20,16.8-33.93,40.62-33.93,23.48,0,41.82,14.22,45.6,35.31l-24.69,5.31c-3.25-12.17-9.94-17.83-20.91-17.83-9.43,0-15.6,4.29-15.6,11,0,6.17,5.14,9.6,23,15.6,14.91,5.14,25.71,10.8,32.06,17.14s9.42,14.23,9.42,24c0,20.74-18,34.62-44.22,34.62-28.63,0-46.45-14.74-50.74-42.16Z"></path></g><g fill="#6a52ff"><path d="M127.12,10,109.92.11a.84.84,0,0,0-.84,0L91.67,10.16a.84.84,0,0,1-.84,0L73.42.11a.84.84,0,0,0-.84,0L55.38,10a.42.42,0,0,0,0,.73L91,31.36a.45.45,0,0,0,.42,0l35.66-20.59A.42.42,0,0,0,127.12,10Z"></path><path d="M163.62,31.11l-17.2-9.92a.84.84,0,0,0-.84,0L91.67,52.31a.84.84,0,0,1-.84,0L36.92,21.19a.84.84,0,0,0-.84,0l-17.2,9.92a.42.42,0,0,0,0,.73L91,73.5a.4.4,0,0,0,.42,0l72.16-41.66A.42.42,0,0,0,163.62,31.11Z"></path><path d="M109.5,84.65v19.86a.42.42,0,0,0,.63.36l72.16-41.66a.41.41,0,0,0,.21-.36V43.48a.84.84,0,0,0-1.26-.73L109.92,83.92A.84.84,0,0,0,109.5,84.65Z"></path><path d="M110.13,147l72.16-41.66a.44.44,0,0,0,.21-.37V85.62a.84.84,0,0,0-1.26-.73l-71.32,41.18a.83.83,0,0,0-.42.73v19.85A.42.42,0,0,0,110.13,147Z"></path><path d="M91.25,177.53V95.19a.83.83,0,0,0-.42-.73L74.26,84.89a.84.84,0,0,0-1.26.73V167a.84.84,0,0,1-1.26.73l-16.57-9.57a.84.84,0,0,1-.42-.73V74.11a.84.84,0,0,0-.42-.73L37.76,63.82a.84.84,0,0,0-1.26.73v81.37a.84.84,0,0,1-1.26.73l-16.57-9.56a.84.84,0,0,1-.42-.73V53a.84.84,0,0,0-.42-.73L1.26,42.75A.84.84,0,0,0,0,43.48V147.14a.41.41,0,0,0,.21.36L91,199.94a.4.4,0,0,0,.42,0l90.83-52.44a.41.41,0,0,0,.21-.36V127.77a.84.84,0,0,0-1.26-.73L92.51,178.26A.84.84,0,0,1,91.25,177.53Z"></path></g></svg></span><style data-emotion-css="tmhpvz">.css-tmhpvz{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:#300D4F;margin-bottom:1rem;white-space:nowrap;font-size:16px !important;overflow:hidden;text-overflow:ellipsis;margin-top:8px;margin-bottom:0;margin-left:35px;}@media all and (min-width:400px){.css-tmhpvz{font-size:18px;}}@media all and (min-width:760px){.css-tmhpvz{font-size:18px;}}@media all and (min-width:960px){.css-tmhpvz{font-size:18px;}}@media all and (min-width:1200px){.css-tmhpvz{font-size:18px;}}.css-tmhpvz a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-tmhpvz a:hover{color:white;background-color:#300D4F;border-bottom:none;}</style><p class="css-tmhpvz e1ob8a132">Build scalable realtime features</p></div></a><a href="index-3.html" class="css-1mikpth e1ob8a130"><div><span class="css-1w8jm51 eyw1ojh0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 809.21 200"><defs><style></style></defs><title>beams_full-logo</title><g fill="#2ae9aa"><path d="M85.58,40.65l-15.75,9.1a.79.79,0,0,0-.4.69V190a.39.39,0,0,0,.2.35L86.18,200a.4.4,0,0,0,.6-.35V41.35A.81.81,0,0,0,85.58,40.65Z"></path><path d="M104.14,189.58v-18a.81.81,0,0,1,1.2-.7l15,8.64a.8.8,0,0,1,0,1.39l-15.55,9A.39.39,0,0,1,104.14,189.58Z"></path><path d="M104.14,150V131.54a.8.8,0,0,1,1.2-.7L155,159.52a.8.8,0,0,1,0,1.38l-16,9.21a.36.36,0,0,1-.4,0L104.34,150.3A.4.4,0,0,1,104.14,150Z"></path><path d="M104.14,109.87V91.45a.8.8,0,0,1,1.2-.69l67.83,39.16a.8.8,0,0,1,.4.69v18.88a.41.41,0,0,1-.61.35l-68.62-39.62A.4.4,0,0,1,104.14,109.87Z"></path><path d="M104.14,69.79V51.37a.81.81,0,0,1,1.2-.7l67.83,39.16a.83.83,0,0,1,.4.7v18.88a.41.41,0,0,1-.61.35L104.34,70.14A.42.42,0,0,1,104.14,69.79Z"></path><path d="M50.87,60.7,35.11,69.79a.82.82,0,0,0-.4.69V170a.43.43,0,0,0,.2.35l16.56,9.55a.39.39,0,0,0,.6-.34V61.39A.8.8,0,0,0,50.87,60.7Z"></path><path d="M16.15,80.74.4,89.83a.81.81,0,0,0-.4.7V150a.4.4,0,0,0,.2.34l16.56,9.56a.4.4,0,0,0,.6-.34V81.43A.8.8,0,0,0,16.15,80.74Z"></path><path d="M0,69.33V50.44a.79.79,0,0,1,.4-.69L86.38.11a.77.77,0,0,1,.8,0l86,49.64a.82.82,0,0,1,.4.69V69.33a.4.4,0,0,1-.61.34L87,20a.41.41,0,0,0-.4,0L.6,69.67A.39.39,0,0,1,0,69.33Z"></path></g><g fill="#300D4F"><path d="M260,43.13H309.6c19.72,0,33.9,12.88,33.9,30.65,0,9.29-4.4,17-11.57,21.36v.32c9.78,4.57,15.82,14.35,15.82,26.25,0,24-14.19,35.54-43.37,35.54H260Zm46.13,45.49c8.64,0,13.37-4.24,13.37-12.07,0-7.66-4.73-11.9-13.37-11.9h-22v24Zm2.61,47.11c10.27,0,15-4.57,15-14.19,0-9-5.22-13.85-14.83-13.85H284.17v28Z"></path><path d="M371.21,43.13h73.52V65.3H395.34V88.45h45v21.19h-45v25.44h49.55v22.17H371.21Z"></path><path d="M531.61,139.48H487.92l-6,17.77h-24L498.68,43.13h22.17l40.76,114.12h-24Zm-7.34-21.19L509.93,76.23h-.33l-14.34,42.06Z"></path><path d="M579.36,43.13H606.1l31.95,76.79h.33l32.11-76.79h26.73V157.25H673.59V86.82h-.33l-29.83,70.43H633L603.33,86.82H603v70.43H579.36Z"></path><path d="M742.53,114.54c3.1,17,9.78,23.47,24.94,23.47,11.25,0,17.61-4.07,17.61-11.25,0-8-5.38-11.9-24.45-18.42-26.57-9-36.52-18.58-36.52-35.37,0-19.08,16-32.28,38.64-32.28,22.33,0,39.77,13.53,43.36,33.58l-23.48,5c-3.09-11.57-9.45-16.95-19.88-16.95-9,0-14.84,4.08-14.84,10.43,0,5.87,4.89,9.13,21.85,14.84,14.18,4.89,24.45,10.27,30.48,16.3s9,13.53,9,22.82c0,19.73-17.12,32.93-42.06,32.93-27.23,0-44.18-14-48.26-40.1Z"></path></g></svg></span><p class="css-tmhpvz e1ob8a132">Programmatic push notifications</p></div></a></div></div><div class="css-16f4mmd e1qa80lw0"><a class="css-11ismyt e1qa80lw2">Developers<svg width="12" height="8" viewBox="0 0 12 8" class="css-1h2opr7 e1qa80lw3"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 7.66L.34 2 1.76.59 6 4.83 10.24.59 11.66 2 6 7.66z" fill="#300D4F"></path></svg></a><div class="css-1lf5qfn e1qa80lw1"><span class="css-49ft7v"><svg width="20" height="12" viewBox="0 0 20 12" fill="none"><path d="M20 12H0L10 0l10 12z" fill="#fff"></path></svg></span><style data-emotion-css="sqsh66">.css-sqsh66{display:block;background:transparent;padding:1rem;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:.1s background linear;transition:.1s background linear;border-radius:2px;}.css-sqsh66:hover{background:#F6F6F6;}</style><a href="docs.html" class="css-sqsh66 e1ob8a130"><style data-emotion-css="1dr5joc">.css-1dr5joc{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:#300D4F;margin-bottom:1rem;font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;font-size:20px !important;display:inline-block;margin-bottom:0;color:#300D4F;}@media all and (min-width:400px){.css-1dr5joc{font-size:18px;}}@media all and (min-width:760px){.css-1dr5joc{font-size:18px;}}@media all and (min-width:960px){.css-1dr5joc{font-size:18px;}}@media all and (min-width:1200px){.css-1dr5joc{font-size:18px;}}.css-1dr5joc a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-1dr5joc a:hover{color:white;background-color:#300D4F;border-bottom:none;}@media all and (min-width:960px):{.css-1dr5joc{font-size:16px !important;}}</style><p class="css-1dr5joc e1ob8a131">Docs</p><style data-emotion-css="lc4r3p">.css-lc4r3p{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:#300D4F;margin-bottom:1rem;white-space:nowrap;font-size:16px !important;overflow:hidden;text-overflow:ellipsis;margin-top:8px;margin-bottom:0;margin-left:0;}@media all and (min-width:400px){.css-lc4r3p{font-size:18px;}}@media all and (min-width:760px){.css-lc4r3p{font-size:18px;}}@media all and (min-width:960px){.css-lc4r3p{font-size:18px;}}@media all and (min-width:1200px){.css-lc4r3p{font-size:18px;}}.css-lc4r3p a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-lc4r3p a:hover{color:white;background-color:#300D4F;border-bottom:none;}</style><p class="css-lc4r3p e1ob8a132">Read the docs to learn how to use our products</p></a><a href="tutorials.html" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Tutorials</p><p class="css-lc4r3p e1ob8a132">Explore our tutorials to build apps with Pusher products</p></a><a href="https://support.pusher.com/hc/en-us" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Support</p><p class="css-lc4r3p e1ob8a132">Reach out to our support team for help and advice</p></a></div></div><div class="css-16f4mmd e1qa80lw0"><a class="css-11ismyt e1qa80lw2">Company<svg width="12" height="8" viewBox="0 0 12 8" class="css-1h2opr7 e1qa80lw3"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 7.66L.34 2 1.76.59 6 4.83 10.24.59 11.66 2 6 7.66z" fill="#300D4F"></path></svg></a><div class="css-1lf5qfn e1qa80lw1"><span class="css-49ft7v"><svg width="20" height="12" viewBox="0 0 20 12" fill="none"><path d="M20 12H0L10 0l10 12z" fill="#fff"></path></svg></span><a href="index-4.html" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Customer stories</p><p class="css-lc4r3p e1ob8a132">See how our customers use our products to delight their users</p></a><a href="index-7.html" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Careers</p><p class="css-lc4r3p e1ob8a132">Look at our available jobs and join us on our mission</p></a><a href="https://making.pusher.com/" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Making Pusher</p><p class="css-lc4r3p e1ob8a132">Stories from working at Pusher</p></a><a href="https://blog.pusher.com/" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Pusher Blog</p><p class="css-lc4r3p e1ob8a132">Read our updates and opinions on realtime technology</p></a></div></div></div><style data-emotion-css="17vt6k1">.css-17vt6k1{display:none;}@media all and (min-width:960px){.css-17vt6k1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;cursor:pointer;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}}</style><div class="css-17vt6k1 e15rrn892"><style data-emotion-css="1baulvz">.css-1baulvz{display:inline-block;}</style><div class="css-1baulvz"><a href="https://dashboard.pusher.com/accounts/sign_in" kind="tertiary" class="css-124e4c5 ermq5n0">Sign in</a></div><div><style data-emotion-css="csgx77">.css-csgx77{width:auto;margin-left:1rem;}</style><style data-emotion-css="1ubdrc8">.css-1ubdrc8{font-family:maison-neue,sans-serif;font-weight:700;line-height:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;border:none;outline:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:inline-block;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;padding:1rem;border-radius:2px;font-size:1rem;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;-webkit-transition:box-shadow .2s ease,background-color .2s ease,-webkit-transform .2s ease;-webkit-transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;padding:0.875rem 1rem;color:white;background-color:#C223CE;border:2px solid #C223CE;-webkit-transition:all 0.1s ease;transition:all 0.1s ease;width:auto;margin-left:1rem;}.css-1ubdrc8:hover,.css-1ubdrc8:focus{color:#300D4F;background-color:transparent;box-shadow:inset 12em 0 0 0 transparent;}.css-1ubdrc8:active{color:#300D4F;background-color:transparent;box-shadow:inset 12em 0 0 0 transparent;}</style><a href="https://dashboard.pusher.com/accounts/sign_up" kind="primary" class="css-1ubdrc8 ermq5n0">Sign up</a></div></div></div></nav><style data-emotion-css="cjdr47">.css-cjdr47{display:none;background-color:white;}@media all and (min-width:960px){.css-cjdr47{display:inline-block;width:100%;position:fixed;top:0;-webkit-transform:translateY(-120%);-ms-transform:translateY(-120%);transform:translateY(-120%);z-index:10;box-shadow:0px 2px 4px rgba(0,0,0,0.07);}}</style><div class="css-cjdr47 enjt0j72"><style data-emotion-css="17t3v76">.css-17t3v76{width:100%;max-width:75rem;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:1rem 1rem 0.75rem;position:relative;}</style><div class="css-17t3v76 enjt0j70"><a href="index.html"><span style="width:144px;height:38px;display:inline-block;vertical-align:middle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1203.43 317.2"><path fill="#300d4f" d="M102.66 316.72v-79.51a.46.46 0 0 1 .24-.41l102.18-59a.46.46 0 0 0 .24-.41v-22.61a.47.47 0 0 0-.71-.41l-101.24 58.45a.47.47 0 0 1-.71-.41v-22.62a.47.47 0 0 1 .24-.41l102.18-59a.49.49 0 0 0 .24-.41v-22.61a.48.48 0 0 0-.71-.41L103.37 165.4a.47.47 0 0 1-.71-.41v-22.61a.46.46 0 0 1 .24-.41L205.08 83a.47.47 0 0 0 .24-.41V59.67a1 1 0 0 0-.47-.82L103.13.13a.93.93 0 0 0-.94 0L82.84 11.3a.47.47 0 0 0 0 .82l101.24 58.45a.48.48 0 0 1 0 .82l-19.35 11.17a1 1 0 0 1-.95 0L62.07 23.84a1 1 0 0 0-1 0L41.78 35a.47.47 0 0 0 0 .82L143 94.28a.47.47 0 0 1 0 .82l-19.34 11.17a1 1 0 0 1-1 0L21 47.54a1 1 0 0 0-1 0L0 59.12V258a.46.46 0 0 0 .24.41l19.58 11.31a.47.47 0 0 0 .71-.41V71.8a.47.47 0 0 1 .71-.41L40.83 82.7a.47.47 0 0 1 .23.41v198.6a.47.47 0 0 0 .24.41l19.58 11.31a.48.48 0 0 0 .72-.42V95.51a.47.47 0 0 1 .71-.41l19.58 11.3a.47.47 0 0 1 .24.41v198.61a.49.49 0 0 0 .23.41l19.64 11.3a.47.47 0 0 0 .66-.41z"></path><g fill="#300d4f"><path d="M308 254.11V62.7a3.56 3.56 0 0 1 3.66-3.58h56.9c36.08 0 58.49 21 58.49 56.18s-25.43 57.58-58.81 57.58h-30.38a1.91 1.91 0 0 0-1.91 1.86v79.68a3.56 3.56 0 0 1-3.65 3.58h-20.66a4.07 4.07 0 0 1-3.64-3.89zm60.56-104.89c19.07 0 29.88-15.87 29.88-33.92 0-18.68-9.85-32.84-29.88-32.84h-30.7a1.92 1.92 0 0 0-1.86 1.87v63a1.91 1.91 0 0 0 1.91 1.87z"></path><path d="M544.81 58.81h20.66a3.56 3.56 0 0 1 3.66 3.58V207c0 32.84-26.86 52.91-58.33 52.91-30.84 0-57.7-20.23-57.7-52.91V62.39a3.56 3.56 0 0 1 3.65-3.58h20.35a3.56 3.56 0 0 1 3.66 3.58v144.1c0 17.89 13.66 29.25 29.88 29.25s30.2-11.36 30.2-29.25v-144a4.2 4.2 0 0 1 3.97-3.68z"></path><path d="M640.18 157.16c-19.71-13.23-32.9-28-32.9-50.27 0-31.9 26.86-50.26 57.38-50.26 28.76 0 54 16 55.47 56.49a3.83 3.83 0 0 1-3.66 3.89h-18.91a3.64 3.64 0 0 1-3.66-3.42c-1.27-22-14.46-32.53-31-32.53-15.9 0-27.82 9.34-27.82 24.28 0 12.91 7.79 19.92 28.14 34.23l28.45 20.54c19.71 14.32 30.83 27.24 30.83 47.62 0 33-27.18 52.6-59.13 52.6-30.2 0-54-16.49-56.58-56.95a3.64 3.64 0 0 1 3.66-3.9h19.23a3.75 3.75 0 0 1 3.65 3.43c1.75 22.56 15.26 33 31.16 33 15.26 0 29.56-8.25 29.56-27.55 0-12-5.4-17.89-21-28.32z"></path><path d="M855.55 254.11v-83.72a1.91 1.91 0 0 0-1.91-1.87h-60.87a1.91 1.91 0 0 0-1.91 1.87v83.72a3.56 3.56 0 0 1-3.66 3.57h-20.66a3.56 3.56 0 0 1-3.66-3.57V62.7a3.56 3.56 0 0 1 3.66-3.58h20.66a3.56 3.56 0 0 1 3.66 3.58v80a1.91 1.91 0 0 0 1.91 1.86h60.87a1.91 1.91 0 0 0 1.91-1.86v-80a3.56 3.56 0 0 1 3.66-3.58h20.66a3.56 3.56 0 0 1 3.66 3.58v191.56a3.56 3.56 0 0 1-3.66 3.58h-20.66a3.69 3.69 0 0 1-3.66-3.73z"></path><path d="M935.82 254.11V62.7a3.56 3.56 0 0 1 3.65-3.58h101.09a3.56 3.56 0 0 1 3.66 3.58v16.65a3.56 3.56 0 0 1-3.66 3.58H965.7a1.92 1.92 0 0 0-1.91 1.87v58.66a1.91 1.91 0 0 0 1.91 1.87h51.5a3.56 3.56 0 0 1 3.65 3.58v16.65a3.56 3.56 0 0 1-3.65 3.58h-51.5a1.92 1.92 0 0 0-1.91 1.87v61a1.92 1.92 0 0 0 1.91 1.87h74.86a3.66 3.66 0 0 1 3.66 3.58v16.65a3.66 3.66 0 0 1-3.66 3.57H939.47a3.46 3.46 0 0 1-3.65-3.57z"></path><path d="M1173.28 254.11l-30.51-83.26a1.86 1.86 0 0 0-1.75-1.24h-28.29a1.91 1.91 0 0 0-1.91 1.86v82.64a3.56 3.56 0 0 1-3.66 3.57h-20.66a3.55 3.55 0 0 1-3.65-3.57V62.7a3.56 3.56 0 0 1 3.65-3.58h56.59c34.65 0 58.49 21.94 58.49 54.47 0 21.63-11.45 39.68-32.43 50.26a.8.8 0 0 0-.47 1.09l34.49 88.23a3.66 3.66 0 0 1-3.5 5h-21.46a6.72 6.72 0 0 1-4.93-4.06zm-32.42-107.22c16.69 0 31.63-11.67 31.63-32.21 0-18.37-11.92-32.22-31.63-32.22h-28.13a1.74 1.74 0 0 0-1.75 1.71v60.69a1.91 1.91 0 0 0 1.91 1.87z"></path></g></svg></span></a><style data-emotion-css="1wt6tb2">.css-1wt6tb2{display:none;}@media all and (min-width:760px){.css-1wt6tb2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;cursor:pointer;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}.css-1wt6tb2 > div:last-child:hover > div{-webkit-transform:translate3d(-51%,0px,0);-ms-transform:translate3d(-51%,0px,0);transform:translate3d(-51%,0px,0);}}.css-1wt6tb2 > div:first-of-type > div{-webkit-transform:translate3d(-50%,10px,0);-ms-transform:translate3d(-50%,10px,0);transform:translate3d(-50%,10px,0);}.css-1wt6tb2 > div:first-of-type:hover > div{-webkit-transform:translate3d(-50%,0px,0);-ms-transform:translate3d(-50%,0px,0);transform:translate3d(-50%,0px,0);}</style><div class="css-1wt6tb2 enjt0j71"><style data-emotion-css="16f4mmd">.css-16f4mmd{position:relative;display:inline-block;}.css-16f4mmd:hover > div{-webkit-transform:translate3d(-51%,0,0);-ms-transform:translate3d(-51%,0,0);transform:translate3d(-51%,0,0);opacity:1;visibility:visible;}</style><div class="css-16f4mmd e1qa80lw0"><style data-emotion-css="11ismyt">.css-11ismyt{font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;color:#300D4F;border:0;font-size:1rem;height:40px;line-height:40px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 24px;cursor:pointer;border-radius:2px;min-height:40px;-webkit-transition:0.05s linear all;transition:0.05s linear all;outline:none;background:transparent;-webkit-text-decoration:none;text-decoration:none;}</style><a class="css-11ismyt e1qa80lw2">Products<style data-emotion-css="1h2opr7">.css-1h2opr7{display:inline-block;margin-left:0.4rem;-webkit-transform:translate3d(0,2px,0);-ms-transform:translate3d(0,2px,0);transform:translate3d(0,2px,0);}</style><svg width="12" height="8" viewBox="0 0 12 8" class="css-1h2opr7 e1qa80lw3"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 7.66L.34 2 1.76.59 6 4.83 10.24.59 11.66 2 6 7.66z" fill="#300D4F"></path></svg></a><style data-emotion-css="1lf5qfn">.css-1lf5qfn{position:absolute;padding:0.5rem;z-index:2;background:white;top:114%;left:50%;list-style:none;visibility:hidden;-webkit-transform:translate3d(-51%,10px,0);-ms-transform:translate3d(-51%,10px,0);transform:translate3d(-51%,10px,0);-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;opacity:0;cursor:auto;box-shadow:0px -6px 10px rgba(0,0,0,0.1),0px 3px 4px rgba(0,0,0,0.1);border-radius:4px;}.css-1lf5qfn a:first-of-type{margin-top:0;}</style><div class="css-1lf5qfn e1qa80lw1"><style data-emotion-css="49ft7v">.css-49ft7v{position:absolute;top:-14px;left:calc(50% - 10px);}</style><span class="css-49ft7v"><svg width="20" height="12" viewBox="0 0 20 12" fill="none"><path d="M20 12H0L10 0l10 12z" fill="#fff"></path></svg></span><style data-emotion-css="1mikpth">.css-1mikpth{display:block;background:transparent;padding:1rem;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:.1s background linear;transition:.1s background linear;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-1mikpth:hover{background:#F6F6F6;}@media all and (min-width:960px){.css-1mikpth{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><a href="index-2.html" class="css-1mikpth e1ob8a130"><div><style data-emotion-css="1w8jm51">.css-1w8jm51{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:2rem;cursor:pointer;}.css-1w8jm51 svg{width:auto;height:26px;}</style><span class="css-1w8jm51 eyw1ojh0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1170.84 200"><title>channels_full-logo</title><g fill="#300D4F"><path d="M326.39,37.64c25.37,0,45.08,17.48,47.82,42.85L349.36,84.6c-2.58-15.25-10.8-23.82-23-23.82-17.32,0-27.6,14.74-27.6,39.42s10.28,39.42,27.6,39.42c12.85,0,21.08-9.08,23.31-25.71l24.85,4.29c-3.08,26.91-21.94,44.56-48.16,44.56-32.06,0-53-24.68-53-62.56S294.33,37.64,326.39,37.64Z"></path><path d="M397.17,40.21h25.37v47h38.91v-47h25.37v120H461.45V110.31H422.54v49.88H397.17Z"></path><path d="M583.14,141.51H537.2l-6.34,18.68h-25.2l42.85-120h23.31l42.86,120h-25.2Zm-7.72-22.28L560.34,75H560l-15.08,44.23Z"></path><path d="M633.35,40.21h26L700,116.48h.34V40.21h25.37v120H699.68L659.06,83.91h-.34v76.28H633.35Z"></path><path d="M757.09,40.21h26.06l40.62,76.27h.34V40.21h25.37v120H823.43L782.81,83.91h-.35v76.28H757.09Z"></path><path d="M880.84,40.21h77.3V63.52H906.21V87.86h47.3v22.28h-47.3v26.74h52.1v23.31H880.84Z"></path><path d="M984.7,40.21h25.37v96.67h50.74v23.31H984.7Z"></path><path d="M1100.74,115.28C1104,133.11,1111,140,1127,140c11.83,0,18.51-4.29,18.51-11.83,0-8.4-5.65-12.51-25.71-19.37-27.94-9.43-38.39-19.54-38.39-37.2,0-20,16.8-33.93,40.62-33.93,23.48,0,41.82,14.22,45.6,35.31l-24.69,5.31c-3.25-12.17-9.94-17.83-20.91-17.83-9.43,0-15.6,4.29-15.6,11,0,6.17,5.14,9.6,23,15.6,14.91,5.14,25.71,10.8,32.06,17.14s9.42,14.23,9.42,24c0,20.74-18,34.62-44.22,34.62-28.63,0-46.45-14.74-50.74-42.16Z"></path></g><g fill="#6a52ff"><path d="M127.12,10,109.92.11a.84.84,0,0,0-.84,0L91.67,10.16a.84.84,0,0,1-.84,0L73.42.11a.84.84,0,0,0-.84,0L55.38,10a.42.42,0,0,0,0,.73L91,31.36a.45.45,0,0,0,.42,0l35.66-20.59A.42.42,0,0,0,127.12,10Z"></path><path d="M163.62,31.11l-17.2-9.92a.84.84,0,0,0-.84,0L91.67,52.31a.84.84,0,0,1-.84,0L36.92,21.19a.84.84,0,0,0-.84,0l-17.2,9.92a.42.42,0,0,0,0,.73L91,73.5a.4.4,0,0,0,.42,0l72.16-41.66A.42.42,0,0,0,163.62,31.11Z"></path><path d="M109.5,84.65v19.86a.42.42,0,0,0,.63.36l72.16-41.66a.41.41,0,0,0,.21-.36V43.48a.84.84,0,0,0-1.26-.73L109.92,83.92A.84.84,0,0,0,109.5,84.65Z"></path><path d="M110.13,147l72.16-41.66a.44.44,0,0,0,.21-.37V85.62a.84.84,0,0,0-1.26-.73l-71.32,41.18a.83.83,0,0,0-.42.73v19.85A.42.42,0,0,0,110.13,147Z"></path><path d="M91.25,177.53V95.19a.83.83,0,0,0-.42-.73L74.26,84.89a.84.84,0,0,0-1.26.73V167a.84.84,0,0,1-1.26.73l-16.57-9.57a.84.84,0,0,1-.42-.73V74.11a.84.84,0,0,0-.42-.73L37.76,63.82a.84.84,0,0,0-1.26.73v81.37a.84.84,0,0,1-1.26.73l-16.57-9.56a.84.84,0,0,1-.42-.73V53a.84.84,0,0,0-.42-.73L1.26,42.75A.84.84,0,0,0,0,43.48V147.14a.41.41,0,0,0,.21.36L91,199.94a.4.4,0,0,0,.42,0l90.83-52.44a.41.41,0,0,0,.21-.36V127.77a.84.84,0,0,0-1.26-.73L92.51,178.26A.84.84,0,0,1,91.25,177.53Z"></path></g></svg></span><style data-emotion-css="tmhpvz">.css-tmhpvz{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:#300D4F;margin-bottom:1rem;white-space:nowrap;font-size:16px !important;overflow:hidden;text-overflow:ellipsis;margin-top:8px;margin-bottom:0;margin-left:35px;}@media all and (min-width:400px){.css-tmhpvz{font-size:18px;}}@media all and (min-width:760px){.css-tmhpvz{font-size:18px;}}@media all and (min-width:960px){.css-tmhpvz{font-size:18px;}}@media all and (min-width:1200px){.css-tmhpvz{font-size:18px;}}.css-tmhpvz a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-tmhpvz a:hover{color:white;background-color:#300D4F;border-bottom:none;}</style><p class="css-tmhpvz e1ob8a132">Build scalable realtime features</p></div></a><a href="index-3.html" class="css-1mikpth e1ob8a130"><div><span class="css-1w8jm51 eyw1ojh0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 809.21 200"><defs><style></style></defs><title>beams_full-logo</title><g fill="#2ae9aa"><path d="M85.58,40.65l-15.75,9.1a.79.79,0,0,0-.4.69V190a.39.39,0,0,0,.2.35L86.18,200a.4.4,0,0,0,.6-.35V41.35A.81.81,0,0,0,85.58,40.65Z"></path><path d="M104.14,189.58v-18a.81.81,0,0,1,1.2-.7l15,8.64a.8.8,0,0,1,0,1.39l-15.55,9A.39.39,0,0,1,104.14,189.58Z"></path><path d="M104.14,150V131.54a.8.8,0,0,1,1.2-.7L155,159.52a.8.8,0,0,1,0,1.38l-16,9.21a.36.36,0,0,1-.4,0L104.34,150.3A.4.4,0,0,1,104.14,150Z"></path><path d="M104.14,109.87V91.45a.8.8,0,0,1,1.2-.69l67.83,39.16a.8.8,0,0,1,.4.69v18.88a.41.41,0,0,1-.61.35l-68.62-39.62A.4.4,0,0,1,104.14,109.87Z"></path><path d="M104.14,69.79V51.37a.81.81,0,0,1,1.2-.7l67.83,39.16a.83.83,0,0,1,.4.7v18.88a.41.41,0,0,1-.61.35L104.34,70.14A.42.42,0,0,1,104.14,69.79Z"></path><path d="M50.87,60.7,35.11,69.79a.82.82,0,0,0-.4.69V170a.43.43,0,0,0,.2.35l16.56,9.55a.39.39,0,0,0,.6-.34V61.39A.8.8,0,0,0,50.87,60.7Z"></path><path d="M16.15,80.74.4,89.83a.81.81,0,0,0-.4.7V150a.4.4,0,0,0,.2.34l16.56,9.56a.4.4,0,0,0,.6-.34V81.43A.8.8,0,0,0,16.15,80.74Z"></path><path d="M0,69.33V50.44a.79.79,0,0,1,.4-.69L86.38.11a.77.77,0,0,1,.8,0l86,49.64a.82.82,0,0,1,.4.69V69.33a.4.4,0,0,1-.61.34L87,20a.41.41,0,0,0-.4,0L.6,69.67A.39.39,0,0,1,0,69.33Z"></path></g><g fill="#300D4F"><path d="M260,43.13H309.6c19.72,0,33.9,12.88,33.9,30.65,0,9.29-4.4,17-11.57,21.36v.32c9.78,4.57,15.82,14.35,15.82,26.25,0,24-14.19,35.54-43.37,35.54H260Zm46.13,45.49c8.64,0,13.37-4.24,13.37-12.07,0-7.66-4.73-11.9-13.37-11.9h-22v24Zm2.61,47.11c10.27,0,15-4.57,15-14.19,0-9-5.22-13.85-14.83-13.85H284.17v28Z"></path><path d="M371.21,43.13h73.52V65.3H395.34V88.45h45v21.19h-45v25.44h49.55v22.17H371.21Z"></path><path d="M531.61,139.48H487.92l-6,17.77h-24L498.68,43.13h22.17l40.76,114.12h-24Zm-7.34-21.19L509.93,76.23h-.33l-14.34,42.06Z"></path><path d="M579.36,43.13H606.1l31.95,76.79h.33l32.11-76.79h26.73V157.25H673.59V86.82h-.33l-29.83,70.43H633L603.33,86.82H603v70.43H579.36Z"></path><path d="M742.53,114.54c3.1,17,9.78,23.47,24.94,23.47,11.25,0,17.61-4.07,17.61-11.25,0-8-5.38-11.9-24.45-18.42-26.57-9-36.52-18.58-36.52-35.37,0-19.08,16-32.28,38.64-32.28,22.33,0,39.77,13.53,43.36,33.58l-23.48,5c-3.09-11.57-9.45-16.95-19.88-16.95-9,0-14.84,4.08-14.84,10.43,0,5.87,4.89,9.13,21.85,14.84,14.18,4.89,24.45,10.27,30.48,16.3s9,13.53,9,22.82c0,19.73-17.12,32.93-42.06,32.93-27.23,0-44.18-14-48.26-40.1Z"></path></g></svg></span><p class="css-tmhpvz e1ob8a132">Programmatic push notifications</p></div></a></div></div><div class="css-16f4mmd e1qa80lw0"><a class="css-11ismyt e1qa80lw2">Developers<svg width="12" height="8" viewBox="0 0 12 8" class="css-1h2opr7 e1qa80lw3"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 7.66L.34 2 1.76.59 6 4.83 10.24.59 11.66 2 6 7.66z" fill="#300D4F"></path></svg></a><div class="css-1lf5qfn e1qa80lw1"><span class="css-49ft7v"><svg width="20" height="12" viewBox="0 0 20 12" fill="none"><path d="M20 12H0L10 0l10 12z" fill="#fff"></path></svg></span><style data-emotion-css="sqsh66">.css-sqsh66{display:block;background:transparent;padding:1rem;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:.1s background linear;transition:.1s background linear;border-radius:2px;}.css-sqsh66:hover{background:#F6F6F6;}</style><a href="docs.html" class="css-sqsh66 e1ob8a130"><style data-emotion-css="1dr5joc">.css-1dr5joc{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:#300D4F;margin-bottom:1rem;font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;font-size:20px !important;display:inline-block;margin-bottom:0;color:#300D4F;}@media all and (min-width:400px){.css-1dr5joc{font-size:18px;}}@media all and (min-width:760px){.css-1dr5joc{font-size:18px;}}@media all and (min-width:960px){.css-1dr5joc{font-size:18px;}}@media all and (min-width:1200px){.css-1dr5joc{font-size:18px;}}.css-1dr5joc a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-1dr5joc a:hover{color:white;background-color:#300D4F;border-bottom:none;}@media all and (min-width:960px):{.css-1dr5joc{font-size:16px !important;}}</style><p class="css-1dr5joc e1ob8a131">Docs</p><style data-emotion-css="lc4r3p">.css-lc4r3p{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:#300D4F;margin-bottom:1rem;white-space:nowrap;font-size:16px !important;overflow:hidden;text-overflow:ellipsis;margin-top:8px;margin-bottom:0;margin-left:0;}@media all and (min-width:400px){.css-lc4r3p{font-size:18px;}}@media all and (min-width:760px){.css-lc4r3p{font-size:18px;}}@media all and (min-width:960px){.css-lc4r3p{font-size:18px;}}@media all and (min-width:1200px){.css-lc4r3p{font-size:18px;}}.css-lc4r3p a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-lc4r3p a:hover{color:white;background-color:#300D4F;border-bottom:none;}</style><p class="css-lc4r3p e1ob8a132">Read the docs to learn how to use our products</p></a><a href="tutorials.html" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Tutorials</p><p class="css-lc4r3p e1ob8a132">Explore our tutorials to build apps with Pusher products</p></a><a href="https://support.pusher.com/hc/en-us" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Support</p><p class="css-lc4r3p e1ob8a132">Reach out to our support team for help and advice</p></a></div></div><div class="css-16f4mmd e1qa80lw0"><a class="css-11ismyt e1qa80lw2">Company<svg width="12" height="8" viewBox="0 0 12 8" class="css-1h2opr7 e1qa80lw3"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 7.66L.34 2 1.76.59 6 4.83 10.24.59 11.66 2 6 7.66z" fill="#300D4F"></path></svg></a><div class="css-1lf5qfn e1qa80lw1"><span class="css-49ft7v"><svg width="20" height="12" viewBox="0 0 20 12" fill="none"><path d="M20 12H0L10 0l10 12z" fill="#fff"></path></svg></span><a href="index-4.html" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Customer stories</p><p class="css-lc4r3p e1ob8a132">See how our customers use our products to delight their users</p></a><a href="index-7.html" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Careers</p><p class="css-lc4r3p e1ob8a132">Look at our available jobs and join us on our mission</p></a><a href="https://making.pusher.com/" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Making Pusher</p><p class="css-lc4r3p e1ob8a132">Stories from working at Pusher</p></a><a href="https://blog.pusher.com/" class="css-sqsh66 e1ob8a130"><p class="css-1dr5joc e1ob8a131">Pusher Blog</p><p class="css-lc4r3p e1ob8a132">Read our updates and opinions on realtime technology</p></a></div></div></div><style data-emotion-css="ccs0dx">.css-ccs0dx{display:none;}@media all and (min-width:760px){.css-ccs0dx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;cursor:pointer;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}.css-ccs0dx > div:last-child:hover > div{-webkit-transform:translate3d(-51%,0px,0);-ms-transform:translate3d(-51%,0px,0);transform:translate3d(-51%,0px,0);}}</style><div class="css-ccs0dx enjt0j71"><style data-emotion-css="1baulvz">.css-1baulvz{display:inline-block;}</style><div class="css-1baulvz"><style data-emotion-css="124e4c5">.css-124e4c5{font-family:maison-neue,sans-serif;font-weight:700;line-height:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;border:none;outline:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:inline-block;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;padding:1rem;border-radius:2px;font-size:1rem;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;-webkit-transition:box-shadow .2s ease,background-color .2s ease,-webkit-transform .2s ease;-webkit-transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;position:relative;line-height:24px;color:#300D4F;background-color:transparent;padding:0;margin:0 8px 6px;border-radius:0;box-shadow:none;}.css-124e4c5:before{content:" ";position:absolute;left:0;right:100%;bottom:-2px;z-index:5;background:#300D4F;height:3px;-webkit-transition-property:right;transition-property:right;-webkit-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;}.css-124e4c5:after{content:" ";position:absolute;left:0;right:0;z-index:4;bottom:-2px;background:#C223CE;height:3px;}.css-124e4c5:hover,.css-124e4c5:focus{box-shadow:none;outline:none;}.css-124e4c5:hover:before,.css-124e4c5:focus:before{right:0;}</style><a href="https://dashboard.pusher.com/accounts/sign_in" kind="tertiary" class="css-124e4c5 ermq5n0">Sign in</a></div><div><style data-emotion-css="csgx77">.css-csgx77{width:auto;margin-left:1rem;}</style><style data-emotion-css="1ubdrc8">.css-1ubdrc8{font-family:maison-neue,sans-serif;font-weight:700;line-height:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;border:none;outline:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:inline-block;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;padding:1rem;border-radius:2px;font-size:1rem;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;-webkit-transition:box-shadow .2s ease,background-color .2s ease,-webkit-transform .2s ease;-webkit-transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;padding:0.875rem 1rem;color:white;background-color:#C223CE;border:2px solid #C223CE;-webkit-transition:all 0.1s ease;transition:all 0.1s ease;width:auto;margin-left:1rem;}.css-1ubdrc8:hover,.css-1ubdrc8:focus{color:#300D4F;background-color:transparent;box-shadow:inset 12em 0 0 0 transparent;}.css-1ubdrc8:active{color:#300D4F;background-color:transparent;box-shadow:inset 12em 0 0 0 transparent;}</style><a href="https://dashboard.pusher.com/accounts/sign_up" kind="primary" class="css-1ubdrc8 ermq5n0">Sign up</a></div></div></div></div><div><style data-emotion-css="ew49tj">.css-ew49tj{max-width:75rem;margin:0 auto;padding:1rem 1.5rem;text-align:center;position:relative;height:auto;}@media all and (min-width:760px){.css-ew49tj{height:225px;}}</style><div class="css-ew49tj ehwuahf0"><span></span><style data-emotion-css="gr148u">.css-gr148u{font-family:italian-plate,sans-serif;font-weight:600;line-height:1.1;font-size:40px;-webkit-letter-spacing:4px;-moz-letter-spacing:4px;-ms-letter-spacing:4px;letter-spacing:4px;text-transform:uppercase;color:#300D4F;margin-bottom:1.5rem;text-align:center;padding:2rem 0 0;margin-bottom:0.5rem;-webkit-letter-spacing:2px !important;-moz-letter-spacing:2px !important;-ms-letter-spacing:2px !important;letter-spacing:2px !important;}@media all and (min-width:400px){.css-gr148u{font-size:40px;-webkit-letter-spacing:4px;-moz-letter-spacing:4px;-ms-letter-spacing:4px;letter-spacing:4px;}}@media all and (min-width:760px){.css-gr148u{font-size:45px;-webkit-letter-spacing:4px;-moz-letter-spacing:4px;-ms-letter-spacing:4px;letter-spacing:4px;}}@media all and (min-width:960px){.css-gr148u{font-size:50.64px;-webkit-letter-spacing:4px;-moz-letter-spacing:4px;-ms-letter-spacing:4px;letter-spacing:4px;}}@media all and (min-width:1200px){.css-gr148u{font-size:56.959999999999994px;-webkit-letter-spacing:4px;-moz-letter-spacing:4px;-ms-letter-spacing:4px;letter-spacing:4px;}}@media all and (min-width:760px){.css-gr148u{padding:4rem 0 0;}}</style><h1 class="css-gr148u ehwuahf1"><style data-emotion-css="npldjc">.css-npldjc{color:#5c29db;font-weight:700;}</style><span class="css-npldjc ehwuahf2">13</span> tutorials for “<span class="css-npldjc ehwuahf2">Ruby</span>”</h1><style data-emotion-css="xi606m">.css-xi606m{text-align:center;}</style><style data-emotion-css="qzpcze">.css-qzpcze{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.5;font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;color:#300D4F;margin-bottom:1rem;text-align:center;}@media all and (min-width:400px){.css-qzpcze{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:760px){.css-qzpcze{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:960px){.css-qzpcze{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:1200px){.css-qzpcze{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}.css-qzpcze a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-qzpcze a:hover{color:white;background-color:#300D4F;border-bottom:none;}</style><p class="css-qzpcze e5jrto45">Browse the content below or search for something else</p></div><style data-emotion-css="efmvv3">.css-efmvv3{max-width:75rem;margin:0 auto;padding:0 1.5rem;}</style><div class="css-efmvv3 ebwns650"><style data-emotion-css="znbnmq">.css-znbnmq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 auto 3rem;max-width:840px;}@media all and (min-width:760px){.css-znbnmq{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}}</style><div class="css-znbnmq e1k1ox920"><style data-emotion-css="1gksm6s">.css-1gksm6s{display:inline-block;min-width:208px;padding:1rem;margin:1rem;text-align:center;line-height:0;background:#ffffff;border-radius:6px;box-shadow:0px 1.12939px 5px rgba(0,0,0,0.18);}.css-1gksm6s:hover{-webkit-transform:translate3d(0,-2px,0);-ms-transform:translate3d(0,-2px,0);transform:translate3d(0,-2px,0);}@media all and (min-width:760px){.css-1gksm6s{margin:0 1rem;}}</style><a href="tutorials87f0.html?product=Channels&amp;tag=Ruby" class="css-1gksm6s e1ho2r7z0"><style data-emotion-css="s7gppj">.css-s7gppj{display:block;cursor:pointer;}.css-s7gppj svg{width:auto;height:26px;}</style><span class="css-s7gppj e1ho2r7z1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1170.84 200"><title>channels_full-logo</title><g fill="#300D4F"><path d="M326.39,37.64c25.37,0,45.08,17.48,47.82,42.85L349.36,84.6c-2.58-15.25-10.8-23.82-23-23.82-17.32,0-27.6,14.74-27.6,39.42s10.28,39.42,27.6,39.42c12.85,0,21.08-9.08,23.31-25.71l24.85,4.29c-3.08,26.91-21.94,44.56-48.16,44.56-32.06,0-53-24.68-53-62.56S294.33,37.64,326.39,37.64Z"></path><path d="M397.17,40.21h25.37v47h38.91v-47h25.37v120H461.45V110.31H422.54v49.88H397.17Z"></path><path d="M583.14,141.51H537.2l-6.34,18.68h-25.2l42.85-120h23.31l42.86,120h-25.2Zm-7.72-22.28L560.34,75H560l-15.08,44.23Z"></path><path d="M633.35,40.21h26L700,116.48h.34V40.21h25.37v120H699.68L659.06,83.91h-.34v76.28H633.35Z"></path><path d="M757.09,40.21h26.06l40.62,76.27h.34V40.21h25.37v120H823.43L782.81,83.91h-.35v76.28H757.09Z"></path><path d="M880.84,40.21h77.3V63.52H906.21V87.86h47.3v22.28h-47.3v26.74h52.1v23.31H880.84Z"></path><path d="M984.7,40.21h25.37v96.67h50.74v23.31H984.7Z"></path><path d="M1100.74,115.28C1104,133.11,1111,140,1127,140c11.83,0,18.51-4.29,18.51-11.83,0-8.4-5.65-12.51-25.71-19.37-27.94-9.43-38.39-19.54-38.39-37.2,0-20,16.8-33.93,40.62-33.93,23.48,0,41.82,14.22,45.6,35.31l-24.69,5.31c-3.25-12.17-9.94-17.83-20.91-17.83-9.43,0-15.6,4.29-15.6,11,0,6.17,5.14,9.6,23,15.6,14.91,5.14,25.71,10.8,32.06,17.14s9.42,14.23,9.42,24c0,20.74-18,34.62-44.22,34.62-28.63,0-46.45-14.74-50.74-42.16Z"></path></g><g fill="#6a52ff"><path d="M127.12,10,109.92.11a.84.84,0,0,0-.84,0L91.67,10.16a.84.84,0,0,1-.84,0L73.42.11a.84.84,0,0,0-.84,0L55.38,10a.42.42,0,0,0,0,.73L91,31.36a.45.45,0,0,0,.42,0l35.66-20.59A.42.42,0,0,0,127.12,10Z"></path><path d="M163.62,31.11l-17.2-9.92a.84.84,0,0,0-.84,0L91.67,52.31a.84.84,0,0,1-.84,0L36.92,21.19a.84.84,0,0,0-.84,0l-17.2,9.92a.42.42,0,0,0,0,.73L91,73.5a.4.4,0,0,0,.42,0l72.16-41.66A.42.42,0,0,0,163.62,31.11Z"></path><path d="M109.5,84.65v19.86a.42.42,0,0,0,.63.36l72.16-41.66a.41.41,0,0,0,.21-.36V43.48a.84.84,0,0,0-1.26-.73L109.92,83.92A.84.84,0,0,0,109.5,84.65Z"></path><path d="M110.13,147l72.16-41.66a.44.44,0,0,0,.21-.37V85.62a.84.84,0,0,0-1.26-.73l-71.32,41.18a.83.83,0,0,0-.42.73v19.85A.42.42,0,0,0,110.13,147Z"></path><path d="M91.25,177.53V95.19a.83.83,0,0,0-.42-.73L74.26,84.89a.84.84,0,0,0-1.26.73V167a.84.84,0,0,1-1.26.73l-16.57-9.57a.84.84,0,0,1-.42-.73V74.11a.84.84,0,0,0-.42-.73L37.76,63.82a.84.84,0,0,0-1.26.73v81.37a.84.84,0,0,1-1.26.73l-16.57-9.56a.84.84,0,0,1-.42-.73V53a.84.84,0,0,0-.42-.73L1.26,42.75A.84.84,0,0,0,0,43.48V147.14a.41.41,0,0,0,.21.36L91,199.94a.4.4,0,0,0,.42,0l90.83-52.44a.41.41,0,0,0,.21-.36V127.77a.84.84,0,0,0-1.26-.73L92.51,178.26A.84.84,0,0,1,91.25,177.53Z"></path></g></svg></span></a><a href="tutorials4960.html?product=Beams&amp;tag=Ruby" class="css-1gksm6s e1ho2r7z0"><span class="css-s7gppj e1ho2r7z1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 809.21 200"><defs><style></style></defs><title>beams_full-logo</title><g fill="#2ae9aa"><path d="M85.58,40.65l-15.75,9.1a.79.79,0,0,0-.4.69V190a.39.39,0,0,0,.2.35L86.18,200a.4.4,0,0,0,.6-.35V41.35A.81.81,0,0,0,85.58,40.65Z"></path><path d="M104.14,189.58v-18a.81.81,0,0,1,1.2-.7l15,8.64a.8.8,0,0,1,0,1.39l-15.55,9A.39.39,0,0,1,104.14,189.58Z"></path><path d="M104.14,150V131.54a.8.8,0,0,1,1.2-.7L155,159.52a.8.8,0,0,1,0,1.38l-16,9.21a.36.36,0,0,1-.4,0L104.34,150.3A.4.4,0,0,1,104.14,150Z"></path><path d="M104.14,109.87V91.45a.8.8,0,0,1,1.2-.69l67.83,39.16a.8.8,0,0,1,.4.69v18.88a.41.41,0,0,1-.61.35l-68.62-39.62A.4.4,0,0,1,104.14,109.87Z"></path><path d="M104.14,69.79V51.37a.81.81,0,0,1,1.2-.7l67.83,39.16a.83.83,0,0,1,.4.7v18.88a.41.41,0,0,1-.61.35L104.34,70.14A.42.42,0,0,1,104.14,69.79Z"></path><path d="M50.87,60.7,35.11,69.79a.82.82,0,0,0-.4.69V170a.43.43,0,0,0,.2.35l16.56,9.55a.39.39,0,0,0,.6-.34V61.39A.8.8,0,0,0,50.87,60.7Z"></path><path d="M16.15,80.74.4,89.83a.81.81,0,0,0-.4.7V150a.4.4,0,0,0,.2.34l16.56,9.56a.4.4,0,0,0,.6-.34V81.43A.8.8,0,0,0,16.15,80.74Z"></path><path d="M0,69.33V50.44a.79.79,0,0,1,.4-.69L86.38.11a.77.77,0,0,1,.8,0l86,49.64a.82.82,0,0,1,.4.69V69.33a.4.4,0,0,1-.61.34L87,20a.41.41,0,0,0-.4,0L.6,69.67A.39.39,0,0,1,0,69.33Z"></path></g><g fill="#300D4F"><path d="M260,43.13H309.6c19.72,0,33.9,12.88,33.9,30.65,0,9.29-4.4,17-11.57,21.36v.32c9.78,4.57,15.82,14.35,15.82,26.25,0,24-14.19,35.54-43.37,35.54H260Zm46.13,45.49c8.64,0,13.37-4.24,13.37-12.07,0-7.66-4.73-11.9-13.37-11.9h-22v24Zm2.61,47.11c10.27,0,15-4.57,15-14.19,0-9-5.22-13.85-14.83-13.85H284.17v28Z"></path><path d="M371.21,43.13h73.52V65.3H395.34V88.45h45v21.19h-45v25.44h49.55v22.17H371.21Z"></path><path d="M531.61,139.48H487.92l-6,17.77h-24L498.68,43.13h22.17l40.76,114.12h-24Zm-7.34-21.19L509.93,76.23h-.33l-14.34,42.06Z"></path><path d="M579.36,43.13H606.1l31.95,76.79h.33l32.11-76.79h26.73V157.25H673.59V86.82h-.33l-29.83,70.43H633L603.33,86.82H603v70.43H579.36Z"></path><path d="M742.53,114.54c3.1,17,9.78,23.47,24.94,23.47,11.25,0,17.61-4.07,17.61-11.25,0-8-5.38-11.9-24.45-18.42-26.57-9-36.52-18.58-36.52-35.37,0-19.08,16-32.28,38.64-32.28,22.33,0,39.77,13.53,43.36,33.58l-23.48,5c-3.09-11.57-9.45-16.95-19.88-16.95-9,0-14.84,4.08-14.84,10.43,0,5.87,4.89,9.13,21.85,14.84,14.18,4.89,24.45,10.27,30.48,16.3s9,13.53,9,22.82c0,19.73-17.12,32.93-42.06,32.93-27.23,0-44.18-14-48.26-40.1Z"></path></g></svg></span></a></div><style data-emotion-css="eaq0ob">.css-eaq0ob{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;max-width:900px;margin:0 auto 2rem;}@media all and (min-width:760px){.css-eaq0ob{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}}</style><div class="css-eaq0ob e137azhw0"><style data-emotion-css="a3lpv2">.css-a3lpv2{display:inline-block;width:33%;padding:0.5rem 0;}.css-a3lpv2 > svg:hover path{fill:#C223CE;}@media all and (min-width:760px){.css-a3lpv2{width:25%;padding:0.5rem 0;margin:0 1rem;}}@media all and (min-width:960px){.css-a3lpv2{width:14%;}}</style><a href="tutorials5463.html?tag=JavaScript" class="css-a3lpv2 e137azhw1"><svg width="37" height="38" viewBox="0 0 31 32" fill="#300D4F" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M31 0H0v32h31V0zM19.84 24.22L18 25.32a4.58 4.58 0 0 0 1.8 2 5.8 5.8 0 0 0 4.97.44c.82-.28 1.48-.8 1.92-1.6.35-.65.46-1.36.43-2.1a3.6 3.6 0 0 0-1.31-2.76c-.6-.51-1.3-.86-2-1.19l-.45-.2c-.34-.16-.69-.32-1.03-.5a2.73 2.73 0 0 1-.64-.45c-.49-.47-.49-1.66.5-1.96a1.7 1.7 0 0 1 1.93.78 7.78 7.78 0 0 1 .2.32l1.44-.96.59-.4-.01-.03-.01-.03a3.77 3.77 0 0 0-2.23-1.92 4.9 4.9 0 0 0-2.7-.05 3.44 3.44 0 0 0-2.62 3.42 3.7 3.7 0 0 0 1.66 3.3c.43.3.9.53 1.36.76l.85.4.9.43c.21.11.42.27.6.44.33.32.4.73.31 1.17-.1.48-.44.76-.87.91a2.7 2.7 0 0 1-1.98-.06 3.05 3.05 0 0 1-1.38-1.29l-.09-.14-.3.17zm-3.21-9.52h-2.65v9.15c0 .24-.01.48-.05.71-.06.39-.2.73-.55.94-.52.3-1.35.2-1.8-.2-.26-.25-.44-.56-.62-.86a5.03 5.03 0 0 0-.05-.1l-.04-.07-1.2.74-.95.6c.43 1 1.17 1.73 2 2.1 1.18.51 2.4.54 3.61.13a3.14 3.14 0 0 0 2.05-2.12c.2-.6.25-1.21.25-1.83V14.7z" fill="#300D4F"></path></svg></a><a href="tutorials124f.html?tag=Node.js" class="css-a3lpv2 e137azhw1"><svg fill="#300D4F" height="44" viewBox="0 0 41 44" width="41" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m20.5435.137695c-.5947 0-1.1729.120796-1.6844.405144l-16.19036 9.182891c-1.04773.59247-1.684365 1.71237-1.684365 2.90337v18.3321c0 1.1905.636635 2.309 1.684365 2.9033l4.22806 2.3971c2.05422.9943 2.81186.979 3.7468.979 3.0415 0 4.7781-1.8125 4.7781-4.9628v-18.0957c0-.2558-.2255-.4389-.4812-.4389h-2.0282c-.2598 0-.4812.1831-.4812.4389v18.0957c0 1.3964-1.4808 2.8006-3.88431 1.6205l-4.39993-2.532c-.15538-.0831-.27502-.2299-.27502-.4051v-18.3321c0-.174.11827-.3507.27502-.4388l16.15604-9.14917c.1512-.08535.3313-.08535.4812 0l16.156 9.14917c.154.0908.275.2595.275.4388v18.3321c0 .1752-.0894.3545-.2406.4389l-16.1904 9.1491c-.1388.0811-.33.0811-.4812 0l-4.1593-2.4307c-.1238-.0713-.2929-.0659-.4126 0-1.1481.6392-1.3639.7135-2.4405 1.0803-.2654.0908-.6683.232.1375.6752l5.4311 3.1397c.517.2939 1.0931.4389 1.6844.4389.5995 0 1.1674-.145 1.6844-.4389l16.1904-9.1492c1.0477-.5985 1.6843-1.7128 1.6843-2.9033v-18.3321c0-1.191-.6366-2.3084-1.6843-2.90337l-16.1904-9.182891c-.5074-.284348-1.0897-.405144-1.6844-.405144zm4.3312 13.099405c-4.6103 0-7.3562 1.927-7.3562 5.1316 0 3.4764 2.7252 4.4315 7.1499 4.8615 5.2937.509 5.7062 1.2723 5.7062 2.2957 0 1.7751-1.441 2.532-4.8468 2.532-4.2789 0-5.2194-1.0491-5.5343-3.1397-.0371-.2241-.2131-.4051-.4469-.4051h-2.0968c-.2585 0-.4812.2183-.4812.4726 0 2.676 1.4822 5.8407 8.5592 5.8407 5.1232 0 8.078-1.9751 8.078-5.4355 0-3.4305-2.387-4.3513-7.3561-4.9966-5.0215-.6525-5.5-.9719-5.5-2.1268 0-.9534.4057-2.2284 4.125-2.2284 3.3219 0 4.5498.7036 5.053 2.9035.044.2068.2297.3714.4469.3714h2.0969c.1292 0 .2543-.0778.3437-.1689.088-.0972.1499-.2068.1375-.3375-.3245-3.7886-2.8971-5.5705-8.078-5.5705z" fill="#300D4F" fill-rule="evenodd"></path></svg></a><a href="tutorials.html" class="css-a3lpv2 e137azhw1"><svg fill="#C223CE" height="39" viewBox="0 0 39 39" width="39" xmlns="http://www.w3.org/2000/svg"><g fill="#C223CE" stroke="#300D4F" stroke-width=".484007"><path d="m4.38915 25.0671c-.93556-2.2571-1.87112-4.5141-2.91063-6.7712 1.45531-2.3596 2.70273-4.8219 4.262-7.1815.62371-1.0259 1.76717-1.64149 2.59878-2.46223 1.45532-1.33371 2.9106-2.77002 4.366-4.00114.7276-.61555 1.6632-1.02593 2.5987-1.33371 1.5593-.61555 3.1186-1.12852 4.6778-1.74408 1.8712 1.23112 3.6383 2.46224 5.5095 3.79595-.8316 2.46223-1.6633 4.92451-2.287 7.38671-.4158 1.5389-1.5592 2.257-2.5987 3.1804-2.5988 2.4622-5.1976 4.9244-7.9003 7.2841-.4158.4104-1.2475.4104-1.9751.5129-2.07904.4104-4.26202.8208-6.34105 1.3338z"></path><path d="m13.7468 25.0669c4.366 1.6415 8.628 3.283 12.89 4.9245-4.6778 4.2063-9.8754 7.4893-16.3204 8.4126 1.1435-4.4115 2.2869-8.9256 3.4304-13.3371z"></path><path d="m24.7637 15.1154c4.262-.1026 8.524-.2052 12.786-.3078-1.8711 4.9245-4.9897 9.1308-8.524 12.9267-1.4553-4.2063-2.8067-8.4126-4.262-12.6189z"></path><path d="m23.2037 15.731c1.4553 4.2063 2.8067 8.5152 4.262 12.7215-4.262-1.6415-8.524-3.283-12.786-4.9245 2.8067-2.4622 5.7173-5.1296 8.524-7.797z"></path><path d="m29.6504 29.3758c3.3264-3.4882 6.341-7.2841 8.42-11.6956-.5197 6.053-.9355 12.106-1.3513 17.8512-2.287-1.9493-4.6778-4.0012-7.0687-6.1556z"></path><path d="m34.2234 1.67627c3.8462 1.33371 5.5094 5.64262 3.9502 10.77223-3.3265-2.56478-6.7569-4.92442-10.1873-7.38666 2.183-1.12852 4.1581-2.25705 6.2371-3.38557z"></path><path d="m35.6793 36.8651c-5.8212.4104-11.9544.8208-18.0875 1.2311 4.158-1.8466 7.6924-4.5141 10.9149-7.4893 2.3909 2.0519 4.8857 4.2064 7.1726 6.2582z"></path><path d="m36.6141 13.2688c-3.9501.1025-7.9003.2051-11.8504.3077.7276-2.3596 1.5592-4.71925 2.2869-7.18148 3.1185 2.25705 6.341 4.51408 9.5635 6.87378z"></path><path d="m8.85835 37.5833c-1.35136-3.6934-2.59878-7.2842-3.95015-10.9775 2.39088-.513 4.67781-1.0259 7.0687-1.5389-1.0395 4.2063-2.07903 8.31-3.11855 12.5164z"></path><path d="m7.40635 38.5065c-3.01458-.3077-5.71732-1.8466-6.548928-5.54 0-.1026 0-.2052 0-.3078.935558-1.5389 1.871128-3.0778 2.806688-4.7192 1.24741 3.5907 2.49483 7.0789 3.74224 10.567z"></path><path d="m22.166.95752h9.8754c-1.8711 1.02593-3.6383 2.05186-5.5094 2.9752-1.4553-.92334-2.9107-1.94927-4.366-2.9752z"></path><path d="m2.9358 25.9903c-.83161 1.3337-1.55927 2.6674-2.390878 4.0011 0-3.1804 0-6.3608 0-9.6437.831608 1.9492 1.559268 3.7959 2.390878 5.6426z"></path></g></svg></a><a href="tutorials1fdd.html?tag=Go" class="css-a3lpv2 e137azhw1"><svg fill="#300D4F" height="27" viewBox="0 0 72 27" width="72" xmlns="http://www.w3.org/2000/svg"><g fill="#300D4F"><path d="m5.37409 8.76273c-.13868 0-.17335-.06716-.10401-.1679l.7281-.90662c.06934-.10074.2427-.16789.38139-.16789h12.37773c.1387 0 .1734.10073.104.20147l-.5894.87304c-.0693.10074-.2427.20148-.3467.20148zm-5.235404 3.08927c-.138686 0-.1733576-.0672-.1040144-.1679l.7281034-.9066c.069343-.1008.242705-.1679.381385-.1679h15.81024c.1387 0 .208.1007.1734.2014l-.2774.8059c-.0347.1343-.1734.2015-.3121.2015zm8.390524 3.0892c-.13869 0-.17336-.1007-.10402-.2015l.4854-.8394c.06935-.1008.20803-.2015.34672-.2015h6.93429c.1387 0 .2081.1007.2081.2351l-.0694.8058c0 .1344-.1387.2351-.2427.2351zm35.98909-6.78289c-2.1843.53726-3.6752.94021-5.8248 1.47746-.5201.13432-.5548.1679-1.0055-.33578-.5201-.57084-.9015-.94021-1.6296-1.27599-2.1843-1.04094-4.2992-.73874-6.2755.50368-2.3577 1.47742-3.5712 3.66012-3.5365 6.37992.0347 2.6863 1.9416 4.9025 4.6806 5.2719 2.3577.3022 4.334-.5037 5.8942-2.2162.3121-.3694.5894-.7723.9361-1.2424h-6.6916c-.7281 0-.9014-.4365-.6587-1.0074.4507-1.0409 1.2828-2.787 1.7682-3.6601.104-.2014.3467-.5372.8668-.5372h12.6205c-.0694.9066-.0694 1.8132-.2081 2.7199-.3814 2.4176-1.3175 4.6338-2.843 6.5814-2.4964 3.19-5.7555 5.1711-9.8814 5.7084-3.3979.4365-6.553-.2015-9.3267-2.2162-2.5657-1.8804-4.0219-4.3653-4.4033-7.4545-.4507-3.6601.6588-6.9508 2.9471-9.83857 2.4617-3.12282 5.7208-5.10396 9.708-5.80911 3.2592-.570843 6.3796-.20148 9.188 1.64535 1.8376 1.17526 3.1551 2.78704 4.0219 4.7346.208.30221.0694.4701-.3467.57084z"></path><path d="m55.9962 26.7265c-3.1551-.0672-6.0329-.9402-8.4599-2.955-2.0456-1.7125-3.3284-3.8951-3.7445-6.4807-.6241-3.7943.4507-7.1522 2.8084-10.14073 2.531-3.22355 5.5821-4.90249 9.708-5.60764 3.5365-.60442 6.865-.26863 9.8814 1.71251 2.7391 1.81325 4.438 4.2645 4.8887 7.48806.5894 4.5331-.7628 8.2268-3.9872 11.3832-2.2883 2.2498-5.0967 3.6601-8.3212 4.2981-.9361.1679-1.8722.2014-2.7737.3022zm8.2518-13.5658c-.0346-.4366-.0346-.7723-.104-1.1081-.6241-3.32432-3.7792-5.20473-7.073-4.466-3.2244.70515-5.3047 2.6863-6.0675 5.8427-.6241 2.6191.6934 5.2719 3.1898 6.3464 1.9069.8059 3.8138.7051 5.6514-.2015 2.7391-1.3767 4.23-3.5258 4.4033-6.4135z"></path></g></svg></a><a href="tutorials06c4.html?tag=PHP" class="css-a3lpv2 e137azhw1"><svg fill="#300D4F" height="31" viewBox="0 0 62 31" width="62" xmlns="http://www.w3.org/2000/svg"><path d="m4.96084 6.49561h9.08856c2.6678.02218 4.6008.77486 5.7991 2.25811 1.1982 1.48328 1.5939 3.50898 1.1869 6.07698-.1582 1.1733-.5087 2.3245-1.0512 3.4536-.5201 1.129-1.2436 2.1474-2.1705 3.055-1.1304 1.1512-2.3399 1.8818-3.6286 2.1918-1.2887.3099-2.6226.4649-4.0017.4649h-4.06953l-1.28868 6.3094h-4.713862zm3.96779 3.78569-2.03476 9.9622c.13563.0221.27128.0332.40694.0332h.47478c2.17041.0221 3.97901-.1882 5.42601-.6309 1.4469-.4649 2.4191-2.081 2.9165-4.8483.4069-2.3245 0-3.6639-1.2208-4.0181-1.1983-.3542-2.7018-.5203-4.5104-.4981-.2713.0221-.53134.0332-.78002.0332-.2261 0-.46349 0-.71217 0z" fill="#300D4F"></path><path d="m26.4088.155273h4.68l-1.3226 6.342647h4.2051c2.3061.04429 4.0243.5092 5.1548 1.39472 1.153.88557 1.4921 2.56806 1.0174 5.04756l-2.2722 11.0581h-4.7478l2.1704-10.56c.2261-1.1069.1583-1.8928-.2034-2.3578-.3618-.4648-1.1418-.6973-2.34-.6973l-3.7643-.0332-2.7809 13.6483h-4.6799z" fill="#300D4F"></path><path d="m45.1698 6.49561h9.0886c2.6678.02218 4.6008.77486 5.7991 2.25811 1.1982 1.48328 1.5939 3.50898 1.1869 6.07698-.1583 1.1733-.5087 2.3245-1.0513 3.4536-.52 1.129-1.2435 2.1474-2.1704 3.055-1.1304 1.1512-2.34 1.8818-3.6286 2.1918-1.2887.3099-2.6226.4649-4.0017.4649h-4.0695l-1.2887 6.3094h-4.7139zm3.9678 3.78569-2.0348 9.9622c.1357.0221.2713.0332.407.0332h.4748c2.1704.0221 3.979-.1882 5.426-.6309 1.4469-.4649 2.4191-2.081 2.9165-4.8483.4069-2.3245 0-3.6639-1.2209-4.0181-1.1982-.3542-2.7017-.5203-4.5104-.4981-.2713.0221-.5313.0332-.7799.0332-.2261 0-.4635 0-.7122 0z" fill="#300D4F"></path></svg></a><a href="tutorials994f.html?tag=Android" class="css-a3lpv2 e137azhw1"><svg width="36" height="42" viewBox="0 0 54 63" fill="#300D4F" xmlns="http://www.w3.org/2000/svg"><path fill="#300D4F" d="m3.89584 20.5435h-.16052c-2.05763 0-3.73532 1.6921-3.73532 3.7555v16.3512c0 2.0716 1.67769 3.7583 3.73532 3.7583h.16324c2.05764 0 3.73533-1.6922 3.73533-3.7583v-16.3513c-.00273-2.0633-1.68303-3.7554-3.73805-3.7554z"></path><path fill="#300D4F" d="m9.41992 46.9608c0 1.8993 1.54388 3.4461 3.43288 3.4461h3.6685v8.8321c0 2.0741 1.683 3.7609 3.7353 3.7609h.1605c2.0604 0 3.7407-1.6894 3.7407-3.7609v-8.8321h5.1267v8.8321c0 2.0741 1.6884 3.7609 3.7407 3.7609h.1579c2.0602 0 3.7379-1.6894 3.7379-3.7609v-8.8321h3.6711c1.8863 0 3.4303-1.5468 3.4303-3.4461v-25.8182h-34.60248z"></path><path fill="#300D4F" d="m35.3453 5.48537 2.9139-4.522217c.1873-.285226.1043-.675215-.182-.860918-.2835-.1883217-.6715-.11024914-.8562.182959l-3.0209 4.678366c-2.2663-.9335-4.7975-1.45806-7.4706-1.45806-2.6758 0-5.2017.52456-7.4733 1.45806l-3.0155-4.678366c-.1845-.29320814-.5753-.3712807-.8616-.182959-.2863.185578-.3692.575692-.1819.860918l2.9165 4.522217c-5.2579 2.59074-8.80315 7.47353-8.80315 13.07453 0 .3443.02146.6833.05086 1.0196h34.73879c.0294-.3363.0481-.6753.0481-1.0196.0001-5.601-3.5479-10.48379-8.803-13.07453zm-16.6697 8.09763c-.9231 0-1.6724-.748-1.6724-1.6787 0-.9308.7493-1.6761 1.6724-1.6761.9284 0 1.6723.7452 1.6723 1.6761s-.7492 1.6787-1.6723 1.6787zm16.1052 0c-.9232 0-1.6724-.748-1.6724-1.6787 0-.9308.7492-1.6761 1.6724-1.6761.9257 0 1.6696.7452 1.6696 1.6761 0 .9307-.7439 1.6787-1.6696 1.6787z"></path><path fill="#300D4F" d="m49.7122 20.5435h-.1551c-2.0577 0-3.7407 1.6921-3.7407 3.7555v16.3512c0 2.0716 1.6858 3.7583 3.7407 3.7583h.1579c2.0602 0 3.7353-1.6922 3.7353-3.7583v-16.3513c0-2.0633-1.6804-3.7554-3.7381-3.7554z"></path></svg></a><a href="tutorialsc405.html?tag=Kotlin" class="css-a3lpv2 e137azhw1"><svg fill="#300D4F" height="36" viewBox="0 0 36 36" width="36" xmlns="http://www.w3.org/2000/svg"><g fill="#300D4F"><path d="m18.9448 18.7402-17.06199 16.6788h34.03519z"></path><path d="m.28125.577148v16.766052l16.35115-16.766052z"></path><path d="m18.1431.577148-17.86185 18.425152v.4367 15.9801l17.86185-17.4646 17.7729-17.377352z"></path></g></svg></a><a href="tutorials3aba.html?tag=iOS" class="css-a3lpv2 e137azhw1"><svg width="46.5" height="24" viewBox="0 0 31 16" fill="#300D4F" xmlns="http://www.w3.org/2000/svg"><path d="M.14 15.74h2.57V4.4H.14v11.35zM1.42 2.9c.8 0 1.43-.64 1.43-1.44C2.85.64 2.22 0 1.42 0 .62 0 0 .64 0 1.46c0 .8.63 1.44 1.42 1.44zM11.24.03c-4.33 0-7.05 3.08-7.05 8 0 4.9 2.72 7.97 7.05 7.97s7.04-3.06 7.04-7.98c0-4.91-2.71-7.99-7.04-7.99zm0 2.36c2.65 0 4.34 2.18 4.34 5.63 0 3.44-1.7 5.62-4.34 5.62-2.65 0-4.33-2.18-4.33-5.62 0-3.45 1.68-5.63 4.33-5.63zm8.13 9c.11 2.85 2.35 4.61 5.77 4.61 3.6 0 5.86-1.84 5.86-4.78 0-2.3-1.28-3.6-4.3-4.31L25 6.5c-1.82-.46-2.58-1.06-2.58-2.09 0-1.28 1.14-2.14 2.81-2.14 1.7 0 2.87.87 2.99 2.31h2.53C30.7 1.87 28.53.03 25.25.03c-3.23 0-5.52 1.86-5.52 4.6 0 2.2 1.3 3.57 4.03 4.23l1.93.47c1.87.46 2.63 1.1 2.63 2.22 0 1.28-1.24 2.2-3.03 2.2-1.82 0-3.19-.93-3.35-2.35h-2.57z" fill="#300D4F"></path></svg></a><a href="tutorials5c7c.html?tag=Swift" class="css-a3lpv2 e137azhw1"><svg fill="#300D4F" height="40" viewBox="0 0 48 40" width="48" xmlns="http://www.w3.org/2000/svg"><path d="m36.4229 37.2324c-5.5501 3.0374-13.1814 3.3495-20.859.232-6.21651-2.5056-11.37455-6.8917-14.681088-11.903 1.587148 1.2528 3.438778 2.2555 5.422648 3.1321 7.92884 3.5207 15.85604 3.2796 21.43464.009-.0035-.0034-.0059-.0057-.0083-.009-7.9357-5.764-14.681-13.2821-19.70671-19.42127-1.05853-1.00249-1.85211-2.25555-2.64568-3.38322 6.08399 5.26259 15.73949 11.90309 19.17749 13.78349-7.2733-7.2681-13.7546-16.28916-13.4906-16.03905 11.507 11.02655 22.2208 17.29185 22.2208 17.29185.3544.1893.6279.347.8479.4878.2319-.5588.4352-1.139.6065-1.7406 1.8516-6.3904-.264-13.65843-4.8937-19.6725 10.7126 6.13969 17.0619 17.667 14.4159 27.3157-.069.2602-.1439.5171-.2248.7695.0309.0349.0618.071.0928.1081 5.2897 6.2654 3.8352 12.9058 3.174 11.653-2.8696-5.32-8.1819-3.6932-10.8826-2.6138z" fill="#300D4F"></path></svg></a></div><style data-emotion-css="1diad6n">.css-1diad6n{position:relative;max-width:800px;margin:auto;}.css-1diad6n .algolia-autocomplete{width:100%;}.css-1diad6n .aa-dropdown-menu{width:100%;padding-top:1rem;}@media all and (min-width:760px){.css-1diad6n .aa-dropdown-menu{width:85%;}}.css-1diad6n .aa-dataset-posts,.css-1diad6n .aa-dataset-tags,.css-1diad6n .aa-dataset-products{background:#f9f9ff;}.css-1diad6n .aa-dataset-title{padding:1rem 1rem 0.4rem 1rem;font-size:14px;font-weight:400;color:#443385;}.css-1diad6n .aa-suggestion{padding:0.5rem 1rem;color:#443385;}.css-1diad6n .aa-suggestion.aa-cursor{background:#eeeeff;cursor:pointer;}.css-1diad6n .aa-suggestion em{font-weight:500;font-style:normal;color:#3b1e56;}.css-1diad6n .aa-suggestion-icon{display:inline-block;width:20px;vertical-align:middle;margin-right:0.5rem;}.css-1diad6n .aa-suggestion-icon svg{fill:#733693;}</style><div class="css-1diad6n e3qj6ka0"><style data-emotion-css="9f9jb9">.css-9f9jb9{width:26px;display:inline-block;position:absolute;top:calc(50% - 13px);left:1rem;z-index:1;}.css-9f9jb9 svg{fill:#300D4F;}</style><span class="css-9f9jb9 e3qj6ka2"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 118.783 118.783" xml:space="preserve"><path d="M115.97 101.597L88.661 74.286a47.75 47.75 0 0 0 7.333-25.488c0-26.509-21.49-47.996-47.998-47.996S0 22.289 0 48.798c0 26.51 21.487 47.995 47.996 47.995a47.776 47.776 0 0 0 27.414-8.605l26.984 26.986a9.574 9.574 0 0 0 6.788 2.806 9.58 9.58 0 0 0 6.791-2.806 9.602 9.602 0 0 0-.003-13.577zM47.996 81.243c-17.917 0-32.443-14.525-32.443-32.443s14.526-32.444 32.443-32.444c17.918 0 32.443 14.526 32.443 32.444S65.914 81.243 47.996 81.243z"></path></svg></span><style data-emotion-css="17qxgeo">.css-17qxgeo{position:relative;vertical-align:top;width:100%;padding:1rem 2rem 1rem 3.2rem;border-radius:2px;border:0px;background:#F4F4F4;color:#300D4F;font-size:16px;}.css-17qxgeo::-webkit-input-placeholder{color:#b4b3f1;opacity:1;}.css-17qxgeo::-moz-placeholder{color:#b4b3f1;opacity:1;}.css-17qxgeo:-ms-input-placeholder{color:#b4b3f1;opacity:1;}.css-17qxgeo::placeholder{color:#b4b3f1;opacity:1;}@media all and (min-width:760px){.css-17qxgeo{width:85%;}}</style><input id="input-id" placeholder="Enter a search term" class="css-17qxgeo e3qj6ka1" value="Ruby"/><style data-emotion-css="5ftl79">.css-5ftl79{position:absolute;top:0;right:0;height:100%;width:calc(15% - 1rem);}@media all and (min-width:760px){.css-5ftl79{width:calc(15% - 1rem);}}@media all and (max-width:760px){.css-5ftl79{display:none;}}</style><style data-emotion-css="1lkdew6">.css-1lkdew6{font-family:maison-neue,sans-serif;font-weight:700;line-height:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;border:none;outline:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:inline-block;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;padding:1rem;border-radius:2px;font-size:1rem;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;-webkit-transition:box-shadow .2s ease,background-color .2s ease,-webkit-transform .2s ease;-webkit-transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;transition:box-shadow .2s ease,background-color .2s ease,transform .2s ease;padding:0.875rem 1rem;color:white;background-color:#C223CE;border:2px solid #C223CE;-webkit-transition:all 0.1s ease;transition:all 0.1s ease;position:absolute;top:0;right:0;height:100%;width:calc(15% - 1rem);}.css-1lkdew6:hover,.css-1lkdew6:focus{color:#300D4F;background-color:transparent;box-shadow:inset 12em 0 0 0 transparent;}.css-1lkdew6:active{color:#300D4F;background-color:transparent;box-shadow:inset 12em 0 0 0 transparent;}@media all and (min-width:760px){.css-1lkdew6{width:calc(15% - 1rem);}}@media all and (max-width:760px){.css-1lkdew6{display:none;}}</style><button type="button" kind="primary" class="css-1lkdew6 ermq5n0">Search</button><style data-emotion-css="3y2nae">.css-3y2nae{width:26px;display:inline-block;position:absolute;top:calc(50% - 13px);right:1rem;z-index:1;}@media all and (min-width:760px){.css-3y2nae{right:8.5rem;}}</style><span style="display:inline-block;cursor:pointer" class="css-3y2nae e3qj6ka3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 27.965 27.965" xml:space="preserve"><path d="M13.98,0C6.259,0,0,6.261,0,13.983c0,7.721,6.259,13.982,13.98,13.982c7.725,0,13.985-6.262,13.985-13.982    C27.965,6.261,21.705,0,13.98,0z M19.992,17.769l-2.227,2.224c0,0-3.523-3.78-3.786-3.78c-0.259,0-3.783,3.78-3.783,3.78    l-2.228-2.224c0,0,3.784-3.472,3.784-3.781c0-0.314-3.784-3.787-3.784-3.787l2.228-2.229c0,0,3.553,3.782,3.783,3.782    c0.232,0,3.786-3.782,3.786-3.782l2.227,2.229c0,0-3.785,3.523-3.785,3.787C16.207,14.239,19.992,17.769,19.992,17.769z" fill="#b4b3f1"></path></svg></span></div></div><style data-emotion-css="14qi7p4">.css-14qi7p4{max-width:75rem;margin:0 auto;padding:3rem 1.5rem 3rem;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media all and (min-width:760px){.css-14qi7p4{padding:5rem 1.5rem 3rem;}}</style><div class="css-14qi7p4 e1xbdcly0"><style data-emotion-css="df8fv">.css-df8fv{width:100%;display:inline-block;margin-bottom:2rem;vertical-align:top;min-height:310px;}@media all and (min-width:760px){.css-df8fv{width:calc(50% - 1rem);margin-right:1.5rem;}.css-df8fv:nth-of-type(2n){margin-right:0;}}@media all and (min-width:1200px){.css-df8fv{width:calc(33.33% - 1.3rem);margin-right:1.95rem;}.css-df8fv:nth-of-type(2n){margin-right:1.95rem;}.css-df8fv:nth-of-type(3n){margin-right:0;}}</style><div class="css-df8fv e1xbdcly1"><style data-emotion-css="ll4zz7">.css-ll4zz7{-webkit-text-decoration:none;text-decoration:none;color:#300D4F;border-bottom:2px solid #C223CE;}.css-ll4zz7:hover{cursor:pointer;color:white;background-color:#300D4F;}</style><a href="tutorials/live-blog-ruby-rails.html" class="css-ll4zz7 e1kw903v0"><style data-emotion-css="1s3ax5">.css-1s3ax5{padding:1.5rem;border:2px solid #443385;box-shadow:-8px 8px #e1e1fc;border-radius:4px;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-transition:all 0.15s ease-out;transition:all 0.15s ease-out;}.css-1s3ax5:hover{-webkit-transform:translate3d(-3px,4px,0);-ms-transform:translate3d(-3px,4px,0);transform:translate3d(-3px,4px,0);box-shadow:none;}.css-1s3ax5:hover div:nth-of-type(2) span:nth-of-type(2){-webkit-transform:translate3d(10px,0,0);-ms-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0);}</style><div class="css-1s3ax5 ehcfy4u0"><div><style data-emotion-css="anl37j">.css-anl37j{font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;list-style:none;display:block;text-transform:uppercase;font-size:.8rem;}.css-anl37j > li:first-of-type{padding-left:0px;margin-left:0px;}</style><ul class="css-anl37j egy9rbj0"><style data-emotion-css="13kz1ow">.css-13kz1ow{margin:0 4px 4px;display:inline-block;color:#5c29db;}</style><li type="tag" class="css-13kz1ow egy9rbj1">Ruby<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Ruby on Rails<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Social</li></ul><style data-emotion-css="1cb7erd">.css-1cb7erd{font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;font-size:28px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;color:#300D4F;margin-bottom:1rem;font-size:19px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;padding:16px 0 8px;line-height:1.5;-webkit-letter-spacing:0.02em;-moz-letter-spacing:0.02em;-ms-letter-spacing:0.02em;letter-spacing:0.02em;cursor:pointer;}@media all and (min-width:400px){.css-1cb7erd{font-size:28px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:760px){.css-1cb7erd{font-size:31.5px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:960px){.css-1cb7erd{font-size:35.448px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:1200px){.css-1cb7erd{font-size:39.872px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:400px){.css-1cb7erd{font-size:19px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:760px){.css-1cb7erd{font-size:21.375px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:960px){.css-1cb7erd{font-size:24.054000000000002px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:1200px){.css-1cb7erd{font-size:27.055999999999997px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}.css-1cb7erd:hover{color:#4b147b;}</style><h3 scale="h5" class="css-1cb7erd ehcfy4u1">Create a live blog app using Ruby on Rails</h3><style data-emotion-css="k12xad">.css-k12xad{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.5;font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;color:#300D4F;margin-bottom:1rem;}@media all and (min-width:400px){.css-k12xad{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:760px){.css-k12xad{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:960px){.css-k12xad{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:1200px){.css-k12xad{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}.css-k12xad a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-k12xad a:hover{color:white;background-color:#300D4F;border-bottom:none;}</style><p class="css-k12xad e5jrto45">Build a simple blog app with realtime post updates. Host images with Cloudinary and display new posts instantly.</p></div><style data-emotion-css="1v0cd8t">.css-1v0cd8t{line-height:1;}</style><div class="css-1v0cd8t"><style data-emotion-css="9dax6z">.css-9dax6z{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.5;font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;color:#300D4F;font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;display:inline-block;vertical-align:middle;text-transform:uppercase;cursor:pointer;color:#5c29db;font-size:16px !important;}@media all and (min-width:400px){.css-9dax6z{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:760px){.css-9dax6z{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:960px){.css-9dax6z{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}@media all and (min-width:1200px){.css-9dax6z{font-size:16px;-webkit-letter-spacing:0px;-moz-letter-spacing:0px;-ms-letter-spacing:0px;letter-spacing:0px;}}.css-9dax6z:hover{color:#7d55e2;}</style><span class="css-9dax6z ehcfy4u2">read more</span><style data-emotion-css="1slwavu">.css-1slwavu{display:inline-block;vertical-align:middle;width:16px;margin-left:10px;margin-top:3px;}</style><span class="css-1slwavu ehcfy4u3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 492.004 492.004" xml:space="preserve" width="100%" fill="#5c29db"><path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path></svg></span></div></div></a></div><div class="css-df8fv e1xbdcly1"><a href="tutorials/comments-app-ruby-rails.html" class="css-ll4zz7 e1kw903v0"><div class="css-1s3ax5 ehcfy4u0"><div><ul class="css-anl37j egy9rbj0"><li type="tag" class="css-13kz1ow egy9rbj1">JavaScript<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Live Comments</li>…</ul><h3 scale="h5" class="css-1cb7erd ehcfy4u1">Build a comments app with Ruby on Rails</h3><p class="css-k12xad e5jrto45">This short tutorial demonstrates how to integrate realtime updates into a Ruby on Rails application. You will create a s...</p></div><div class="css-1v0cd8t"><span class="css-9dax6z ehcfy4u2">read more</span><span class="css-1slwavu ehcfy4u3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 492.004 492.004" xml:space="preserve" width="100%" fill="#5c29db"><path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path></svg></span></div></div></a></div><div class="css-df8fv e1xbdcly1"><a href="tutorials/polling-ruby-rails-postgresql.html" class="css-ll4zz7 e1kw903v0"><div class="css-1s3ax5 ehcfy4u0"><div><ul class="css-anl37j egy9rbj0"><li type="tag" class="css-13kz1ow egy9rbj1">Data Visualization</li>…</ul><h3 scale="h5" class="css-1cb7erd ehcfy4u1">Build a polling app with Ruby on Rails and PostgreSQL</h3><p class="css-k12xad e5jrto45">Build a web app with Ruby on Rails, featuring a live poll and chart. User responses are communicated instantly, with the...</p></div><div class="css-1v0cd8t"><span class="css-9dax6z ehcfy4u2">read more</span><span class="css-1slwavu ehcfy4u3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 492.004 492.004" xml:space="preserve" width="100%" fill="#5c29db"><path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path></svg></span></div></div></a></div><div class="css-df8fv e1xbdcly1"><a href="tutorials/photo-sharing-ruby-rails.html" class="css-ll4zz7 e1kw903v0"><div class="css-1s3ax5 ehcfy4u0"><div><ul class="css-anl37j egy9rbj0"><li type="tag" class="css-13kz1ow egy9rbj1">JavaScript<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Ruby</li>…</ul><h3 scale="h5" class="css-1cb7erd ehcfy4u1">Build a photo sharing app with Ruby on Rails and Cloudinary</h3><p class="css-k12xad e5jrto45">Build a simple photo sharing app using Ruby and Cloudinary. Users will be able to upload and caption photos, and receive...</p></div><div class="css-1v0cd8t"><span class="css-9dax6z ehcfy4u2">read more</span><span class="css-1slwavu ehcfy4u3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 492.004 492.004" xml:space="preserve" width="100%" fill="#5c29db"><path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path></svg></span></div></div></a></div><div class="css-df8fv e1xbdcly1"><a href="tutorials/live-comments-ruby-rails-postgresql.html" class="css-ll4zz7 e1kw903v0"><div class="css-1s3ax5 ehcfy4u0"><div><ul class="css-anl37j egy9rbj0"><li type="tag" class="css-13kz1ow egy9rbj1">Live Comments<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Ruby</li>…</ul><h3 scale="h5" class="css-1cb7erd ehcfy4u1">Build a live comments app with Ruby on Rails and PostgreSQL</h3><p class="css-k12xad e5jrto45">Build a social commenting application using Ruby on Rails and PostgreSQL. App users can leave comments on a sample post,...</p></div><div class="css-1v0cd8t"><span class="css-9dax6z ehcfy4u2">read more</span><span class="css-1slwavu ehcfy4u3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 492.004 492.004" xml:space="preserve" width="100%" fill="#5c29db"><path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path></svg></span></div></div></a></div><div class="css-df8fv e1xbdcly1"><a href="tutorials/location-ruby-rails-googlemaps.html" class="css-ll4zz7 e1kw903v0"><div class="css-1s3ax5 ehcfy4u0"><div><ul class="css-anl37j egy9rbj0"><li type="tag" class="css-13kz1ow egy9rbj1">Location<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Maps<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Ruby</li>…</ul><h3 scale="h5" class="css-1cb7erd ehcfy4u1">Build a location sharing app with Ruby on Rails and the Google Maps API </h3><p class="css-k12xad e5jrto45">Build a location sharing web app using Ruby on Rails and the Google Maps API. Get your location, generate a link to shar...</p></div><div class="css-1v0cd8t"><span class="css-9dax6z ehcfy4u2">read more</span><span class="css-1slwavu ehcfy4u3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 492.004 492.004" xml:space="preserve" width="100%" fill="#5c29db"><path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path></svg></span></div></div></a></div><div class="css-df8fv e1xbdcly1"><a href="tutorials/online-presence-ruby-rails.html" class="css-ll4zz7 e1kw903v0"><div class="css-1s3ax5 ehcfy4u0"><div><ul class="css-anl37j egy9rbj0"><li type="tag" class="css-13kz1ow egy9rbj1">Online Presence<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Ruby</li>…</ul><h3 scale="h5" class="css-1cb7erd ehcfy4u1">Track online presence in a Ruby on Rails app</h3><p class="css-k12xad e5jrto45">Build a Ruby app that tracks which users are online. You will create a simple app, with signup and login functionality. ...</p></div><div class="css-1v0cd8t"><span class="css-9dax6z ehcfy4u2">read more</span><span class="css-1slwavu ehcfy4u3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 492.004 492.004" xml:space="preserve" width="100%" fill="#5c29db"><path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path></svg></span></div></div></a></div><div class="css-df8fv e1xbdcly1"><a href="tutorials/social-feed-ruby-rails.html" class="css-ll4zz7 e1kw903v0"><div class="css-1s3ax5 ehcfy4u0"><div><ul class="css-anl37j egy9rbj0"><li type="tag" class="css-13kz1ow egy9rbj1">Feeds<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">JavaScript<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Ruby</li>…</ul><h3 scale="h5" class="css-1cb7erd ehcfy4u1">Build a social feed with Ruby on Rails and PostgreSQL</h3><p class="css-k12xad e5jrto45">This tutorial will show you how to create a simple social media feed using Ruby on Rails. Users will be able to make pos...</p></div><div class="css-1v0cd8t"><span class="css-9dax6z ehcfy4u2">read more</span><span class="css-1slwavu ehcfy4u3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 492.004 492.004" xml:space="preserve" width="100%" fill="#5c29db"><path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path></svg></span></div></div></a></div><div class="css-df8fv e1xbdcly1"><a href="tutorials/live-chat-ruby.html" class="css-ll4zz7 e1kw903v0"><div class="css-1s3ax5 ehcfy4u0"><div><ul class="css-anl37j egy9rbj0"><li type="tag" class="css-13kz1ow egy9rbj1">Chat<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Ruby<!-- -->,</li><li type="tag" class="css-13kz1ow egy9rbj1">Ruby on Rails</li></ul><h3 scale="h5" class="css-1cb7erd ehcfy4u1">Build a live chat widget with Ruby and PostgreSQL</h3><p class="css-k12xad e5jrto45">Build a chat widget and admin dashboard using Ruby on Rails and PostgreSQL. The application provides the basic functiona...</p></div><div class="css-1v0cd8t"><span class="css-9dax6z ehcfy4u2">read more</span><span class="css-1slwavu ehcfy4u3"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 492.004 492.004" xml:space="preserve" width="100%" fill="#5c29db"><path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path></svg></span></div></div></a></div></div></div><style data-emotion-css="13da791">.css-13da791{text-align:center;margin-bottom:2rem;}</style><div class="css-13da791 edg0byb0"><style data-emotion-css="69ho49">.css-69ho49{padding:.7rem;min-width:2.5rem;display:inline-block;-webkit-text-decoration:none;text-decoration:none;margin-right:.3rem;text-align:center;border-radius:2px;background:#eeeeff;color:#443385;font-size:0.875rem;border:gainsboro;cursor:pointer;background:#eeeeff;color:#8f87e6;cursor:not-allowed;}.css-69ho49:hover{background:#5c29db;color:white;}.css-69ho49:active{background:#5c29db;}@media all and (min-width:760px){.css-69ho49{font-size:1rem;}}.css-69ho49:hover,.css-69ho49:active{cursor:not-allowed;background:#ebeaef;color:#fffc;}</style><a href="#" disabled="" class="css-69ho49 edg0byb1">Prev</a><style data-emotion-css="2wakph">.css-2wakph{padding:.7rem;min-width:2.5rem;display:inline-block;-webkit-text-decoration:none;text-decoration:none;margin-right:.3rem;text-align:center;border-radius:2px;background:#eeeeff;color:#443385;font-size:0.875rem;border:gainsboro;cursor:pointer;background:#5c29db;color:white;}.css-2wakph:hover{background:#5c29db;color:white;}.css-2wakph:active{background:#5c29db;}@media all and (min-width:760px){.css-2wakph{font-size:1rem;}}.css-2wakph:hover,.css-2wakph:active{background:#5c29db;color:white;}</style><a href="tutorials6c9f.html?tag=Ruby&amp;page=1" class="css-2wakph edg0byb1">1</a><style data-emotion-css="5s6711">.css-5s6711{padding:.7rem;min-width:2.5rem;display:inline-block;-webkit-text-decoration:none;text-decoration:none;margin-right:.3rem;text-align:center;border-radius:2px;background:#eeeeff;color:#443385;font-size:0.875rem;border:gainsboro;cursor:pointer;}.css-5s6711:hover{background:#5c29db;color:white;}.css-5s6711:active{background:#5c29db;}@media all and (min-width:760px){.css-5s6711{font-size:1rem;}}</style><a href="tutorials3564.html?tag=Ruby&amp;page=2" class="css-5s6711 edg0byb1">2</a><a href="tutorials3564.html?tag=Ruby&amp;page=2" class="css-5s6711 edg0byb1">Next</a></div><style data-emotion-css="1rywx5t">.css-1rywx5t{background-color:#300D4F;}</style><div class="css-1rywx5t e4ekq4e0"><style data-emotion-css="2h3eio">.css-2h3eio{width:100%;max-width:75rem;margin:0 auto;margin-bottom:3rem;padding:3rem 1rem 1rem 1rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}@media all and (min-width:760px){.css-2h3eio{padding:7rem 1rem 1rem 1rem;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><div class="css-2h3eio e4ekq4e1"><style data-emotion-css="i9gxme">.css-i9gxme{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="css-i9gxme"><style data-emotion-css="1ueuk6x">.css-1ueuk6x{width:134px;margin-bottom:3.5rem;}</style><div class="css-1ueuk6x"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1203.43 317.2"><path fill="#ffffff" d="M102.66 316.72v-79.51a.46.46 0 0 1 .24-.41l102.18-59a.46.46 0 0 0 .24-.41v-22.61a.47.47 0 0 0-.71-.41l-101.24 58.45a.47.47 0 0 1-.71-.41v-22.62a.47.47 0 0 1 .24-.41l102.18-59a.49.49 0 0 0 .24-.41v-22.61a.48.48 0 0 0-.71-.41L103.37 165.4a.47.47 0 0 1-.71-.41v-22.61a.46.46 0 0 1 .24-.41L205.08 83a.47.47 0 0 0 .24-.41V59.67a1 1 0 0 0-.47-.82L103.13.13a.93.93 0 0 0-.94 0L82.84 11.3a.47.47 0 0 0 0 .82l101.24 58.45a.48.48 0 0 1 0 .82l-19.35 11.17a1 1 0 0 1-.95 0L62.07 23.84a1 1 0 0 0-1 0L41.78 35a.47.47 0 0 0 0 .82L143 94.28a.47.47 0 0 1 0 .82l-19.34 11.17a1 1 0 0 1-1 0L21 47.54a1 1 0 0 0-1 0L0 59.12V258a.46.46 0 0 0 .24.41l19.58 11.31a.47.47 0 0 0 .71-.41V71.8a.47.47 0 0 1 .71-.41L40.83 82.7a.47.47 0 0 1 .23.41v198.6a.47.47 0 0 0 .24.41l19.58 11.31a.48.48 0 0 0 .72-.42V95.51a.47.47 0 0 1 .71-.41l19.58 11.3a.47.47 0 0 1 .24.41v198.61a.49.49 0 0 0 .23.41l19.64 11.3a.47.47 0 0 0 .66-.41z"></path><g fill="#ffffff"><path d="M308 254.11V62.7a3.56 3.56 0 0 1 3.66-3.58h56.9c36.08 0 58.49 21 58.49 56.18s-25.43 57.58-58.81 57.58h-30.38a1.91 1.91 0 0 0-1.91 1.86v79.68a3.56 3.56 0 0 1-3.65 3.58h-20.66a4.07 4.07 0 0 1-3.64-3.89zm60.56-104.89c19.07 0 29.88-15.87 29.88-33.92 0-18.68-9.85-32.84-29.88-32.84h-30.7a1.92 1.92 0 0 0-1.86 1.87v63a1.91 1.91 0 0 0 1.91 1.87z"></path><path d="M544.81 58.81h20.66a3.56 3.56 0 0 1 3.66 3.58V207c0 32.84-26.86 52.91-58.33 52.91-30.84 0-57.7-20.23-57.7-52.91V62.39a3.56 3.56 0 0 1 3.65-3.58h20.35a3.56 3.56 0 0 1 3.66 3.58v144.1c0 17.89 13.66 29.25 29.88 29.25s30.2-11.36 30.2-29.25v-144a4.2 4.2 0 0 1 3.97-3.68z"></path><path d="M640.18 157.16c-19.71-13.23-32.9-28-32.9-50.27 0-31.9 26.86-50.26 57.38-50.26 28.76 0 54 16 55.47 56.49a3.83 3.83 0 0 1-3.66 3.89h-18.91a3.64 3.64 0 0 1-3.66-3.42c-1.27-22-14.46-32.53-31-32.53-15.9 0-27.82 9.34-27.82 24.28 0 12.91 7.79 19.92 28.14 34.23l28.45 20.54c19.71 14.32 30.83 27.24 30.83 47.62 0 33-27.18 52.6-59.13 52.6-30.2 0-54-16.49-56.58-56.95a3.64 3.64 0 0 1 3.66-3.9h19.23a3.75 3.75 0 0 1 3.65 3.43c1.75 22.56 15.26 33 31.16 33 15.26 0 29.56-8.25 29.56-27.55 0-12-5.4-17.89-21-28.32z"></path><path d="M855.55 254.11v-83.72a1.91 1.91 0 0 0-1.91-1.87h-60.87a1.91 1.91 0 0 0-1.91 1.87v83.72a3.56 3.56 0 0 1-3.66 3.57h-20.66a3.56 3.56 0 0 1-3.66-3.57V62.7a3.56 3.56 0 0 1 3.66-3.58h20.66a3.56 3.56 0 0 1 3.66 3.58v80a1.91 1.91 0 0 0 1.91 1.86h60.87a1.91 1.91 0 0 0 1.91-1.86v-80a3.56 3.56 0 0 1 3.66-3.58h20.66a3.56 3.56 0 0 1 3.66 3.58v191.56a3.56 3.56 0 0 1-3.66 3.58h-20.66a3.69 3.69 0 0 1-3.66-3.73z"></path><path d="M935.82 254.11V62.7a3.56 3.56 0 0 1 3.65-3.58h101.09a3.56 3.56 0 0 1 3.66 3.58v16.65a3.56 3.56 0 0 1-3.66 3.58H965.7a1.92 1.92 0 0 0-1.91 1.87v58.66a1.91 1.91 0 0 0 1.91 1.87h51.5a3.56 3.56 0 0 1 3.65 3.58v16.65a3.56 3.56 0 0 1-3.65 3.58h-51.5a1.92 1.92 0 0 0-1.91 1.87v61a1.92 1.92 0 0 0 1.91 1.87h74.86a3.66 3.66 0 0 1 3.66 3.58v16.65a3.66 3.66 0 0 1-3.66 3.57H939.47a3.46 3.46 0 0 1-3.65-3.57z"></path><path d="M1173.28 254.11l-30.51-83.26a1.86 1.86 0 0 0-1.75-1.24h-28.29a1.91 1.91 0 0 0-1.91 1.86v82.64a3.56 3.56 0 0 1-3.66 3.57h-20.66a3.55 3.55 0 0 1-3.65-3.57V62.7a3.56 3.56 0 0 1 3.65-3.58h56.59c34.65 0 58.49 21.94 58.49 54.47 0 21.63-11.45 39.68-32.43 50.26a.8.8 0 0 0-.47 1.09l34.49 88.23a3.66 3.66 0 0 1-3.5 5h-21.46a6.72 6.72 0 0 1-4.93-4.06zm-32.42-107.22c16.69 0 31.63-11.67 31.63-32.21 0-18.37-11.92-32.22-31.63-32.22h-28.13a1.74 1.74 0 0 0-1.75 1.71v60.69a1.91 1.91 0 0 0 1.91 1.87z"></path></g></svg></div></div><style data-emotion-css="16n03ue">.css-16n03ue{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media all and (min-width:760px){.css-16n03ue{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}}.css-16n03ue div:nth-of-type(even){margin-left:1rem;}</style><div class="css-16n03ue e4ekq4e2"><style data-emotion-css="1ttywp7">.css-1ttywp7{width:45%;}</style><div class="css-1ttywp7 e4ekq4e3"><style data-emotion-css="cet0rr">.css-cet0rr{margin-bottom:0.5rem;}</style><style data-emotion-css="7dutwg">.css-7dutwg{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:23.04px;color:#300D4F;margin-bottom:1rem;font-size:19.2px;font-family:maison-neue,sans-serif;font-weight:700;line-height:1.5;color:#ffffff;margin-bottom:0.5rem;}@media all and (min-width:400px){.css-7dutwg{font-size:23.04px;}}@media all and (min-width:760px){.css-7dutwg{font-size:28.432px;}}@media all and (min-width:960px){.css-7dutwg{font-size:31.984px;}}@media all and (min-width:1200px){.css-7dutwg{font-size:31.984px;}}@media all and (min-width:400px){.css-7dutwg{font-size:19.2px;}}@media all and (min-width:760px){.css-7dutwg{font-size:21.328px;}}@media all and (min-width:960px){.css-7dutwg{font-size:22.624px;}}@media all and (min-width:1200px){.css-7dutwg{font-size:22.624px;}}</style><h3 scale="h4" color="#ffffff" class="css-7dutwg e1oph6j42">Products</h3><style data-emotion-css="ckr2dh">.css-ckr2dh{list-style:none;margin-bottom:2rem;}</style><ul class="css-ckr2dh e4ekq4e4"><li><style data-emotion-css="17vxp28">.css-17vxp28{margin:.5rem 0;display:inline-block;border-style:none;}</style><style data-emotion-css="1btu1sg">.css-1btu1sg{-webkit-text-decoration:none;text-decoration:none;color:white;border-bottom:2px solid white;margin:.5rem 0;display:inline-block;border-style:none;}.css-1btu1sg:hover{cursor:pointer;color:#300D4F;background-color:white;}</style><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="index-2.html">Channels</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="index-3.html">Beams</a></li></ul></div><div class="css-1ttywp7 e4ekq4e3"><h3 scale="h4" color="#ffffff" class="css-7dutwg e1oph6j42">Developers</h3><ul class="css-ckr2dh e4ekq4e4"><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="docs.html" target="_blank" rel="noopener noreferrer">Docs</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="tutorials.html">Tutorials</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="https://status.pusher.com/" target="_blank" rel="noopener noreferrer">Status</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="https://support.pusher.com/hc/en-us" target="_blank" rel="noopener noreferrer">Support</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="sessions.html" target="_blank" rel="noopener noreferrer">Sessions</a></li></ul></div><div class="css-1ttywp7 e4ekq4e3"><h3 scale="h4" color="#ffffff" class="css-7dutwg e1oph6j42">Company</h3><ul class="css-ckr2dh e4ekq4e4"><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="index5300.html?origin=footer">Contact Sales</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="index-4.html">Customer stories</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="index-5.html">Terms &amp; Conditions</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="index-6.html">Security</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="index-7.html">Careers</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="https://blog.pusher.com/" target="_blank" rel="noopener noreferrer">Blog</a></li></ul></div><div class="css-1ttywp7 e4ekq4e3"><h3 scale="h4" color="#ffffff" class="css-7dutwg e1oph6j42">Connect</h3><ul class="css-ckr2dh e4ekq4e4"><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="https://twitter.com/pusher" target="_blank" rel="noopener noreferrer">Twitter</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="https://stories.pusher.com/" target="_blank" rel="noopener noreferrer">Medium</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="https://www.youtube.com/channel/UCoyqucxoFXDFnh3khD0rjUg" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="https://www.linkedin.com/company/pusher-app/" target="_blank" rel="noopener noreferrer">LinkedIn</a></li><li><a class="e4ekq4e5 css-1btu1sg e1kw903v0" href="https://github.com/pusher" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul></div></div></div><style data-emotion-css="1ixj8zf">.css-1ixj8zf{width:100%;max-width:75rem;margin:0 auto;padding:1rem;}</style><div class="css-1ixj8zf e4ekq4e6"><style data-emotion-css="v8rk0o">.css-v8rk0o{font-family:maison-neue,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:#300D4F;margin-bottom:1rem;color:#ffffff;font-size:14px !important;margin-bottom:0.5rem;}@media all and (min-width:400px){.css-v8rk0o{font-size:18px;}}@media all and (min-width:760px){.css-v8rk0o{font-size:18px;}}@media all and (min-width:960px){.css-v8rk0o{font-size:18px;}}@media all and (min-width:1200px){.css-v8rk0o{font-size:18px;}}.css-v8rk0o a{color:#300D4F;font-weight:700;-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #C223CE;}.css-v8rk0o a:hover{color:white;background-color:#300D4F;border-bottom:none;}</style><p class="css-v8rk0o e4ekq4e7">© <!-- -->2020<!-- --> Pusher Ltd. All rights reserved.</p><p class="css-v8rk0o e4ekq4e7">Pusher Limited is a company registered in England and Wales (No. 07489873) whose registered office is at 160 Old Street, London, EC1V 9BW.</p></div></div></main><footer></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postCount":13,"posts":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"3HXaRCz90cI2UgoMassMMC","type":"Entry","createdAt":"2018-06-15T10:54:47.337Z","updatedAt":"2018-06-15T10:54:47.337Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Create a live blog app using Ruby on Rails","url":"live-blog-ruby-rails","authors":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"2qeLNtkOw0ImAS2QcUcKcG","type":"Entry","createdAt":"2018-06-15T10:54:43.491Z","updatedAt":"2019-05-17T10:50:18.109Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"author"}},"locale":"en-US"},"fields":{"name":"Oreoluwa Ogundipe","url":"oreoluwa-ogundipe","email":"oreogundipe@gmail.com","twitter":"https://twitter.com/ogundipeore","github":"https://github.com/orehga","guestWriter":true}}],"projectRepo":"https://github.com/oreHGA/ruby-live-blog","products":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"SRRvSlyWCAyg2KK4U4EW0","type":"Entry","createdAt":"2018-02-12T14:37:35.058Z","updatedAt":"2019-08-28T08:41:41.310Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"product"}},"locale":"en-US"},"fields":{"name":"Channels","url":"channels","isBeta":false,"featured":true}}],"tags":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6S5luSjtlYk4i8eM8AyO4I","type":"Entry","createdAt":"2018-02-02T13:39:48.331Z","updatedAt":"2018-02-12T14:41:19.307Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby","url":"ruby","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"hPWAADkjVmomS68E6seqQ","type":"Entry","createdAt":"2018-02-12T14:48:52.613Z","updatedAt":"2018-02-12T14:48:52.613Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby on Rails","url":"ruby-on-rails","type":"framework"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6KUSaq9zVuw0SWMYaWAUQI","type":"Entry","createdAt":"2018-02-12T15:11:33.107Z","updatedAt":"2018-02-26T12:31:11.535Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Social","url":"social","type":"use case"}}],"reviewDate":"2018-06-12","description":"Build a simple blog app with realtime post updates. Host images with Cloudinary and display new posts instantly.","prerequisite":"You will need Ruby 2.2+ and Rails 4.2+ installed on your machine. ","content":"With the advancements of technology came new ways of doing things. About 20 years ago, the major source of obtaining information was from printed publications. Now, people don’t buy as many printed publications as before. They visit the websites of media publications, consume information and then continue with the rest of their days. This has come with numerous advantages with the major advantage being how fast it is to get the new articles to the readers.\n\n\n## What we’ll build\n\nIn this article, we are going to create a live blog application that allows readers to see new posts in realtime as editors publish them. To do this, we are going to use Ruby on Rails and Pusher.\n\n![ruby-live-blog-demo](//images.ctfassets.net/1es3ne0caaid/7sOXPRNnpuq0OAeYiKCcAE/804ad02ee143d0bab36d8fae1797f5e6/ruby-live-blog-demo.gif)\n\n## Prerequisites\n\nTo follow through this tutorial, you’ll need the following:\n\n- Ruby installed on your machine\n- Rails on your machine\n\nTo confirm your installation, run the following command:\n\n```\n    rails --version # minimum version 4.2\n    ruby --version # minimum version 2.2.2 \n```\n\nIf you get their version numbers as results then you’re good to go.\n\n## Getting started\n\n### Creating a new Ruby project\nTo create a new rails project, run the following command:\n\n```\n    rails new ruby-live-blog\n```\n\nThis creates a starter project for you with the following structure:\n\n![ruby-live-blog-structure](//images.ctfassets.net/1es3ne0caaid/Den3gVCCWW4soMoCmusIm/a8e0845cdeafd4446c701c1b0788e6ad/ruby-live-blog-structure.png)\n\nNow, you can view the demo application by running:\n\n```\n    rails server --binding=127.0.0.1\n```\n\nOpen your browser and navigate to http://127.0.0.1:3000/ to see the application at work\n\n![youre-on-rails](//images.ctfassets.net/1es3ne0caaid/3sOsgC4S80gOKM8Waqkgui/87c5c9e64375cbb2f8f2516223f4e515/youre-on-rails.png)\n\n### Configuring the database\nTo display blog posts to users, there has to be a place where the application stores blog posts. To store the blog posts, we need a database. For this live blog application, we are going to use SQLite as the database for storing information.\n\nTo create your database, run the command:\n\n```\n    rake db:create\n```\n\nThis creates the database in the `db/` directory of the project if they weren’t automatically created before.\n\n### Creating the post model\nTo represent a sample blog post in our application, let’s create a model. A simple blog post will contain the following properties:\n\n- Title - the title of the post\n- Body - the post content\n- Author - the name of the author of the post\n- Media - a link to the post media\n\nCreate the model by running the command:\n\n```\n    rails generate model Post title:text body:text author:text media:text\n```\n\nThis creates the post model and a migration file for the new model located in the `db/migrate/`  directory. A migration file is a form of version control for the database. Your posts migration file will look like this:\n\n``` ruby\n    # db/migrate/{timestamp}_create_posts.rb\n    \n    class CreatePosts \u003c ActiveRecord::Migration[5.2]\n      def change\n        create_table :posts do |t|\n          t.text :title\n          t.text :body\n          t.text :author\n          t.text :media\n    \n          t.timestamps\n        end\n      end\n    end\n```    \n\nTo effect the changes in the database, run the migration by using the command:\n\n```\n    rails db:migrate\n```\n\nOn a successful run, you get the following output:\n\n```\n    ➜ rails db:migrate\n    == 20180609132632 CreatePosts: migrating ======================================\n    -- create_table(:posts)\n       -\u003e 0.0016s\n    == 20180609132632 CreatePosts: migrated (0.0017s) =============================\n```\n\nAt this stage, the database structure is all set and we have created the post model. The next thing to do now is to allow editors upload new blog posts.\n\n## Creating the homepage\n\nThe homepage displays created blog posts to readers when the page is loaded. Let’s create a controller that is responsible for fetching and displaying posts on the homepage. To do this, run the following command:\n\n```\n    rails generate controller Home index\n```   \n\nThis creates a new controller and related template files. Update the home controller to look like this:\n\n``` ruby\n    # app/controllers/home_controller.rb \n    \n    class HomeController \u003c ApplicationController\n      def index\n        @posts = Post.all.order(\"created_at DESC\")\n      end\n    end\n```    \n\nThe next thing to do is to then update the index view as follows:\n\n``` html\n    \u003c!-- app/views/home/index.html.erb --\u003e\n    \u003cdiv class=\"wrapper\"\u003e\n        \u003cdiv class=\"title\"\u003e\n            \u003ch1\u003eLive blog with Ruby and Pusher\u003c/h1\u003e\n            \u003cp\u003eNew posts will be displayed in realtime\u003c/p\u003e    \n        \u003c/div\u003e\n    \n        \u003cdiv class=\"posts\" id=\"post_section\"\u003e\n            \u003c% @posts.each do |post| %\u003e\n                \u003cdiv class=\"post-card\"\u003e\n                    \u003cimg class=\"image\" src=\"\u003c%= post.media %\u003e\"\u003e\n                    \u003cdiv class=\"title\"\u003e\n                        \u003ch2\u003e\u003c%= post.title %\u003e\u003c/h2\u003e\n                    \u003c/div\u003e\n                    \u003cdiv class=\"body-trunc\"\u003e\n                        \u003cp\u003e\u003c%= post.body %\u003e\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c% end %\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n```\n\nThe index view also has the following styling:\n\n``` scss\n    // app/assets/stylesheets/home.scss\n    \n    * {\n      font-family: \"Lora\", serif;\n    }\n    \n    .title {\n      text-align: center;\n    }\n    \n    .posts {\n      margin-top: 50px;\n      display: flex;\n      flex-direction: row;  \n      justify-content: space-around;\n      flex-wrap: wrap;\n    }\n    \n    .post-card {\n      display: flex;\n      flex-direction: column;\n      min-width: 300px;\n      max-width: 300px;\n      height: 400px;\n      box-shadow: 1px 1px rgb(68, 68, 68);\n      border: 1px solid rgb(68, 68, 68);\n      border-radius: 5px;\n      margin: 20px 0px;\n    }\n    \n    .image {\n      width: 100%;\n      height: 170px;\n    }\n    \n    .body-trunc {\n      margin-left: 10px;\n      margin-right: 10px;\n    }\n``` \n\n## Creating and storing posts\n\nThe Post controller is responsible for accepting new post data and storing the post data in the database. To create the controller, run the following command:\n\n```\n    rails generate controller Post create store\n```\n\nThis command also creates route entries for the controller methods. At this point, your `routes.rb` file should look like this:\n\n``` ruby\n    # config/routes.rb\n    \n    Rails.application.routes.draw do\n      get 'post/create'\n      post 'post/store'\n      \n      root 'home#index'\n    end\n```\n\nThe `create` route is responsible for accepting the post data from the editor and the `store` route is responsible for storing the data in the database.\n\nUpdate the create view to look like this:\n\n``` html\n    \u003c!-- app/views/post/create.html.erb --\u003e\n    \n    \u003cdiv class=\"title\"\u003e\n        \u003ch1\u003eLive Blog\u003c/h1\u003e\n        \u003cp\u003eEditor View\u003c/p\u003e\n    \u003c/div\u003e\n    \n    \u003cdiv style=\"text-align:center\"\u003e\n        \u003cp\u003e\u003cstrong\u003eFill and submit the form below to create a new post\u003c/strong\u003e\u003c/p\u003e\n    \n        \u003cform method=\"POST\" action=\"/post/store\" enctype=\"multipart/form-data\" class=\"post-form\"\u003e\n            \u003c%= token_tag %\u003e\n    \n            \u003cdiv class=\"form-group\"\u003e\n                \u003clabel for=\"title\"\u003eTitle\u003c/label\u003e\n                \u003cinput type=\"text\" name=\"title\" class=\"form-control\"\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"form-group\"\u003e\n                \u003clabel for=\"media\"\u003ePost Media\u003c/label\u003e\n                \u003cinput type=\"file\" name=\"media\" class=\"form-control media-upload\"\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"form-group\"\u003e\n                \u003clabel for=\"author\"\u003ePost Author\u003c/label\u003e\n                \u003cinput type=\"text\" name=\"author\" class=\"form-control\" /\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"form-group\"\u003e\n                \u003clabel for=\"body\"\u003ePost Content\u003c/label\u003e\n                \u003ctextarea name=\"body\" class=\"form-control\" cols=\"30\" rows=\"10\"\u003e\u003c/textarea\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"from-group\"\u003e\n                \u003cdiv\u003e\u003cinput type=\"submit\" value=\"Create Post\"\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \u003c/form\u003e\n    \n    \u003c/div\u003e\n```\n\nThe view also has the following styling:\n\n``` scss\n    // app/assets/stylesheets/posts.scss\n    \n    .post-form{\n        display: flex;\n        width: 50%;\n        flex-direction: column;\n        margin: 20px auto;\n    }\n    .form-group{\n        display: flex;\n        justify-content: space-between;\n        margin: 5px 0px;\n        align-items: center;\n    }\n    \n    input[type=\"submit\"]{\n        background-color: #333333;\n        border: none;\n        color: white;\n        padding: 10px 32px;\n        text-align: center;\n        text-decoration: none;\n        display: inline-block;\n        font-size: 16px;\n    }\n```\n\nWhen you navigate to the `/``post``/create` route on the web browser, you get the following view:\n\n![ruby-live-blog-create-post-1](//images.ctfassets.net/1es3ne0caaid/oWsqxLx9IGgc6Uk0s8iUY/ea6b016c0ee8a2964b1646d5c039f67a/ruby-live-blog-create-post-1.png)\n\nAt this point, the application is almost complete. Notice that in the create view, we specified that the form should be submitted to the `/post/store` route but we did not show how the post was saved. We will look at how to save posts in the next section.\n\n## Saving images with Cloudinary\n\nTo save images for the new posts, we will use [Cloudinary](https://cloudinary.com). Cloudinary takes care of all your image and video manipulation needs when building applications.\n\nCloudinary has a [Ruby gem](https://github.com/cloudinary/cloudinary_gem) that will be used to handle the file uploads.\n\nAdd the Cloudinary as a dependency in your `Gemfile`:\n\n```\n    # adding cloudinary to gemfile\n    gem 'cloudinary'\n```\n\nInstall it by running the command:\n\n```\n    bundle install\n```\n\n### Configuring Cloudinary\n\nTo use the Cloudinary gem, you need to have a Cloudinary developer account to use it in your applications. Head over [here](https://cloudinary.com/signup) to create one if you don’t have one already. \n\nCloudinary automatically checks for a `cloudinary.yml` in the `config` directory that contains the configuration file for your Cloudinary account. You can download your own customized file for your account [here](https://cloudinary.com/console/cloudinary.yml). Once it’s downloaded, place the file in the `config` directory. \n\n### Saving posts\n\nThe module will be used in the post controller as follows:\n\n``` ruby\n    # app/controllers/post_controller.rb\n    \n    class PostController \u003c ApplicationController\n      def create\n      end\n    \n      def store\n        # upload image to cloudinary\n        @image = Cloudinary::Uploader.upload(params[:media])\n        # create a new post object and save to db\n        @post = Post.new({:title =\u003e params[:title], :text =\u003e params[:text], :author =\u003e params[:author],  :media =\u003e @image['secure_url']})\n        @post.save\n        # trigger an event with pusher\n        [...]\n        redirect_to('/')\n      end\n    end\n```\n\nNow, when a post is created and saved, you can see it on the homepage:\n\n![ruby-live-blog-create-post-2](//images.ctfassets.net/1es3ne0caaid/1ofpCGnhUoAeYGsyiSe6CS/e0210ec4f1ad96b448cbb20e65540782/ruby-live-blog-create-post-2.png)\n\n![ruby-live-blog-display-posts](//images.ctfassets.net/1es3ne0caaid/l1bnDAg0SckGCM20segws/a94903baa75e7d68a72f737786850d70/ruby-live-blog-display-posts.png)\n\n## Adding realtime functionality with Pusher\n\nCurrently, the only way users get access to new posts is if they refresh their browsers. We need a way to automatically add new posts to the page as they are created and this is where Pusher comes in. Pusher allows you to integrate realtime functionality in your applications with ease without worrying about infrastructure. To get started with Pusher, sign up for a developer account here. When you’re done with that, create a new application and note your credentials as you’ll need them as we progress.\n\nPusher has a Ruby gem which we are going to use. To install it, add the following to your `Gemfile` :\n\n```\n    # adding Pusher to Gemfile\n    \n    gem 'pusher'\n```\n\nAnd then install the gem by running the command:\n\n```\n    bundle install\n```\n\nTo confirm your installation, run:\n\n```\n    bundle info pusher\n```\n\n**Configuring the Pusher package**\nCreate a `config/initializers/pusher.rb` file and add the following content to it:\n\n``` ruby\n    # config/initializers/pusher.rb\n    require 'pusher'\n    \n    Pusher.app_id = 'PUSHER_APP_ID'\n    Pusher.key = 'PUSHER_APP_KEY'\n    Pusher.secret = 'PUSHER_APP_SECRET'\n    Pusher.cluster = 'PUSHER_APP_CLUSTER'\n    Pusher.logger = Rails.logger\n    Pusher.encrypted = true\n```\n\nThe Pusher credentials can be obtained from the pusher application [dashboard](https://dashboard.pusher.com/).\n\n### Triggering events from controller\nTo trigger a new post event, update the post controller:\n\n``` ruby\n    # app/controllers/post_controller.rb\n    class PostController \u003c ApplicationController\n      def create\n      end\n    \n      def store\n        # upload image to cloudinary\n        @image = Cloudinary::Uploader.upload(params[:media])\n        # create a new post object and save to db\n        @post = Post.new({:title =\u003e params[:title], :body =\u003e params[:body], :author =\u003e params[:author],  :media =\u003e @image['secure_url']})\n       \n        if @post.save\n          # broadcasting posts using pusher\n          Pusher.trigger('posts-channel','new-post', {\n            id: @post.id,\n            title: @post.title,\n            media: @post.media,\n            body: @post.body\n          })\n        end \n        \n        redirect_to('/')\n      end\n    end\n```\n\nWhen a post is successfully saved in the database, a `new-post` event is triggered in the `posts-channel`. For debugging purposes, you can see events that have been triggered by your application on the Pusher dashboard.\n\n### Displaying new posts in realtime for readers\nTo use Pusher in the frontend of your application, you need to do the following:\n\nInclude the Pusher script in the header of the application layout:\n\n``` html\n    # app/views/layouts/application.html.erb\n    [...]\n      \u003chead\u003e\n        [...]\n        \n        \u003cscript src=\"https://js.pusher.com/4.1/pusher.min.js\"\u003e\u003c/script\u003e\n       \n         [...]\n      \u003c/head\u003e\n    [...]\n```\n\nAfterward, create a Pusher client in the home page view\n\n``` javascript\n    # app/views/home/index.html.erb\n    \u003cscript\u003e\n        var pusher = new Pusher('YOUR_APP_KEY', {\n          cluster: 'eu',\n          encrypted: true\n        });\n    \u003c/script\u003e\n    \n    \u003cdiv class=\"wrapper\"\u003e\n    [...]\n```\n\nFinally, you’ll need to subscribe to the `post-channel` and listen for `new-post` events. Update the `app/views/home/index.html.erb` to look like this:\n\n``` html\n    # app/views/home/index.html.erb\n    \n    \u003cscript\u003e\n        var pusher = new Pusher('YOUR_APP_KEY', {\n          cluster: 'eu',\n          encrypted: true\n        });\n    \u003c/script\u003e\n    \n    \u003cdiv class=\"wrapper\"\u003e\n      [...]\n    \u003c/div\u003e\n    \n    \u003cscript\u003e\n        var channel = pusher.subscribe('posts-channel');\n        channel.bind('new-post', function(data) {\n            let post_media = data.media;\n            let post_id = data.id\n            let post_body = data.body;\n            let post_title = data.title;\n    \n            let div = document.getElementById('post_section');\n            let new_content = document.createElement(\"div\");\n            new_content.innerHTML = `\n                \u003cdiv class=\"post-card\"\u003e\n                    \u003cimg class=\"image\" src=\"${post_media}\"\u003e\n                    \u003cdiv class=\"title\"\u003e\n                        \u003ch2\u003e${post_title}\u003c/h2\u003e\n                    \u003c/div\u003e\n                    \u003cdiv class=\"body-trunc\"\u003e\n                        \u003cp\u003e${post_body}\u003c/p\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e`;\n            div.insertBefore(new_content, div.firstChild);\n        });\n    \u003c/script\u003e \n```\n\nWhen an event is broadcast, we update the UI to show the new blog post. To see the application at work, start the rails server using the command:\n\n```\n    rails server --binding=127.0.0.1\n```\n\nNavigate to the home page and the editor view to see the application:\n \n![ruby-live-blog-demo](//images.ctfassets.net/1es3ne0caaid/6VoDt4JwWIqA4cyU4uYywq/d04b9e20abba3d88e84722a0c2dabaa2/ruby-live-blog-demo.gif)\n\n## Conclusion\n\nIn this article, we looked at how to use Ruby and Pusher to build a live blog with realtime updates when new posts are created. You can leverage the concepts shared here when building your own application that needs realtime functionality. The complete source code of this demo application is available on [GitHub](https://github.com/oreHGA/ruby-live-blog).","metaTitle":"Create a live blog app using Ruby on Rails","metaDescription":"This brief tutorial shows you how to create a blog application with realtime post updates, and images hosted with Cloudinary."}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"76Wlp2erKwSOoMUgkikEa0","type":"Entry","createdAt":"2018-06-07T16:31:20.083Z","updatedAt":"2018-06-07T16:31:20.083Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Build a comments app with Ruby on Rails","url":"comments-app-ruby-rails","authors":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5Q1I2HN8pqGKG2wYcCeaO2","type":"Entry","createdAt":"2018-02-12T17:24:27.398Z","updatedAt":"2018-02-14T10:09:48.043Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"author"}},"locale":"en-US"},"fields":{"name":"Christian Nwamba","url":"christian-nwamba","email":"nwambachristian@gmail.com","twitter":"https://twitter.com/codebeast","github":"https://github.com/christiannwamba","guestWriter":true}}],"projectRepo":"https://github.com/christiannwamba/pusher-action-cable","products":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"SRRvSlyWCAyg2KK4U4EW0","type":"Entry","createdAt":"2018-02-12T14:37:35.058Z","updatedAt":"2019-08-28T08:41:41.310Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"product"}},"locale":"en-US"},"fields":{"name":"Channels","url":"channels","isBeta":false,"featured":true}}],"tags":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"uGIU8YRFv2icaWKKwW4GQ","type":"Entry","createdAt":"2018-01-26T11:40:16.226Z","updatedAt":"2018-02-12T14:41:04.134Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"JavaScript","url":"javascript","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"39y1r2Hh7OseMkwQSIyQwS","type":"Entry","createdAt":"2018-02-12T15:08:52.296Z","updatedAt":"2018-02-26T12:31:11.510Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":5,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Live Comments","url":"live-comments","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6S5luSjtlYk4i8eM8AyO4I","type":"Entry","createdAt":"2018-02-02T13:39:48.331Z","updatedAt":"2018-02-12T14:41:19.307Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby","url":"ruby","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"hPWAADkjVmomS68E6seqQ","type":"Entry","createdAt":"2018-02-12T14:48:52.613Z","updatedAt":"2018-02-12T14:48:52.613Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby on Rails","url":"ruby-on-rails","type":"framework"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6KUSaq9zVuw0SWMYaWAUQI","type":"Entry","createdAt":"2018-02-12T15:11:33.107Z","updatedAt":"2018-02-26T12:31:11.535Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Social","url":"social","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5NDDHe4dnGooOgCWY6gkmK","type":"Entry","createdAt":"2018-02-12T15:11:43.730Z","updatedAt":"2018-02-26T12:31:11.551Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Social Interactions","url":"social-interactions","type":"use case"}}],"reviewDate":"2018-06-07","description":"This short tutorial demonstrates how to integrate realtime updates into a Ruby on Rails application. You will create a simple comments interface. Users will be able to add comments, and see comments appear for all users instantly.","prerequisite":"You will need Ruby and Rails installed on your machine.","content":"You see the way the web world is set up now yeah? No one wants to have to reload their pages anymore to get updates as to what is going one with their applications.  You probably would have experienced realtime features like this (seeing realtime the number of likes and re-tweets on a particular tweet on twitter)! Imagine not having to swipe down again to see a new tweet! Having such interesting features are some of the advantages of having realtime functionality on your applications.\n\n## What we’ll build \n\nIn this article, we will build a realtime commenting Ruby on Rails application using Pusher. This application has a simple interface. The user loads a page and can see existing comments on the page. The user can also add comments and see as comments are being made in realtime. Because this article is primarily to show how to add realtime functionality to your application, less emphasis will be placed on Rails syntax and more on making your application realtime\n\n\n## Requirements\n\nFor you to successfully follow through this article, you need to have the following set up:\n\n- Ruby installed on your machine\n- Rails installed on your machine\n\nTo confirm your installation, run the following :\n\n```\n    ruby -v\n    rails --version\n```\n\nIf you get version numbers as result then it means you’re good to go!\n\n## Building the application\n\nTo get started, generate a new project using rails by running the command : \n\n```\n    rails new pusher-realtime-ruby\n```\n\nThis gives us a starter project with this structure to work with. The starter project has the following structure.\n\n![ruby-rails-comments-app-directories](//images.ctfassets.net/1es3ne0caaid/2HqJgFjR4Ai2M6ssiIq40c/b0e43c3cdce00d0a2e686849356f6441/ruby-rails-comments-app-directories.png)\n\n## Creating controller and routes\n\nFor this application, we have two basic routes :\n\n- `/` - displays the homepage with an image and existing comments\n- `/comment/store` -  this route handles the logic for when a new comment is made on the page\n\nCreate a new controller by running :\n\n```\n    rails generate controller Comment store\n```\n\nThis creates a `Comment` controller with an action called `store` .\n\n### Specifying our routes\n\nNow, we need to define the routes we mentioned earlier so the rails server can know to handle requests made by users. To do this, edit the `config/routes.rb` file:\n\n``` ruby\n    // config/routes.rb\n    \n    Rails.application.routes.draw do\n      post 'comment/store'\n      root 'welcome#index'\n    end\n```\n\nThe `comment/store` route accepts a post request from the user and the root of the application is set to the `welcome#index` view.\n\n\u003e We will look at the `welcome#index` view in depth later on in the article\n\n### Adding controller logic\n\nNow that the `comment/store` route has been defined, the next thing to do is to edit the controller logic to do update the comments. The controller looks like this:\n\n``` ruby\n    # app/controllers/comment_controller.rb\n    class CommentController \u003c ApplicationController\n      def store\n        render plain: params[:comment].inspect\n      end\n    end\n```\n\nAt the moment, this just renders the new comment on  a new page. The intended feature is to store the comments in the database and update the comments in realtime. \n\n### Creating a database\n\nTo store comments in a database, a database driver is needed. With Ruby on Rails, `SQLite` is used as the default database driver, and for simplicity, we are going to continue with that.\n\nTo create your database, run the command:\n\n```\n    rake db:create\n```\n\nThis creates the databases for the application in the `db/` directory.\n\n### Creating the Comment model and running migrations\n\nTo populate the database, there need to be tables. Rails is an MVC based Framework and developers can create models to represent entities and structures in their database. To do this, run the command below:\n\n```\n     rails generate model Comment comment:text\n```\n\nThis creates a `Comment` model with a single property `comment`. Running this command will also automatically generate a migration file for the model at `db/migrate/{timestamp}_create_comments.rb`. Let’s take a look at the migration file:\n\n``` ruby\n    class CreateComments \u003c ActiveRecord::Migration[5.1]\n      def change\n        create_table :comments do |t|\n          t.text :comment\n          t.timestamps\n        end\n      end\n    end\n```\n\nWe can see from above that the `comment` field is also created. Now that we are satisfied with the migration, you can use a command to run it:\n\n```\n    rails db:migrate\n```\n\nOnce the run is complete, you get a result that looks like this:\n\n```\n    rails db:migrate\n    == 20180408165733 CreateComments: migrating ===================================\n    -- create_table(:comments)\n       -\u003e 0.0022s\n    == 20180408165733 CreateComments: migrated (0.0023s) ==========================\n```\n\nThis means the `comments` table has successfully been created in the database.\n\n### Storing new comments\n\nNow, let’s go back to the comment controller. To save the comments in the database, change the `store`  action to look like this:\n\n``` ruby\n    class CommentController \u003c ApplicationController\n      def store\n        @comment = Comment.new(comment_params)\n        @comment.save\n        redirect_to '/'\n      end\n    \n      private\n        def comment_params\n          params.require(:comment).permit(:comment)\n        end\n    end\n```\n\nThis creates a new comment, saves it in the database and then reloads the home page to the user showing the existing comments\n\nCreating the HomePage view\nNow, let’s take a quick look at the `welcome#index` view.  To display the view, there is a welcome controller created, with an action called `index`.\n\n```\n    rails generate controller Welcome index\n```\n\nEdit the created controller to look like this:\n\n``` ruby\n    # app/controllers/welcome_controller.rb\n    class WelcomeController \u003c ApplicationController\n      def index\n        @comments = Comment.all\n      end\n    end\n```\n\nThis fetches all the comments from the database and then passes it to the view being generated.\n\nThe index view should be edited to look like this:\n\n``` html\n    # app/views/welcome/index.html.rb\n    \n    \u003ch1 style=\"text-align:center\"\u003eReal-time Comments!\u003c/h1\u003e\n    \u003cdiv class=\"wrapper\"\u003e\n        \u003cimg src=\"https://image4.owler.com/logo/pusher_owler_20160228_200254_large.png\" height=\"150\"alt=\"Pusher\" /\u003e\n        \u003cdiv class=\"top\"\u003e\n            \u003c%= form_with scope: :comment, url: '/comment/store', local: true do |form| %\u003e\n            \u003cdiv class=\"form-group\"\u003e\n                \u003c%= form.label :comment %\u003e\n                \u003c%= form.text_field :comment %\u003e\n                \u003c%= form.submit %\u003e\n            \u003c/div\u003e\n            \n            \u003c% end %\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"bottom\" id=\"comment_section\"\u003e\n            \u003ch2\u003eComments\u003c/h2\u003e\n            \u003c% @comments.each do |comment| %\u003e\n                \u003cp\u003e\u003c%= comment.comment %\u003e\u003c/p\u003e\n            \u003c% end %\u003e\n        \u003c/div\u003e  \n    \u003c/div\u003e\n```    \n\nThe view displays an image and a form where users can comment on the image. When the submit button is clicked, the `/comment/store` route handles the request. In the same view, we also have a listing of all the existing comments that are saved in the database.\n\nTo add some minimal styling to the page, edit the `app/assets/stylesheets/welcome.scss` file to look like this:\n\n``` scss\n    // app/assets/stylesheets/welcome.scss\n    .wrapper{\n        display: flex;\n        justify-content: space-around;\n        flex-direction: column;\n        align-items: center;\n    }\n    \n    .top{\n        display: flex;\n        justify-content: space-around;\n    }\n    \n    .bottom{\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n    }\n    \n    input[type=submit]{\n       background-color: rgb(27, 96, 160);\n       border : 0px;\n       border-radius: 10px;\n       color: white;\n       height: 40px;\n       margin-left: 20px;\n    }\n    \n    input[type=text]{\n        height: 40px;\n        border-radius: 10px;\n        border: 1px solid rgb(155, 147, 147);\n    }\n    \n    label{\n        height: 40px;\n        margin-right: 10px;\n    }\n    h2{\n        margin-bottom : 0px;\n    }\n```    \n\nTo see the application at work, start the rails server using the command:\n\n```\n    rails server --binding=127.0.0.1\n```\n\nThis starts up a rails server with the port shown to you - in this case `127.0.0.1:3000` as specified with the `--binding` flag. When you visit the application, this is what you see:\n\n![ruby-rails-comments-welcome-view](//images.ctfassets.net/1es3ne0caaid/5LGxFRMZQQqO0eq0EikeSe/63b9fb2a56182312c457a5307e6de275/ruby-rails-comments-welcome-view.png)\n\nWhat we want are the comments to be updated in realtime for all users as changes are being made. Let’s take a look at how to do this.\n\n## Adding realtime functionality using Pusher\n\nLet’s see how to add realtime functionality using [Pusher](https://pusher.com). Pusher allows to seamlessly add realtime features to your applications without worrying about infrastructure.\n\nTo get started, create a [developer account](https://pusher.com/signup). Once that is done, [create your application](https://dashboard.pusher.com/#wizard-modal) and obtain your application keys. \n\nTo use Pusher with your rails application, you need to do a couple of things.\n\n### Install Pusher via Ruby Gems\n\nAdd pusher to your `Gemfile` \n\n```\n    # Gemfile\n    [...]\n    \n    gem 'pusher'\n    \n    [...]\n```\n\nAnd then install the new gem:\n\n```\n    bundle install\n```\n\nTo confirm your installation run:\n\n```\n    bundle info pusher\n```\n\nYou should get a result like this:\n\n``` ruby\n    $ bundle info pusher\n    * pusher (1.3.1)\n            Summary: Pusher API client\n            Homepage: http://github.com/pusher/pusher-http-ruby\n            Path: /home/captog/.rvm/gems/ruby-2.4.1/gems/pusher-1.3.1\n```\n\nImport the Pusher package\n\nCreate the  `config/initializers/pusher.rb` file and edit it to look like this:\n\n``` ruby\n    # config/initializers/pusher.rb\n    require 'pusher'\n    \n    Pusher.app_id = 'PUSHER_APP_ID'\n    Pusher.key = 'PUSHER_APP_KEY'\n    Pusher.secret = 'PUSHER_APP_SECRET'\n    Pusher.cluster = 'PUSHER_APP_CLUSTER'\n    Pusher.logger = Rails.logger\n    Pusher.encrypted = true\n```\n\nThe `PUSHER_APP_ID`, `PUSHER_APP_KEY`, `PUSHER_APP_SECRET` and `PUSHER_APP_CLUSTER`  can all be obtained from the [dashboard](https://dashboard.pusher.com) of your application.\n\n### Trigger events from controller\n\nEarlier on in the article, the Comment controller saved comments to the database and then rendered the homepage. Now, let’s tweak it a bit to trigger a new event. The comment controller will look like this:\n\n``` ruby\n    # app/controllers/comment_controller.rb\n    class CommentController \u003c ApplicationController\n      def store\n        @comment = Comment.new(comment_params)\n        @comment.save\n          # broadcasting comments using pusher\n          Pusher.trigger('comment-channel','new-comment', {\n            comment: @comment.comment\n          })\n        redirect_to '/'\n      end\n    \n      private\n        def comment_params\n          params.require(:comment).permit(:comment)\n        end\n    end\n```\n\nAfter the comment is saved, then a new event named `new-comment` is triggered in the `comment-channel`. From the Pusher dashboard, you can see when events are being triggered for debugging purpose. \n\n![ruby-rails-comments-debug-console](//images.ctfassets.net/1es3ne0caaid/ciMNcN7ybmuw6AG6scyay/9512d8a07979a34d3c33649bf18e8966/ruby-rails-comments-debug-console.png)\n\n### Displaying comments on the client side\n\nSo far, we have seen how to trigger events from the server. For the users to get the realtime experience, they need to be able to see the new comments pop up on their pages. To integrate Pusher to the front end of the application, you need to do the following:\n\nFirst, include the Pusher script in the header of the application in the `app/views/layouts/application.html.erb`\n\n``` html\n    # app/views/layouts/application.html.erb\n    [...]\n      \u003chead\u003e\n        [...]\n        \n        \u003cscript src=\"https://js.pusher.com/4.1/pusher.min.js\"\u003e\u003c/script\u003e\n       \n         [...]\n      \u003c/head\u003e\n    [...]\n```\n\nNext thing to do is to create a Pusher Client in the application header:\n\n``` javascript\n    # app/views/layouts/application.html.erb\n    [...]\n      \u003chead\u003e\n        [...]\n        // add pusher script\n        \u003cscript\u003e\n          var pusher = new Pusher('PUSHER_APP_KEY', {\n          cluster: 'eu',\n          encrypted: true\n        });\n        \u003c/script\u003e\n       \n         [...]\n      \u003c/head\u003e\n    [...]\n```\n\nFinally, subscribe to the `comment-channel` and listen for `new-comment` events. You can do this in the `welcome#index` view of the application. Tweak the view to look like this:\n\n``` javascript\n    # app/views/welcome/index.html.erb\n      [...]\n        \u003cdiv class=\"bottom\" id=\"comment_section\"\u003e\n            \u003ch2\u003eComments\u003c/h2\u003e\n            \u003c% @comments.each do |comment| %\u003e\n                \u003cp\u003e\u003c%= comment.comment %\u003e\u003c/p\u003e\n            \u003c% end %\u003e\n        \u003c/div\u003e\n        \u003cscript\u003e\n            var channel = pusher.subscribe('comment-channel');\n            channel.bind('new-comment', function(data) {\n                let comment = data.comment;\n                var div = document.getElementById('comment_section');\n                div.innerHTML += `\u003cp\u003e ${comment} \u003c/p\u003e`;\n            });\n        \u003c/script\u003e  \n    \u003c/div\u003e\n```\n\nIn the above, we subscribe to the `comment-channel` and listen for a `new-comment` event. Once we get that, the new comment is appended to the comment section of the page.\n\nNow, when you visit the page again, you get this:\n\n![ruby-rails-comments-demo](//images.ctfassets.net/1es3ne0caaid/5r9TjJB1WoqW8OkuuceywW/0aec7673f3133aec8d13636e2b561c7f/ruby-rails-comments-demo.gif)\n\n## Conclusion\n\nIn this article, we looked at how to add Realtime functionality to your Rails application without any hassle. Feel free to implement this for any other use cases you deem fit. Here’s a link to the full [GitHub](https://github.com/christiannwamba/pusher-action-cable) repository if you’re interested.","metaTitle":"Build a comments app with Ruby on Rails","metaDescription":"Use Ruby on Rails to build a realtime comments app. Users can add comments and see each others' comments display immediately."}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"3LONnVN1tuoo6IQ8kuKG8c","type":"Entry","createdAt":"2018-05-29T09:13:51.830Z","updatedAt":"2018-05-29T09:13:51.830Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Build a polling app with Ruby on Rails and PostgreSQL","url":"polling-ruby-rails-postgresql","authors":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5Q1I2HN8pqGKG2wYcCeaO2","type":"Entry","createdAt":"2018-02-12T17:24:27.398Z","updatedAt":"2018-02-14T10:09:48.043Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"author"}},"locale":"en-US"},"fields":{"name":"Christian Nwamba","url":"christian-nwamba","email":"nwambachristian@gmail.com","twitter":"https://twitter.com/codebeast","github":"https://github.com/christiannwamba","guestWriter":true}}],"projectRepo":"https://github.com/yemiwebby/pusher-rails-chart","products":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"SRRvSlyWCAyg2KK4U4EW0","type":"Entry","createdAt":"2018-02-12T14:37:35.058Z","updatedAt":"2019-08-28T08:41:41.310Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"product"}},"locale":"en-US"},"fields":{"name":"Channels","url":"channels","isBeta":false,"featured":true}}],"tags":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5JtEWXIwaAaOM4KOWMO0qK","type":"Entry","createdAt":"2018-02-12T15:10:44.896Z","updatedAt":"2018-02-26T12:31:11.752Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Data Visualization","url":"data-visualization","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6N8l3o0yD6QK2ooI2ME8wW","type":"Entry","createdAt":"2018-02-12T15:09:06.190Z","updatedAt":"2018-02-26T12:31:10.478Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Live Polls","url":"live-polls","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"4E7t0TtVFSAyeeA0ckeYe0","type":"Entry","createdAt":"2018-02-12T15:09:41.899Z","updatedAt":"2018-02-26T12:31:11.510Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Realtime Chart","url":"realtime-chart","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6i1HPBqlwsE24YEKwqQyuq","type":"Entry","createdAt":"2018-02-12T15:09:31.050Z","updatedAt":"2018-02-26T12:31:11.548Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Realtime Graph","url":"realtime-graph","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6S5luSjtlYk4i8eM8AyO4I","type":"Entry","createdAt":"2018-02-02T13:39:48.331Z","updatedAt":"2018-02-12T14:41:19.307Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby","url":"ruby","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"hPWAADkjVmomS68E6seqQ","type":"Entry","createdAt":"2018-02-12T14:48:52.613Z","updatedAt":"2018-02-12T14:48:52.613Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby on Rails","url":"ruby-on-rails","type":"framework"}}],"reviewDate":"2018-05-28","description":"Build a web app with Ruby on Rails, featuring a live poll and chart. User responses are communicated instantly, with the chart updating in realtime.","prerequisite":"You will need Ruby, Rails and PostgreSQL installed on your machine. A basic understanding of Ruby and CoffeeScript will be helpful.","content":"## Introduction\n\nOne of the effective means of interpreting and representing data for users of web applications, is by using data visualization tools such as charts, plots and graphs. This among other things aids simplification of data and presents it in a comprehensible and interactive form.\n\nWith the increase in popularity of the web and its technologies, representing numerical data with graphs in realtime has become inevitable.\n\nTogether in this post, we’ll build a basic poll application where users will be able to provide an answer to a question by selecting one of the options given, then we will proceed to represent these numbers on a pie chart. For a more user-friendly experience, Pusher will be use to update this chart in realtime without the need to refresh the page. This is what the finished application will look like:\n\n![realtime-chart-ruby-demo-1](//images.ctfassets.net/1es3ne0caaid/4nf1sbvChWeA6ukiYE6Kq2/abb514a11cc0b99773d73602745c01c8/realtime-chart-ruby-demo-1.gif)\n\nThe application depicted by the image above will be build with Ruby on Rails and the database powered by PostgreSQL. In addition we will make use of a library called [Chartkick](https://github.com/ankane/chartkick); a tool used for creating beautiful JavaScript charts.\n\n## Prerequisites\n\nA basic understanding of Ruby, CoffeeScript and PostgresSQL will help you with this tutorial. Ensure that you have PostgreSQL installed on your machine. Kindly check the documentation of [PostgreSQL](https://www.postgresql.org/download/), [Ruby](https://www.ruby-lang.org/en/downloads/) and [Rails](http://guides.rubyonrails.org/getting_started.html) for further installations procedures.\n\n## Preparing the application\n\nIt is important that you have both Ruby and Rails installed. Run the following code in your terminal to confirm the successful installation of both Ruby and Rails:\n\n```\n    $ ruby -v // 2.1 or above\n    \n    $ rails -v // 4.2 or above\n```\n\nNext, we will run a command that will create a new Rails application in a folder called `pusher-rails-chart`. Run the command below in your terminal:\n\n```\n    $ rails new pusher-rails-chart -T --database=postgresql\n```\n\nThe `-T` flag was added to prevent generation of the default testing suite as we won’t be writing any tests.\n\nGo ahead and change directory into the newly created folder:\n\n```\n    $ cd pusher-rails-chart\n```\n\nIn the root directory of this application, open the `Gemfile` and add the following gems:\n\n```\n    # Gemfile\n    \n    gem 'bootstrap', '~\u003e 4.1.0'\n    gem 'jquery-rails'\n    gem 'pusher'\n    gem 'figaro'\n    gem 'chartkick'\n```\n\nand install them:\n\n```\n    $ bundle install\n```\n\n## Database setup\n\nTo set up the database for our application, create a database called `pusher-rails-chart_development`. Check out this [article](https://www.digitalocean.com/community/tutorials/how-to-setup-ruby-on-rails-with-postgres) on how to create a Postgres database and an associated user and password.\n\nIn your `database.yml` file, under the `development` key, add the following code:\n\n``` yaml\n    # config/database.yml\n    \n    ...\n    development:\n      \u003c\u003c: *default\n      database: pusher-rails-chart_development // add this line if it isn't already there\n      username: database_user // add this line\n      password: user_password // add this line\n    ...  \n```\n\nThe username and password in the code above should have access to the `pusher-rails-chart_development` database. Next, run the following code to setup the database:\n\n```\n    # setup database\n    $ rails db:setup\n```\n\n## Starting the development server\n\nStart the development server by running `rails s` from the terminal and visit http://localhost:3000 in your browser. Your page should look like this:\n\n![youre-on-rails](//images.ctfassets.net/1es3ne0caaid/3sOsgC4S80gOKM8Waqkgui/87c5c9e64375cbb2f8f2516223f4e515/youre-on-rails.png)\n\n## Sign up for a free Pusher account\n\nHead over to Pusher and [sign up for a free account](https://dashboard.pusher.com/accounts/sign_up). \n\n![ruby-create-pusher-account](//images.ctfassets.net/1es3ne0caaid/6uDbn5kOyIOiKyeSeOKqeS/6136b86bc4d9b6ceff7fcf8458375a19/ruby-create-pusher-account.png)\n\nCreate a new app by selecting **Channels apps** on the sidebar and clicking **Create Channels app** button on the bottom of the sidebar:\n\n![ruby-channels-dashboard](//images.ctfassets.net/1es3ne0caaid/5IDtPf0HhC4aKg66gguYq8/183e0b23ec44fdfc23a38921e11fe9e3/ruby-channels-dashboard.png)\n\nConfigure an app by providing basic information requested in the form presented. You can also choose the environment you intend to integrate Pusher with, to be provided with boilerplate code:\n\n![ruby-new-pusher-app](//images.ctfassets.net/1es3ne0caaid/3qnLmThfu8ue2ImYKKSw8a/2e4f39b15b8787e0f6d3b4f2ea022d95/ruby-new-pusher-app.png)\n\nYou can retrieve your keys from the **App Keys** tab:\n\n![ruby-app-keys](//images.ctfassets.net/1es3ne0caaid/1XHWE3GCeoCeqsMCO8uM2q/52523148497d08f6e9ba4f52fe0750f6/ruby-app-keys.png)\n\nNow that you have your Pusher API keys, head over to `config/initializers` directory. Create a `pusher.rb` file and add the following code:\n\n``` ruby\n    # config/initializers/pusher.rb\n    \n    require 'pusher'\n    \n    Pusher.app_id = ENV[\"PUSHER_APP_ID\"]\n    Pusher.key = ENV[\"PUSHER_KEY\"]\n    Pusher.secret = ENV[\"PUSHER_SECRET\"]\n    Pusher.cluster = ENV[\"PUSHER_CLUSTER\"]\n    Pusher.logger = Rails.logger\n    Pusher.encrypted = true\n```\n\nIn your terminal, run:\n\n```\n    $ figaro install\n```\n\nThe command above will generate an `application.yml` file. Locate the newly generate file in `config/application.yml` and add the Pusher credentials obtained from your dashboard:\n\n``` yaml\n    # config/application.yml\n    \n    PUSHER_APP_ID: 'YOUR_APP_ID'\n    PUSHER_KEY: 'YOUR_APP_KEY'\n    PUSHER_SECRET: 'YOUR_APP_SECRET'\n    PUSHER_CLUSTER: 'CLUSTER'\n```\n\n## Setting up the model and controller\n\nNext, we will go ahead and generate a model and controller for our application. In your terminal, while in the project’s directory, run the following code:\n\n```\n    // generate poll model and controller\n    $ rails g scaffold poll name:string laptop:binary\n    \n    // run database migrations\n    $ rails db:migrate\n```\n\n## Setting up the homepage\n\nAt the moment, if you restart the development server and reload the browser page, the welcome page will still be displayed. This is because we have not instructed Rails to show the homepage whenever we navigate to the root `URL` of our site. \n\nTo tell Rails where the actual homepage is, update the route file with the following code:\n\n``` ruby\n    # config/routes.rb\n    \n    ...\n    root 'polls#index'\n    ...\n```    \n\nIn your `application.js` file, add the following code just before the last line:\n\n``` javascript\n    // app/assets/javascripts/application.js\n    \n    ...\n    //= require jquery3 # add this line\n    //= require popper # add this line\n    //= require bootstrap # add this line\n    //= require Chart.bundle # add this line\n    //= require chartkick # add this line\n    //= require_tree .\n    ...\n```\n\n## Styling\n\nTo set up a basic styling for our application, go ahead and rename your `application.css` file to `application.scss`, import Bootstrap and add some custom styles:\n\n``` scss\n    // app/assets/stylesheets/application.scss\n    \n     @import \"bootstrap\";\n     @import url('https://fonts.googleapis.com/css?family=Josefin+Sans');\n     body {\n      font-family: 'Josefin Sans', sans-serif;\n     }\n     .navbar-brand {\n       color: #FFF !important;\n       \u0026:hover {\n         background-color: unset;\n       }\n     }\n     .form-control {\n       outline: none !important;\n       \n       \u0026:focus {\n        border-color: transparent !important;\n        border: 1px !important;\n       }\n     }\n```    \n\nAt the moment, if we restart the development server and reload the application, we would notice changes in the fonts of our page, this is because we have successfully included Bootstrap.\n\nIf you encounter any errors relating to `application.html.erb` , in `config/boot.rb`, change the ExecJS runtime from Duktape to Node.\n\n``` ruby\n    # config/boot.rb\n    \n    ENV['EXECJS_RUNTIME'] = 'Node'\n```\n\n## Setting up the polls table\n\nTo set up the view, replace the code in your `index.html.erb` file with the following:\n\n``` html\n    \u003c%# app/views/polls/index.html.erb %\u003e\n    \n    \u003cdiv class=\"container-fluid\"\u003e\n      \u003cdiv class=\"row\"\u003e\n        \u003cdiv class=\"col-5 offset-1\"\u003e\n          \u003cp id=\"notice\"\u003e\u003c%= notice %\u003e\u003c/p\u003e\n          \u003ch1\u003ePolls\u003c/h1\u003e\n          \u003ctable id='poll-table' class=\"table table-hover\"\u003e\n            \u003cthead class=\"thead-light\"\u003e\n              \u003ctr\u003e\n                \u003cth\u003eName\u003c/th\u003e\n                \u003cth\u003eLaptop\u003c/th\u003e\n                \u003cth colspan=\"3\"\u003e\u003c/th\u003e\n              \u003c/tr\u003e\n            \u003c/thead\u003e\n            \u003ctbody\u003e\n              \u003c% @polls.each do |poll| %\u003e\n                \u003ctr\u003e\n                  \u003ctd\u003e\u003c%= poll.name %\u003e\u003c/td\u003e\n                  \u003ctd\u003e\u003c%= poll.laptop %\u003e\u003c/td\u003e\n                  \u003ctd\u003e\u003c%= link_to 'Show', poll %\u003e\u003c/td\u003e\n                  \u003ctd\u003e\u003c%= link_to 'Edit', edit_poll_path(poll) %\u003e\u003c/td\u003e\n                  \u003ctd\u003e\u003c%= link_to 'Destroy', poll, method: :delete, data: { confirm: 'Are you sure?' } %\u003e\u003c/td\u003e\n                \u003c/tr\u003e\n              \u003c% end %\u003e\n            \u003c/tbody\u003e\n          \u003c/table\u003e\n        \u003c/div\u003e\n        \n        \u003cdiv class=\"col-6\"\u003e\n          \u003c%= pie_chart [[\"Yes\", Poll.where(laptop: \"yes\").count], [\"No\", Poll.where(laptop: \"no\").count]], id:'polls'%\u003e \n        \u003c/div\u003e\n      \u003c/div\u003e\n      \n       \u003cdiv class=\"row\"\u003e\n        \u003cdiv class='col-11 offset-1 col-sm-4'\u003e\n          \u003ch3\u003eNew poll\u003c/h3\u003e\n          \u003c%= render 'form', poll: @poll %\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n```\n\nHere, we have used Bootstrap to style our table and within the second column of the first row we included a line to render the pie chart for this application on the homepage. [Chartkick](https://www.chartkick.com/) helps simplify the use of chart. You can check [here](https://github.com/ankane/chartkick) for more information.\n\nNext, update the index method of the polls controller, to include the following:\n\n``` ruby\n    # app/controllers/polls_controller.rb\n    \n    class PollsController \u003c ApplicationController\n     ...\n      def index\n        @polls = Poll.all\n        @poll = Poll.new # add this line\n      end\n      ...\n    end\n```    \n\nThe code above adds Bootstrap styling to the table on our landing page. It also instantiates a new poll record in the `index` method of the polls controller. If you reload the landing page, you should see the form.\n\n## Submitting a new poll\n\nCurrently adding a new poll record redirects us to a different page. We would like to handle that with AJAX instead. To achieve this, add `remote: true` and `format: :json` to your form. Replace the code in `_form.html.erb` with the following: \n\n``` html\n    // app/views/polls/_form.html.erb\n    \n    \u003c%= form_with(model: poll, remote: true, format: :json, id: 'add_poll') do |form| %\u003e\n      \u003c% if poll.errors.any? %\u003e\n        \u003cdiv id=\"error_explanation\"\u003e\n          \u003ch2\u003e\u003c%= pluralize(poll.errors.count, \"error\") %\u003e prohibited this poll from being saved:\u003c/h2\u003e\n          \u003cul\u003e\n          \u003c% poll.errors.full_messages.each do |message| %\u003e\n            \u003cli\u003e\u003c%= message %\u003e\u003c/li\u003e\n          \u003c% end %\u003e\n          \u003c/ul\u003e\n        \u003c/div\u003e\n      \u003c% end %\u003e\n      \u003cdiv class=\"field\"\u003e\n        \u003c%= form.label :name %\u003e\n        \u003c%= form.text_field :name, id: :poll_name, class: \"form-control\" %\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"field\"\u003e\n        \u003c%= form.label :laptop, \"Do you own a laptop? \" %\u003e\u003cbr /\u003e\n        \u003c%= form.label :laptop, \"Yes\", :value =\u003e \"true\" %\u003e\n        \u003c%= form.radio_button :laptop, 'yes', :checked =\u003e true %\u003e\n        \u003c%= form.label :laptop, \"No\", :value =\u003e \"false\" %\u003e\n        \u003c%= form.radio_button :laptop, 'no'%\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"actions\"\u003e\n        \u003c%= form.submit 'submit', class: \"btn btn-success\"%\u003e\n      \u003c/div\u003e\n    \u003c% end %\u003e\n```    \n\nNow that our form uses AJAX, we’ll handle updating the page with CoffeeScript. Open `app/assets/javascripts/polls.coffee` and paste in the code below:\n\n``` coffeescript\n    # app/assets/javascripts/polls.coffee\n    \n    submitPoll = (data) -\u003e\n      $('#poll-table tbody').append \"\"\"\n      \u003ctr\u003e\n          \u003ctd\u003e#{data.name}\u003c/td\u003e\n          \u003ctd\u003e#{data.laptop}\u003c/td\u003e\n          \u003ctd\u003e\u003ca href=\"/polls/#{data.id}\"\u003eShow\u003c/a\u003e\u003c/td\u003e\n          \u003ctd\u003e\u003ca href=\"/polls/#{data.id}/edit\"\u003eEdit\u003c/a\u003e\u003c/td\u003e\n          \u003ctd\u003e\u003ca data-confirm=\"Are you sure?\" rel=\"nofollow\" data-method=\"delete\" href=\"/polls/#{data.id}\"\u003eDestroy\u003c/a\u003e\u003c/td\u003e\n      \u003c/tr\u003e\n      \"\"\"\n      return\n    \n    $ -\u003e\n      $('#add_poll').on 'ajax:success', (data) -\u003e\n        $('#add_poll')[0].reset()\n        submitPoll data.detail[0]\n        return\n      return\n```\n\nIn the above code, we added an `ajax:success` event listener to our form courtesy of [jQuery-ujs](https://github.com/rails/jquery-ujs/wiki/ajax). Whenever we add a new response, we get our newly added answer and update our page with it.\n\nLet’s reload our page and add a few responses, they should pop up on the page as soon as we hit submit.\n\nIf the `laptop` column shows ‘undefined’ or returns a null value, this has to do with mass assignment protection from the controller, you can read more about this [here](http://guides.rubyonrails.org/action_controller_overview.html#strong-parameters). To fix this, navigate to `app/controllers/polls_controller.rb` and within the `poll_param` method, add `:laptop` to the list of params.\n\n## Realtime service with Pusher\n\nTo update our table realtime, we will publish the new poll record to a channel and subscribe to it on the frontend of our app. In the poll model, we’ll add an `after_commit` callback which will call a method that will publish the new poll. We'll use `after_commit` so data is published whenever we add or update a poll. \n\nAdd the following code to the poll model:\n\n``` ruby\n    # app/models/poll.rb\n    \n    class Poll \u003c ApplicationRecord\n        after_commit :notify_pusher, on: [:create, :update]\n        def notify_pusher\n        Pusher.trigger('poll', 'new', self.as_json)\n        end  \n    end\n```    \n\nHere, our initialized Pusher client triggers an event called `new` through a channel named `poll`.\n\n## Updating the frontend of the application\n\nThe client side of our application needs to listen for those changes that are being pushed by the server and update the view with it. To do this, we’ll rename our `polls.coffee` file to `polls.coffee.erb` so we can add some Ruby code in it.\n\nUpdate the file with the following code:\n\n``` coffeescript\n    # app/assets/javascripts/polls.coffee.erb\n    \n    submitPoll = (data) -\u003e\n      $('#poll-table tbody').append \"\"\"\n      \u003ctr\u003e\n          \u003ctd\u003e#{data.name}\u003c/td\u003e\n          \u003ctd\u003e#{data.laptop}\u003c/td\u003e\n          \u003ctd\u003e\u003ca href=\"/polls/#{data.id}\"\u003eShow\u003c/a\u003e\u003c/td\u003e\n          \u003ctd\u003e\u003ca href=\"/polls/#{data.id}/edit\"\u003eEdit\u003c/a\u003e\u003c/td\u003e\n          \u003ctd\u003e\u003ca data-confirm=\"Are you sure?\" rel=\"nofollow\" data-method=\"delete\" href=\"/polls/#{data.id}\"\u003eDelete\u003c/a\u003e\u003c/td\u003e\n      \u003c/tr\u003e\n      \"\"\"\n      return\n    $ -\u003e\n    updateChart = (data) -\u003e\n      chart = Chartkick.charts['polls'].getChartObject()\n      if data.laptop == 'yes'\n        chart.data.datasets[0].data[0]++\n        chart.update()\n      else\n        chart.data.datasets[0].data[1]++\n        chart.update()\n    \n    $ -\u003e\n      $('#add_poll').on 'ajax:success', (data) -\u003e\n        $('#add_poll')[0].reset()\n        return\n      pusher = new Pusher('\u003c%= ENV[\"PUSHER_KEY\"] %\u003e',\n        cluster: '\u003c%= ENV[\"PUSHER_CLUSTER\"] %\u003e'\n        encrypted: true)\n      channel = pusher.subscribe('poll')\n      channel.bind 'new', (data) -\u003e\n          submitPoll data\n          updateChart data\n          return\n      return\n```    \n\nIn the code above, we created two methods:\n\n1.  `submitPoll()`: updates the poll table with new records upon submission of the poll’s form.\n\n2.  `updateChart()`: updates the datasets of our pie chart without the need to refresh the page.\n\nLastly, add the Pusher library inside the head tag in the `application.html.erb` file just before the `javascript_include_tag`:\n\n``` html\n    \u003c%# . app/views/layouts/application.html.erb %\u003e\n    \n    \u003chead\u003e\n        \u003ctitle\u003ePoll\u003c/title\u003e\n        \u003c%= csrf_meta_tags %\u003e\n        \u003c%= csp_meta_tag %\u003e\n        \u003c%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %\u003e\n        \u003cscript src=\"https://js.pusher.com/4.1/pusher.min.js\"\u003e\u003c/script\u003e\n        \u003c%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %\u003e\n      \u003c/head\u003e\n```\n\n## Testing the application\n\nRestart the development server if it is currently running. Check your page on http://localhost:3000:\n\n![realtime-chart-ruby-demo-2](//images.ctfassets.net/1es3ne0caaid/4P5ZUY6cGscOIge6IWWGoI/c6b065bec773b431ea99fbc41ddd89b1/realtime-chart-ruby-demo-2.gif)\n\n## Conclusion\n\nRealtime and visual analysis in web applications has come to stay and can only get better. As shown by this post, you can now go ahead and give your users the best of visual realtime update in Ruby on Rails applications.\n\nI hope you found this tutorial helpful. Feel free to download the complete source can be found on [GitHub](https://github.com/yemiwebby/pusher-rails-chart).","metaTitle":"Build a polling app with Ruby on Rails and PostgreSQL","metaDescription":"Use Ruby on Rails and PostgreSQL to create a live polling application. Chartkick provides the graph visuals, which update in realtime."}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"4RHB3nderuk402K2gWw6qk","type":"Entry","createdAt":"2018-05-28T11:17:57.217Z","updatedAt":"2018-05-28T11:17:57.217Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Build a photo sharing app with Ruby on Rails and Cloudinary","url":"photo-sharing-ruby-rails","authors":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5Q1I2HN8pqGKG2wYcCeaO2","type":"Entry","createdAt":"2018-02-12T17:24:27.398Z","updatedAt":"2018-02-14T10:09:48.043Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"author"}},"locale":"en-US"},"fields":{"name":"Christian Nwamba","url":"christian-nwamba","email":"nwambachristian@gmail.com","twitter":"https://twitter.com/codebeast","github":"https://github.com/christiannwamba","guestWriter":true}}],"projectRepo":"https://github.com/orehga/pusher-photofeed-ruby","products":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"SRRvSlyWCAyg2KK4U4EW0","type":"Entry","createdAt":"2018-02-12T14:37:35.058Z","updatedAt":"2019-08-28T08:41:41.310Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"product"}},"locale":"en-US"},"fields":{"name":"Channels","url":"channels","isBeta":false,"featured":true}}],"tags":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"uGIU8YRFv2icaWKKwW4GQ","type":"Entry","createdAt":"2018-01-26T11:40:16.226Z","updatedAt":"2018-02-12T14:41:04.134Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"JavaScript","url":"javascript","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6S5luSjtlYk4i8eM8AyO4I","type":"Entry","createdAt":"2018-02-02T13:39:48.331Z","updatedAt":"2018-02-12T14:41:19.307Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby","url":"ruby","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"hPWAADkjVmomS68E6seqQ","type":"Entry","createdAt":"2018-02-12T14:48:52.613Z","updatedAt":"2018-02-12T14:48:52.613Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby on Rails","url":"ruby-on-rails","type":"framework"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6KUSaq9zVuw0SWMYaWAUQI","type":"Entry","createdAt":"2018-02-12T15:11:33.107Z","updatedAt":"2018-02-26T12:31:11.535Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Social","url":"social","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5NDDHe4dnGooOgCWY6gkmK","type":"Entry","createdAt":"2018-02-12T15:11:43.730Z","updatedAt":"2018-02-26T12:31:11.551Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Social Interactions","url":"social-interactions","type":"use case"}}],"reviewDate":"2018-05-27","description":"Build a simple photo sharing app using Ruby and Cloudinary. Users will be able to upload and caption photos, and receive immediate updates when other users post.","prerequisite":"You will need Ruby and Rails installed on your machine.","content":"Some say moments are best when captured so we can relive them and quite frankly, they kind of have a point. This is why applications like Instagram have a lot of users. In this article, we are going to look at how to build a simple photo sharing application with Pusher, Cloudinary and Ruby.\n\n![photo-sharing-ruby-preview](//images.ctfassets.net/1es3ne0caaid/6yf4kdmU7Yqym20AAugUee/240af040fcbe7ab2d029cd744e14fe99/photo-sharing-ruby-preview.png)\n\n## Prerequisites \n\nFor you to successfully follow through this article, you need to have the following set up:\n\n- Ruby installed on your machine\n- Rails installed on your machine\n\nTo confirm your installation, run the following :\n\n```\n    ruby -v // minimum version 2.4\n    rails --version // minimum version 4.2\n```\n\nIf you get version numbers as result then it means you’re good to go!\n\n\n## Getting started\n\n### Creating a new Ruby project\n\nSince you already have Ruby installed on your machine, go ahead to create a new Rails application by running the command:\n\n```\n    rails new pusher-photofeeds\n```\n\nThis creates a sample rails project with the following structure:\n\n![photo-sharing-ruby-directory](//images.ctfassets.net/1es3ne0caaid/2jCr2dbmocqMAEcKS8Gm0E/1536575d10d23ec57fba46accc2f3eb4/photo-sharing-ruby-directory.png)\n\nYou can take the sample application for a spin by running the command:\n\n```\n    rails server --binding=127.0.0.1\n```\n\n### Configuring the database\n\nTo store posts in a database, a database driver is needed. With Ruby on Rails, SQLite is used as the default database driver, and for simplicity, we are going to continue with that.\n\nTo create your database, run the command:\n\n```\n    rake db:create\n```\n\nThis creates the database for the application in the `db/` directory of your project.\n\n### Creating the post model\n\nTo represent a sample post in our application, we need to create a model. Our simple post with have the following properties:\n\n- Link\n- Caption\n\nCreate the model by running the command:\n\n```\n    rails generate model Post link:text caption:text\n```\n\nThis creates a migration file for your new model that can be found in `db/migrate/{timestamp}_create_posts`. The file will look like this:\n\n``` ruby\n    # db/migrate/{timestamp}_create_posts\n    class CreatePosts \u003c ActiveRecord::Migration[5.2]\n      def change\n        create_table :posts do |t|\n          t.text :link\n          t.text :caption\n    \n          t.timestamps\n        end\n      end\n    end\n```\n\nNow, to store the data in the database, run the command:\n\n```\n    rails db:migrate\n```\n\nWhen you run that, you get the following output:\n\n```\n    ➜ rails db:migrate\n    == 20180520070732 CreatePosts: migrating ======================================\n    -- create_table(:posts)\n       -\u003e 0.0016s\n    == 20180520070732 CreatePosts: migrated (0.0022s) =============================\n```\n\nAt this point, we have our posts table created with the link and caption as fields we wanted.\n\n## Accepting posts\n\nRails is an MVC Framework and we need to create a controller that handles our route. Let’s create a `Photo` controller that perform the following actions:\n\n- Displays the existing photos in the feed\n- Stores a new photo\n\nTo do this, run the following command:\n\n```\n    rails generate controller Photo index store\n```\n\nThis creates the controller and the following files. Now, let’s edit the `index` view created by this command. Update your `photo/index.html.erb` file to look like this:\n\n``` html\n    \u003c!-- app/views/photo/index.html.erb --\u003e\n    \u003ch1 style=\"text-align: center\"\u003eRealtime PhotoFeeds!\u003c/h1\u003e\n    \u003cdiv class=\"wrapper\"\u003e\n        \u003cform class=\"uploads\" method=\"POST\" action=\"/photo/store\" enctype=\"multipart/form-data\"\u003e\n            \u003c%= token_tag %\u003e \n            \u003cdiv class=\"form-group\"\u003e\n                \u003clabel for=\"caption\"\u003eCaption\u003c/label\u003e\n                \u003cinput type=\"text\" name=\"caption\"\u003e\n            \u003c/div\u003e\n            \u003cdiv style=\"margin-left: 5px;\"\u003e\n                \u003cinput type=\"file\" name=\"image\"\u003e\n            \u003c/div\u003e\n            \u003cdiv\u003e\n                \u003cinput type=\"submit\" value=\"Upload\"\u003e\n            \u003c/div\u003e\n        \u003c/form\u003e\n        \u003cdiv class=\"images\"\u003e\n            \u003cdiv class=\"post\"\u003e\n                \u003cdiv\u003e\n                    \u003cimg class=\"post-image\" src=\"https://pbs.twimg.com/media/DOXI0IEXkAAkokm.jpg\"\u003e\n                \u003c/div\u003e\n                \u003cp class=\"post-caption\"\u003eLiving my best life\u003c/p\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n```\n\nThe view’s styling is controlled by `photo.scss`. Update the file to look like this:\n\n``` scss\n    // app/assets/stylesheets/photo.scss\n    .wrapper{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n    .uploads{\n        margin-top: 20px;\n        margin-bottom: 20px;\n        align-items: center;\n    }\n    .images{\n        .post{\n            width: 500px;\n            border-radius: 10px;\n            border: 1px solid rgb(214, 210, 210);\n            margin-bottom: 20px;\n        }\n    }\n    .post-image{\n        width: 100%;\n    }\n    .post-caption{\n        padding-left: 20px;\n    }\n    .uploads{\n        display: flex;\n        justify-content: space-between;\n    }\n    input[type=\"submit\"]{\n        background-color: #333333;\n        border: none;\n        color: white;\n        padding: 10px 32px;\n        text-align: center;\n        text-decoration: none;\n        display: inline-block;\n        font-size: 16px;\n    }\n```\n\nThe top bar allows the user to upload pictures to the feed and that is fixed to the top to make it easy to perform the action. The other part part is responsible for displaying the images on the screen to the user. \n\nNow let’s take a look at what happens when a submission is made for a new post to be created. When the **Post** button is clicked, a POST request is made to the ‘photo/store’ route.\n\nIn the `config/routes.rb` that houses the available routes for our application, we have the following:\n\n- `/` - To display the existing photos and upload form\n- `/photo/store` - To create a new post\n\n``` ruby\n    # config/routes.rb\n    Rails.application.routes.draw do\n      post 'photo/store'\n      root 'photo#index'\n    end\n```\n\nLet’s take a look at the controller logic to save the post uploaded by the user. Edit your `app/controllers/photo_controller.rb` to look like this:\n\n``` ruby\n    # app/controllers/photo_controller.rb\n    class PhotoController \u003c ApplicationController\n      def store\n        render plain: params[:caption].inspect\n      end\n      \n      def index\n        @posts = Post.all\n      end\n    end\n```\n\n\u003e The `index` method in the controller is responsible for fetching all the existing posts in the database.\n\nAt the moment, the controller only renders the caption on a new page. This is not what we want. We are going to further edit this controller to do the following:\n\n- Upload the image to Cloudinary and save the post in the database\n- Use Pusher to display posts in realtime\n\n## Uploading posts with Cloudinary\n\n[Cloudinary](https://cloudinary.com) is your one stop shop for all your image and video management needs when building applications. With Cloudinary, you no longer have to worry about writing the core code behind image and video manipulations, uploading images. You can read more about all Cloudinary features [here](https://cloudinary.com/solutions). \n\nCloudinary has a [Ruby gem](https://github.com/cloudinary/cloudinary_gem) and that is what will be used to handle the file uploads.\n\nAdd the Cloudinary as a dependency in your `Gemfile`:\n\n```\n    # adding cloudinary to gemfile\n    gem 'cloudinary'\n```\n\nInstall it by running the command:\n\n```\n    bundle install\n```\n\n### Configuring Cloudinary\nTo use the Cloudinary gem, you need to have a Cloudinary developer account to use it in your applications. Head over here to create one if you don’t have one already. \n\nCloudinary automatically checks for a `cloudinary.yml` in the `config` directory that contains the configuration file for your Cloudinary account. You can download your own customized file for your account [here](https://cloudinary.com/console/cloudinary.yml). Once it’s downloaded, place the file in the `config` directory.\n\n### Using the module\n\nWe are going to use the module in the Photo controller. Update the `app/controllers/photo_controller.rb` file:\n\n``` ruby\n    # app/controllers/photo_controller.rb\n    class PhotoController \u003c ApplicationController\n      \n      def index\n        @posts = Post.all.order(\"created_at DESC\")\n      end\n      \n      def store\n        # upload image to cloudinary\n        @value = Cloudinary::Uploader.upload(params[:image])\n        # create a new post object and save to db\n        @post = Post.new({:link =\u003e @value['secure_url'], :caption =\u003e params[:caption]})\n        @post.save\n        # trigger an event with pusher\n        [...]\n        redirect_to('/')\n      end\n    end\n```    \n\nNow, at this point, we’ve been able to upload a new image using Cloudinary and save the post in the database.\n\n## Adding realtime functionality with Pusher\n\nNow that the post has been created, you need to let all the users online know that there’s a new post without needing to refresh their browsers. To do this, let’s use Pusher. Pusher allows you to seamlessly add realtime features to your applications without worrying about infrastructure.\nTo get started, create a [developer account](https://pusher.com/signup). Once that is done, [create your application](https://dashboard.pusher.com/#wizard-modal) and obtain your application keys. \n\nTo use Pusher with your Rails application, you need to do a couple of things.\n\n### Install Pusher via Ruby gems\n\nAdd pusher to your `Gemfile` \n\n```\n    # Gemfile\n    [...]\n    \n    gem 'pusher'\n    \n    [...]\n```\n\nAnd then install the new gem:\n\n```\n    bundle install\n```\n\nTo confirm your installation run:\n\n```\n    bundle info pusher\n```\n\nYou should get a result like this:\n\n```\n    $ bundle info pusher\n    * pusher (1.3.1)\n            Summary: Pusher API client\n            Homepage: http://github.com/pusher/pusher-http-ruby\n            Path: /home/captog/.rvm/gems/ruby-2.4.1/gems/pusher-1.3.1\n```\n\n### Import the Pusher package\n\nCreate a  `config/initializers/pusher.rb` file to look like this:\n\n``` ruby\n    # config/initializers/pusher.rb\n    require 'pusher'\n    \n    Pusher.app_id = 'PUSHER_APP_ID'\n    Pusher.key = 'PUSHER_APP_KEY'\n    Pusher.secret = 'PUSHER_APP_SECRET'\n    Pusher.cluster = 'PUSHER_APP_CLUSTER'\n    Pusher.logger = Rails.logger\n    Pusher.encrypted = true\n\nThe `PUSHER_APP_ID`, `PUSHER_APP_KEY`, `PUSHER_APP_SECRET` and `PUSHER_APP_CLUSTER`  can all be obtained from the [dashboard](https://dashboard.pusher.com) of your application.\n```\n\n### Triggering events from the controller\n\nTo trigger a new event, update the `app/controlllers/photo_controller.rb` file:\n\n``` ruby\n    # app/controllers/photo_controller.rb\n    class PhotoController \u003c ApplicationController\n      def store\n        # upload image to cloudinary\n        @value = Cloudinary::Uploader.upload(params[:image])\n        # render plain: @value['secure_url']\n        # create a new post object and save to db\n        @post = Post.new({:link =\u003e @value['secure_url'], :caption =\u003e params[:caption]})\n        if @post.save\n          # broadcasting posts using pusher\n          Pusher.trigger('posts-channel','new-post', {\n            link: @post.link,\n            caption: @post.caption\n          })\n        end \n        redirect_to('/')\n      end\n    end\n```\n\nAfter the post is saved in the database, a `new-post` event is triggered in the `posts-channel`. The Pusher dashboard allows you to debug your application by seeing when events have been triggered.\n\n### Displaying posts on the client\n\nTo integrate Pusher to the frontend of your application, you’ll need to do the following:\n\nFirst, include the Pusher script in the header of the application in the `app/views/layouts/application.html.erb`\n\n``` html\n    # app/views/layouts/application.html.erb\n    [...]\n      \u003chead\u003e\n        [...]\n        \n        \u003cscript src=\"https://js.pusher.com/4.1/pusher.min.js\"\u003e\u003c/script\u003e\n       \n         [...]\n      \u003c/head\u003e\n    [...]\n```\n\nNext thing to do is to create a Pusher client in the application header:\n\n``` html\n    # app/views/layouts/application.html.erb\n    [...]\n      \u003chead\u003e\n        [...]\n        // add pusher script\n        \u003cscript\u003e\n          var pusher = new Pusher('PUSHER_APP_KEY', {\n          cluster: 'eu',\n          encrypted: true\n        });\n        \u003c/script\u003e\n       \n         [...]\n      \u003c/head\u003e\n    [...]\n```\n  \nFinally, subscribe to the `posts-channel` and listen for `new-post` events. You can do this in the `photo#index` view of the application. Update the `app/views/photo/index.html.erb` to look like this:\n\n``` html\n    # app/views/photo/index.html.erb\n    \u003ch1 style=\"text-align: center\"\u003eRealtime PhotoFeeds!\u003c/h1\u003e\n    \u003cdiv class=\"wrapper\"\u003e\n      [...]\n      \n       \u003cdiv class=\"images\" id=\"post_section\"\u003e\n          \u003c% @posts.each do |post| %\u003e\n              \u003cdiv class=\"post\"\u003e\n                      \u003cdiv\u003e\n                          \u003cimg class=\"post-image\" src=\"\u003c%= post.link %\u003e\"\u003e\n                      \u003c/div\u003e\n                      \u003cp class=\"post-caption\"\u003e\u003c%= post.caption %\u003e\u003c/p\u003e\n              \u003c/div\u003e\n          \u003c% end %\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n        \u003cscript\u003e\n        var channel = pusher.subscribe('posts-channel');\n        channel.bind('new-post', function(data) {\n            let post_link = data.link;\n            let post_caption = data.caption;\n            let div = document.getElementById('post_section');\n            let new_content = document.createElement(\"div\");\n            new_content.innerHTML = `\n                \u003cdiv class=\"post\"\u003e\n                    \u003cdiv\u003e\n                        \u003cimg class=\"post-image\" src=\"${post_link}\"\u003e\n                    \u003c/div\u003e\n                    \u003cp class=\"post-caption\"\u003e ${post_caption}\u003c/p\u003e\n                \u003c/div\u003e`;\n            div.insertBefore(new_content, div.firstChild);\n        });\n        \u003c/script\u003e  \n```\n\nHere, on the client, we subscribe to the `posts-channel` and listen for a `new-post` event. When an event is broadcasted we then update the UI to show the new post.\n\nTo see the application at work, start the rails server using the command:\n\n```\n    rails server --binding=127.0.0.1\n```\n\nThis starts up a rails server with the port shown to you - in this case `127.0.0.1:3000` as specified with the `--binding` flag. When you visit the application, this is what you see:\n\n![photo-sharing-ruby-demo](//images.ctfassets.net/1es3ne0caaid/50pJyIefdmk0EqmeYGIaCa/930228316f4843d1d58b5c48c05313ea/photo-sharing-ruby-demo.gif)\n\n## Conclusion\n\nIn this article, we’ve seen how to use Ruby and Pusher to make a simple realtime photosharing application. Feel free to apply these concepts and explore the Pusher documentation for more exciting features.Lastly, the complete source code of this demo application is on [GitHub](https://github.com/orehga/pusher-photofeed-ruby).","metaTitle":"Build a photo sharing app with Ruby on Rails and Cloudinary","metaDescription":"This short tutorial will show you how to create a simple photo sharing app using Ruby and Cloudinary. You will set up a Rails project, integrate Cloudinary, and build an app featuring realtime updates as users post images."}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5X3Bg7qOWIQ20KuwSWAwMs","type":"Entry","createdAt":"2018-05-28T11:19:58.087Z","updatedAt":"2018-05-28T11:19:58.087Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Build a live comments app with Ruby on Rails and PostgreSQL","url":"live-comments-ruby-rails-postgresql","authors":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5Q1I2HN8pqGKG2wYcCeaO2","type":"Entry","createdAt":"2018-02-12T17:24:27.398Z","updatedAt":"2018-02-14T10:09:48.043Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"author"}},"locale":"en-US"},"fields":{"name":"Christian Nwamba","url":"christian-nwamba","email":"nwambachristian@gmail.com","twitter":"https://twitter.com/codebeast","github":"https://github.com/christiannwamba","guestWriter":true}}],"projectRepo":"https://github.com/yemiwebby/live-comments-pusher","products":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"SRRvSlyWCAyg2KK4U4EW0","type":"Entry","createdAt":"2018-02-12T14:37:35.058Z","updatedAt":"2019-08-28T08:41:41.310Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"product"}},"locale":"en-US"},"fields":{"name":"Channels","url":"channels","isBeta":false,"featured":true}}],"tags":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"39y1r2Hh7OseMkwQSIyQwS","type":"Entry","createdAt":"2018-02-12T15:08:52.296Z","updatedAt":"2018-02-26T12:31:11.510Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":5,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Live Comments","url":"live-comments","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6S5luSjtlYk4i8eM8AyO4I","type":"Entry","createdAt":"2018-02-02T13:39:48.331Z","updatedAt":"2018-02-12T14:41:19.307Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby","url":"ruby","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"hPWAADkjVmomS68E6seqQ","type":"Entry","createdAt":"2018-02-12T14:48:52.613Z","updatedAt":"2018-02-12T14:48:52.613Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby on Rails","url":"ruby-on-rails","type":"framework"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6KUSaq9zVuw0SWMYaWAUQI","type":"Entry","createdAt":"2018-02-12T15:11:33.107Z","updatedAt":"2018-02-26T12:31:11.535Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Social","url":"social","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5NDDHe4dnGooOgCWY6gkmK","type":"Entry","createdAt":"2018-02-12T15:11:43.730Z","updatedAt":"2018-02-26T12:31:11.551Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Social Interactions","url":"social-interactions","type":"use case"}}],"reviewDate":"2018-05-27","description":"Build a social commenting application using Ruby on Rails and PostgreSQL. App users can leave comments on a sample post, and see other comments appear immediately as they are added.","prerequisite":"You will need Ruby, Rails and PostgreSQL installed on your machine.","content":"## Introduction\n\nIn this post, we will explore and build a basic realtime commenting application. We will create a fake post and assume that users read it and decided to leave a comment.\n\nThis is similar to what is obtainable in a real-world application, where you can have live commenting features implemented in your project and comments added by readers will update in realtime without the need to refresh the page.  \n\nThis basically increases the level of engagement and allows for a proper interaction and participation from users. By the time we are done, our application will look like this:\n\n ![live-comments-ruby-demo-1](//images.ctfassets.net/1es3ne0caaid/CUCtt2jfaKamewSYqWEss/905255d1b0f30d78395b67037ba50fc2/live-comments-ruby-demo-1.gif)\n\nThis application will be built with Ruby on Rails and the realtime functionality fully powered by Pusher.\n\n## Prerequisites\n\nA basic understanding of Ruby, CoffeeScript and PostgresSQL will help you with this tutorial. Ensure that you have PostgreSQL installed on your machine. Kindly check the documentation of [PostgreSQL](https://www.postgresql.org/download/), [Ruby](https://www.ruby-lang.org/en/downloads/) and [Rails](http://guides.rubyonrails.org/getting_started.html) for further installations procedures.\n\n## Creating the live comment application\n\nIt is important that you have both Ruby and Rails installed. Run the following code in your terminal to confirm the successful installation of both Ruby and Rails:\n\n```\n    $ ruby -v // 2.1 or above\n    $ rails -v // 4.2 or above\n```\n\nSecondly, we will run a command that will create a new Rails application in a folder called `live-comments-pusher`. Run the command below in your terminal:\n\n```\n    $ rails new live-comments-pusher -T --database=postgresql\n```\n\nThe `-T` flag was added to prevent generation of the default testing suite as we won’t be writing any tests.\n\nGo ahead and change directory into the newly created folder:\n\n```\n    $ cd live-comments-pusher\n```\n\nIn the root directory of this application, open the `Gemfile` and add the following gems:\n\n```\n    # Gemfile\n    \n    gem 'bootstrap', '~\u003e 4.1.0'\n    gem 'jquery-rails'\n    gem 'pusher'\n    gem 'figaro'\n```    \n\nand install them:\n\n```\n    $ bundle install\n```\n\n## Database setup\n\nTo set up the database for our application, create a database called `live-comments-pusher_development`. Check out this [article](https://www.digitalocean.com/community/tutorials/how-to-setup-ruby-on-rails-with-postgres) on how to create a Postgres database and an associated user and password.\n\nIn your `database.yml` file, under the `development` key, add the following code:\n\n``` yaml\n    # config/database.yml\n    \n    ...\n    development:\n      \u003c\u003c: *default\n      database: live-comments-pusher_development // add this line if it isn't already there\n      username: database_user // add this line\n      password: user_password // add this line\n    ...\n```\n\nThe username and password in the code above should have access to the `live-comments-pusher_development` database. Next, run the following code to setup the database:\n\n```\n    # setup database\n    $ rails db:setup\n```\n\n## Starting the web server\n\nStart the development server by running `rails s` from the terminal and visit http://localhost:3000 in your browser. Your page should look like this:\n\n![youre-on-rails](//images.ctfassets.net/1es3ne0caaid/3sOsgC4S80gOKM8Waqkgui/87c5c9e64375cbb2f8f2516223f4e515/youre-on-rails.png)\n\n## Signing up with Pusher\n\nHead over to Pusher and [sign up for a free account](https://dashboard.pusher.com/accounts/sign_up). \n\n![ruby-create-pusher-account](//images.ctfassets.net/1es3ne0caaid/6uDbn5kOyIOiKyeSeOKqeS/6136b86bc4d9b6ceff7fcf8458375a19/ruby-create-pusher-account.png)\n\nCreate a new app by selecting **Channels apps** on the sidebar and clicking **Create Channels app** button on the bottom of the sidebar:\n\n![ruby-channels-dashboard](//images.ctfassets.net/1es3ne0caaid/5IDtPf0HhC4aKg66gguYq8/183e0b23ec44fdfc23a38921e11fe9e3/ruby-channels-dashboard.png)\n\nConfigure an app by providing basic information requested in the form presented. You can also choose the environment you intend to integrate Pusher with, to be provided with boilerplate code:\n\n![ruby-new-pusher-app](//images.ctfassets.net/1es3ne0caaid/3qnLmThfu8ue2ImYKKSw8a/2e4f39b15b8787e0f6d3b4f2ea022d95/ruby-new-pusher-app.png)\n\nYou can retrieve your keys from the **App Keys** tab:\n\n![ruby-app-keys](//images.ctfassets.net/1es3ne0caaid/1XHWE3GCeoCeqsMCO8uM2q/52523148497d08f6e9ba4f52fe0750f6/ruby-app-keys.png)\n\nNow that you have your Pusher API keys, head over to `config/initializers` directory. Create a `pusher.rb` file and add the following code:\n\n``` ruby\n    # config/initializers/pusher.rb\n    \n    require 'pusher'\n    \n    Pusher.app_id = ENV[\"PUSHER_APP_ID\"]\n    Pusher.key = ENV[\"PUSHER_KEY\"]\n    Pusher.secret = ENV[\"PUSHER_SECRET\"]\n    Pusher.cluster = ENV[\"PUSHER_CLUSTER\"]\n    Pusher.logger = Rails.logger\n    Pusher.encrypted = true\n```\n\nIn your terminal, run:\n\n```\n    $ figaro install\n```\n\nThe command above will generate an `application.yml` file. Locate the newly generate file in `config/application.yml` and add the Pusher credentials obtained from your dashboard:\n\n``` yaml\n    # config/application.yml\n    \n    PUSHER_APP_ID: 'YOUR_APP_ID'\n    PUSHER_KEY: 'YOUR_APP_KEY'\n    PUSHER_SECRET: 'YOUR_APP_SECRET'\n    PUSHER_CLUSTER: 'CLUSTER'\n```\n\n\n## Setting up the model and controller\n\nWith our application up and running, we’ll use Rails’ scaffolding feature to quickly set up our comment model and controller:\n\n```\n    # generate comment model and controller\n    $ rails g scaffold comment message:text\n    \n    # run database migration\n    $ rails db:migrate\n```\n\n## Setting up the homepage\n\nRestart the development server and reload your browser page. You should still see the welcome page. We’re about to change all that.\n\nAdd the following code to your route file:\n\n```\n    # config/routes.rb\n    \n    ...\n    root 'comments#index'\n    ...\n```\n\nIn your `application.js` file, add the following code just before the last line:\n\n``` javascript\n    // app/assets/javascripts/application.js\n    \n    .....\n    //= require jquery3 # add this line\n    //= require popper # add this line\n    //= require bootstrap # add this line\n    //= require_tree .\n    ....\n```\n\nRename your `application.css` file to `application.scss`, import Bootstrap and add some custom styles:\n\n``` scss\n    // app/assets/stylesheets/application.scss\n    \n    \n     @import \"bootstrap\";\n     @import url('https://fonts.googleapis.com/css?family=Josefin+Sans');\n     body {\n      font-family: 'Josefin Sans', sans-serif;\n     }\n     .navbar-brand {\n       color: #FFF !important;\n       \u0026:hover {\n         background-color: unset;\n       }\n     }\n     .form-control {\n       outline: none !important;\n       \n       \u0026:focus {\n        border-color: transparent !important;\n        border: 1px !important;\n       }\n     }\n     #wrapper {\n         padding-top: 15px;\n     }\n      p {\n        line-height: 1.3125rem;\n      }\n      \n      .comments {\n        margin: 2.5rem auto 0;\n        max-width: 60.75rem;\n        padding: 0 1.25rem;\n      }\n      \n      .comment-wrap {\n        margin-bottom: 1.25rem;\n        display: table;\n        width: 100%;\n        min-height: 5.3125rem;\n      }\n      \n      .photo {\n        padding-top: 0.625rem;\n        display: table-cell;\n        width: 3.5rem;\n      }\n      .photo .avatar {\n        height: 2.25rem;\n        width: 2.25rem;\n        border-radius: 50%;\n        background-size: contain;\n      }\n      \n      .comment-block {\n        padding: 1rem;\n        background-color: #f5f5f5;\n        display: table-cell;\n        vertical-align: top;\n        border-radius: 0.1875rem;\n        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.08);\n      }\n      .comment-block textarea {\n        width: 100%;\n        resize: none;\n      }\n      \n      .comment-text {\n        margin-bottom: 1.25rem;\n      }\n      \n      .bottom-comment {\n        color: #acb4c2;\n        font-size: 0.875rem;\n      }\n      .comment-actions {\n        float: right;\n      }\n      .comment-actions li {\n        display: inline;\n        margin: -2px;\n        cursor: pointer;\n      }\n      .comment-actions li.show {\n        padding-right: 0.75rem;\n        border-right: 1px solid #e1e5eb;\n      }\n      .comment-actions li.destroy {\n        padding-left: 0.75rem;\n        padding-right: 0.125rem;\n      }\n```    \n\nAt the moment, if we restart the development server and reload the application, we should notice changes in the fonts of our page, this is because we have successfully included Bootstrap.\n\nIf you encounter any errors relating to `application.html.erb`  while trying to set up Bootstrap, in `config/boot.rb`, change the ExecJS runtime from Duktape to Node.\n\n``` ruby\n    # config/boot.rb\n    ENV['EXECJS_RUNTIME'] ='Node'\n```\n\n## Set up the view\n\nTo set up the view, replace the code in your `index.html.erb` file with the following:\n\n``` html\n    \u003c%# app/views/comments/index.html.erb %\u003e\n    \n    \u003cdiv id=\"wrapper\" class=\"container\"\u003e\n    \u003cdiv class=\"text-center\"\u003e\n      \u003ch1\u003eSample post\u003c/h1\u003e\n      \u003cp\u003eThis is an interesting sample post for Pusher \u003c/p\u003e\n    \u003c/div\u003e\n    \u003cdiv id=\"comments\" class=\"comments\"\u003e\n    \u003c% @comments.each do |comment| %\u003e\n     \u003cdiv class=\"col-6 offset-3\"\u003e\n      \u003cdiv class=\"comment-wrap\"\u003e\n            \u003cdiv class=\"photo\"\u003e\n                \u003cdiv class=\"avatar\" style=\"background-image: url('http://res.cloudinary.com/yemiwebby-com-ng/image/upload/v1525202285/avatar_xcah9z.svg')\"\u003e\u003c/div\u003e\n            \u003c/div\u003e        \n            \u003cdiv class=\"comment-block\"\u003e\n                \u003cp class=\"comment-text\"\u003e\u003c%= comment.message %\u003e\u003c/p\u003e\n                \u003cdiv class=\"bottom-comment\"\u003e\n                    \u003cul class=\"comment-actions\"\u003e\n                        \u003cli class=\"show\"\u003e\u003c%= link_to 'Show', comment %\u003e\u003c/li\u003e\n                    \u003c/ul\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e  \n    \u003c% end %\u003e\n    \u003c/div\u003e\n    \u003cdiv class='col-6 offset-4 col-sm-4'\u003e\n      \u003c%= render 'form', comment: @comment %\u003e\n    \u003c/div\u003e\n    \u003c/div\u003e\n```    \n\nUpdate the index method of the comments controller, to include the following:\n\n``` ruby\n    # app/controllers/comments_controller.rb\n    \n    class CommentsController \u003c ApplicationController\n      ...\n      def index\n        @comments = Comment.all\n        @comment = Comment.new # add this line\n      end\n      ...\n    end\n```\n\nThe code above adds Bootstrap styling to the table on our landing page. It also instantiates a new comment record in the `index` method of the comments controller. If you reload the landing page, you should see the form.\n\n## Post a comment\n\nCurrently adding a new comment record redirects us to a different page. We would like to handle that with AJAX instead. To achieve this, add `remote: true` and `format: :json` to your form. Replace the code in `_form.html.erb` with the following: \n\n``` html\n    // app/views/comments/_form.html.erb\n    \n    \u003c%= form_with(model: comment, remote: true, format: :json, id: 'add_comment') do |form| %\u003e\n      \u003c% if comment.errors.any? %\u003e\n        \u003cdiv id=\"error_explanation\"\u003e\n          \u003ch2\u003e\u003c%= pluralize(comment.errors.count, \"error\") %\u003e prohibited this comment from being saved:\u003c/h2\u003e\n          \u003cul\u003e\n          \u003c% comment.errors.full_messages.each do |message| %\u003e\n            \u003cli\u003e\u003c%= message %\u003e\u003c/li\u003e\n          \u003c% end %\u003e\n          \u003c/ul\u003e\n        \u003c/div\u003e\n      \u003c% end %\u003e\n      \u003cdiv class=\"field\"\u003e\n        \u003c%= form.label :message %\u003e\n        \u003c%= form.text_area :message, id: :comment_message, class: \"form-control\" %\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"actions\"\u003e\n        \u003c%= form.submit 'Add comment', class: \"btn btn-success\"%\u003e\n      \u003c/div\u003e\n    \u003c% end %\u003e\n```\n\nNow that our form uses AJAX, we’ll handle updating the page with CoffeeScript. Open `app/assets/javascripts/comments.coffee` and paste in the code below:\n\n``` coffeescript\n    # app/assets/javascripts/comments.coffee\n    \n    addComment = (data) -\u003e\n      $('#comments').append \"\"\"\n      \u003cdiv class=\"col-6 offset-3\"\u003e\n        \u003cdiv class=\"comment-wrap\"\u003e\n            \u003cdiv class=\"photo\"\u003e\n                \u003cdiv class=\"avatar\" style=\"background-image: url('http://res.cloudinary.com/yemiwebby-com-ng/image/upload/v1525202285/avatar_xcah9z.svg')\"\u003e\u003c/div\u003e\n            \u003c/div\u003e        \n            \u003cdiv class=\"comment-block\"\u003e\n                \u003cp class=\"comment-text\"\u003e#{data.message}\u003c/p\u003e\n                \u003cdiv class=\"bottom-comment\"\u003e\n                    \u003cul class=\"comment-actions\"\u003e\n                        \u003cli class=\"show\"\u003e\u003ca href=\"/comments/#{data.id}\"\u003eShow\u003c/a\u003e\u003c/li\u003e\n                    \u003c/ul\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n      \u003c/div\u003e\n      \u003c/div\u003e\n      \"\"\"\n      return\n    \n    $ -\u003e\n      $('#add_comment').on 'ajax:success', (data) -\u003e\n        $('#add_comment')[0].reset()\n        addComment data.detail[0]\n        return\n      return\n```\n\nIn the above code, we added an `ajax:success` event listener to our form courtesy of [jQuery-ujs](https://github.com/rails/jquery-ujs/wiki/ajax). Whenever we add a new comment, we get our newly added comment as a response and update our page with it.\n\nLet’s reload our page and add a few comments, they should pop up on the page as soon as we hit submit.\n\n## Realtime service with Pusher\n\nTo update our page in realtime, we will publish the new comment record to a channel and subscribe to it on the frontend of our app. In the comment model, we’ll add an `after_commit` callback, which will call a method that will publish the new comment. We'll use `after_commit` so data is published whenever we add or update a comment. \n\nAdd the following code to the comment model:\n\n``` ruby\n    # app/models/comment.rb\n    \n    class Comment \u003c ApplicationRecord\n      after_commit :notify_pusher, on: [:create, :update]\n      def notify_pusher\n      Pusher.trigger('comment', 'new', self.as_json)\n      end\n    end\n```\n\nHere, our initialized Pusher client triggers an event called `new` through a channel named `comment`.\n\n## Updating the frontend of the application\n\nSo the server is pushing data out on each change, now it’s up to the client to listen for those changes and do something with that data. To do this, we’ll rename our `comments.coffee` file to `comments.coffee.erb` so we can sprinkle some Ruby code in it.\n\nUpdate the file with the following code:\n\n``` ruby\n    # app/assets/javascripts/comments.coffee.erb\n    \n    addComment = (data) -\u003e\n      $('#comments').append \"\"\"\n      \u003cdiv class=\"col-6 offset-3\"\u003e\n        \u003cdiv class=\"comment-wrap\"\u003e\n            \u003cdiv class=\"photo\"\u003e\n                \u003cdiv class=\"avatar\" style=\"background-image: url('http://res.cloudinary.com/yemiwebby-com-ng/image/upload/v1525202285/avatar_xcah9z.svg')\"\u003e\u003c/div\u003e\n            \u003c/div\u003e        \n            \u003cdiv class=\"comment-block\"\u003e\n                \u003cp class=\"comment-text\"\u003e#{data.message}\u003c/p\u003e\n                \u003cdiv class=\"bottom-comment\"\u003e\n                    \u003cul class=\"comment-actions\"\u003e\n                        \u003cli class=\"show\"\u003e\u003ca href=\"/comments/#{data.id}\"\u003eShow\u003c/a\u003e\u003c/li\u003e\n                    \u003c/ul\u003e\n                \u003c/div\u003e\n            \u003c/div\u003e\n      \u003c/div\u003e\n      \u003c/div\u003e\n      \"\"\"\n      return\n    \n    $ -\u003e\n      $('#add_comment').on 'ajax:success', (data) -\u003e\n        $('#add_comment')[0].reset()\n        return\n      pusher = new Pusher('\u003c%= ENV[\"PUSHER_KEY\"] %\u003e',\n        cluster: '\u003c%= ENV[\"PUSHER_CLUSTER\"] %\u003e'\n        encrypted: true)\n      channel = pusher.subscribe('comment')\n      channel.bind 'new', (data) -\u003e\n          addComment data\n          return\n      return\n```\n\nLastly, add the Pusher library inside the head tag in the `application.html.erb` file just before the `javascript_include_tag`:\n\n``` html\n    \u003c%# app/views/layouts/application.html.erb %\u003e\n    \n    \u003chead\u003e\n        \u003ctitle\u003eNewNestcomments\u003c/title\u003e\n        \u003c%= csrf_meta_tags %\u003e\n        \u003c%= csp_meta_tag %\u003e\n        \u003c%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %\u003e\n        \u003cscript src=\"https://js.pusher.com/4.1/pusher.min.js\"\u003e\u003c/script\u003e # add this line\n        \u003c%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %\u003e\n      \u003c/head\u003e\n```\n\n## Testing the application\n\nRestart the development server if it is currently running. Check your page on http://localhost:3000:\n\n![live-comments-ruby-demo-2](//images.ctfassets.net/1es3ne0caaid/4dRgYlqRkcOoaUWQ2o08AS/1f88024efd181c76eb7ff11e6f065a28/live-comments-ruby-demo-2.gif)\n\n## Conclusion\n\nIn this tutorial, we have been able to tap into one of the realtime services offered by Pusher to build a live comments application. This can be improved on by adding extra features as you deem fit. The complete source code for this application can be found [here on GitHub](https://github.com/yemiwebby/live-comments-pusher).","metaTitle":"Build a live comments app with Ruby on Rails and PostgreSQL","metaDescription":"This brief tutorial guides you through building a comments app. Use Ruby on Rails and PostgreSQL to create a simple app where users can comment on a sample post. Comments appear and update instantly as they are added."}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6eKYEn6W9qmOqSWS4eQW8W","type":"Entry","createdAt":"2018-05-28T11:22:15.498Z","updatedAt":"2018-05-28T11:22:15.498Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Build a location sharing app with Ruby on Rails and the Google Maps API ","url":"location-ruby-rails-googlemaps","authors":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5Q1I2HN8pqGKG2wYcCeaO2","type":"Entry","createdAt":"2018-02-12T17:24:27.398Z","updatedAt":"2018-02-14T10:09:48.043Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"author"}},"locale":"en-US"},"fields":{"name":"Christian Nwamba","url":"christian-nwamba","email":"nwambachristian@gmail.com","twitter":"https://twitter.com/codebeast","github":"https://github.com/christiannwamba","guestWriter":true}}],"projectRepo":"https://github.com/9jaswag/pusher-locations","products":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"SRRvSlyWCAyg2KK4U4EW0","type":"Entry","createdAt":"2018-02-12T14:37:35.058Z","updatedAt":"2019-08-28T08:41:41.310Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"product"}},"locale":"en-US"},"fields":{"name":"Channels","url":"channels","isBeta":false,"featured":true}}],"tags":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"O9j65ghjKU6qKEgiEIOes","type":"Entry","createdAt":"2018-02-12T15:07:22.950Z","updatedAt":"2018-02-26T12:31:13.567Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Location","url":"location","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"mT8YjPehTagK0EqEauss8","type":"Entry","createdAt":"2018-02-12T15:08:44.153Z","updatedAt":"2018-02-26T12:31:12.711Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Maps","url":"maps","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6S5luSjtlYk4i8eM8AyO4I","type":"Entry","createdAt":"2018-02-02T13:39:48.331Z","updatedAt":"2018-02-12T14:41:19.307Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby","url":"ruby","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"hPWAADkjVmomS68E6seqQ","type":"Entry","createdAt":"2018-02-12T14:48:52.613Z","updatedAt":"2018-02-12T14:48:52.613Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby on Rails","url":"ruby-on-rails","type":"framework"}}],"reviewDate":"2018-05-27","description":"Build a location sharing web app using Ruby on Rails and the Google Maps API. Get your location, generate a link to share it, and allow people to track your movements with realtime updates.","prerequisite":"To follow this tutorial, you will need Ruby and Rails installed on your machine. A basic understanding of Ruby, PostgreSQL and CoffeeScript will help you get the most out of this tutorial.","content":"## Introduction\n\nRealtime maps have become very popular nowadays. The ability to track something or someone realtime has been incorporated into lots of apps, especially in the transportation and delivery industry.\nIn this post, we’ll be building a realtime location sharing app using Ruby and Pusher.\n\nHere’s a sneak-peak into what we’ll be building:\n\n![location-sharing-ruby-demo](//images.ctfassets.net/1es3ne0caaid/5WvrTBQ16Eq40AoWkgCkkC/9b201ee2550093973ecbd08d77f496a3/location-sharing-ruby-demo.gif)\n\n## Prerequisites\n\nA basic understanding of Ruby, CoffeeScript and PostgreSQL will help you get the best out of this tutorial. You can check the [PostgreSQL](https://www.postgresql.org/download/), [Ruby](https://www.ruby-lang.org/en/downloads/) and [Rails](http://guides.rubyonrails.org/getting_started.html) documentation for installation steps.\n\nBefore we start building our app, let’s ensure we have Ruby and Rails installed. Run the following command in your terminal to confirm you have both Ruby and Rails installed:\n\n```\n    $ ruby -v      // 2.1 or above\n    $ rails -v   // 4.2 or above\n```\n\n\n## Pusher account setup\n\nSince we’ll be relying on Pusher for realtime functionality, let’s head over to Pusher and [create a free account](https://dashboard.pusher.com/accounts/sign_up).\n\n![ruby-create-pusher-account](//images.ctfassets.net/1es3ne0caaid/6uDbn5kOyIOiKyeSeOKqeS/6136b86bc4d9b6ceff7fcf8458375a19/ruby-create-pusher-account.png)\n\nCreate a new app by selecting **Channels apps** on the sidebar and clicking **Create Channels app** button on the bottom of the sidebar:\n\n![ruby-channels-dashboard](//images.ctfassets.net/1es3ne0caaid/5IDtPf0HhC4aKg66gguYq8/183e0b23ec44fdfc23a38921e11fe9e3/ruby-channels-dashboard.png)\n\nConfigure an app by providing basic information requested in the form presented. You can also choose the environment you intend to integrate with Pusher, to be provided with some boilerplate setup code:\n\n![ruby-new-pusher-app](//images.ctfassets.net/1es3ne0caaid/3qnLmThfu8ue2ImYKKSw8a/2e4f39b15b8787e0f6d3b4f2ea022d95/ruby-new-pusher-app.png)\n\nClick the **App Keys** tab to retrieve your keys\n\n![ruby-app-keys](//images.ctfassets.net/1es3ne0caaid/1XHWE3GCeoCeqsMCO8uM2q/52523148497d08f6e9ba4f52fe0750f6/ruby-app-keys.png)\n\nNow that we have our Pusher account, let’s setup our application.\n\n## Setting up the application\n\nOpen your terminal and run the following Rails commands to create our demo application:\n\n```\n    # create a new Rails application\n    $ rails new pusher-locations -T --database=postgresql\n```\n\nGo ahead and change directory into the newly created `pusher-locations` folder:\n\n```\n    # change directory\n    $ cd pusher-locations\n```\n\nIn the root of your `pusher-locations` directory, open your `Gemfile` and add the following gems:\n\n```\n    # Gemfile\n    \n    gem 'bootstrap', '~\u003e 4.1.0'\n    gem 'jquery-rails'\n    gem 'pusher'\n    gem 'figaro'\n```\n\nIn your terminal, ensure you are in the `pusher-locations` project directory and install the gems by running:\n\n```\n    $ bundle install\n```\n\n## Setting up the database\n\nTo get our app up and running, we’ll create a database for it to work with. You can check out this [article](https://www.digitalocean.com/community/tutorials/how-to-setup-ruby-on-rails-with-postgres) on how to create a Postgres database and an associated user and password.\n\nOnce you have your database details, in your `database.yml` file, under the `development` key, add the following code:\n\n``` yaml\n    # config/database.yml\n    \n    ...\n    development:\n      \u003c\u003c: *default\n      database: pusher-locations_development // add this line if it isn't already there\n      username: database_user // add this line\n      password: user_password // add this line\n    ...\n```\n\nEnsure that the username and password entered in the code above has access to the `pusher-locations_development database`. After that, run the following code to setup the database:\n\n```\n    # setup database\n    $ rails db:setup\n```\n\n## Bootstrap the application\n\nWith our database all set up, we’ll go ahead and create our models and controllers. In your terminal, while in the project’s directory, run the following code:\n\n```\n    # generate a trip model\n    $ rails g model trip name:string uuid:string\n    \n    # generate a checkin model\n    $ rails g model checkin trip:references lat:decimal lng:decimal\n    \n    # generate a trips controller with index, create and show views and actions\n    $ rails g controller trips index create show\n    \n    # generate a checkins controller with a create action and view\n    $ rails g controller checkins create\n```\n\nNext, we’ll update our trip model with its association and some methods. In your trip model file, add the following:\n\n``` ruby\n    # app/models/trip.rb\n    \n    class Trip \u003c ApplicationRecord\n      before_create :set_uuid\n      has_many :checkins # trip model's association with the checkins model\n      \n      # a method that creates a random uuid for each trip before its created\n      def set_uuid\n        self.uuid = SecureRandom.uuid\n      end\n      \n      # a method that generates a custom JSON output for our trip objects\n      def as_json(options={})\n        super(\n          only: [:id, :name, :uuid],\n          include: { checkins: { only: [:lat, :lng, :trip_id] } }\n        )\n      end\n    end\n```\n\nWe’re now ready to run our database migrations and see our new app. In your terminal, run the following code:\n\n```\n    # run database migrations\n    $ rails db:migrate\n```\n\nAfter running migrations, start the development server on your terminal by running `rails s`. Visit http://localhost:3000 in your browser to see your brand new application:\n\n![youre-on-rails](//images.ctfassets.net/1es3ne0caaid/3sOsgC4S80gOKM8Waqkgui/87c5c9e64375cbb2f8f2516223f4e515/youre-on-rails.png)\n\n## Setting up a Google Maps project\n\nWe’ll be using Google Maps to render our map. This [documentation](https://developers.google.com/maps/documentation/javascript/get-api-key) will guide you through registering a project in the Google API Console and activating the Google Maps JavaScript API. Remember to grab the API key that will be generated for you after registering.\n\n\n## Building the homepage\n\nNow that we have everything we need to build our app, let’s build out our homepage. We’ll set our root page to the trips controller index page and add some resource routes. In your routes file, add the following code:\n\n``` ruby\n    # config/routes.rb\n    \n    Rails.application.routes.draw do\n      resources :trips do\n        resources :checkins, only: :create\n      end\n      root 'trips#index'\n    end\n```\n\nNext, we’ll require Bootstrap and add some styling. Add the following code to your `application.js` file, all before the last line:\n\n``` javascript\n    # app/assets/javascripts/application.js\n    \n    .....\n    //= require jquery3 # add this line\n    //= require popper # add this line\n    //= require bootstrap # add this line\n    //= require_tree .\n```\n\nRename your `application.css` file to `application.scss` and add the following code:\n\n``` scss\n    # app/assets/stylesheets/application.scss\n    \n     @import \"bootstrap\";\n     @import url('https://fonts.googleapis.com/css?family=Dosis');\n     body {\n      font-family: 'Dosis', sans-serif;\n     }\n     #map {\n      width: 100%;\n      height: 42rem;\n    }\n```\n\nIn our app, we’ll be interacting with our users via a form in the header. Let’s create a partial where our header will live. We’ll render this partial on the homepage.\nIn our layouts folder, create a `_header.html.erb` file and add the following markup:\n\n``` html\n    # app/views/layouts/_header.html.erb\n    \n    \u003cheader class=\"bg-warning\"\u003e\n      \u003cnav class=\"navbar navbar-expand-sm navbar-light sticky-top\"\u003e\n      \u003ca class=\"navbar-brand\" href=\"/\"\u003ePusher Location\u003c/a\u003e\n        \u003cbutton class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#mobile-menu\" aria-controls=\"mobile-menu\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"\u003e\n          \u003cspan class=\"navbar-toggler-icon\"\u003e\u003c/span\u003e\n        \u003c/button\u003e\n        \u003cdiv class=\"collapse navbar-collapse\" id=\"mobile-menu\"\u003e\n          \u003cform class=\"form-inline name-form\"\u003e\n            \u003cinput class=\"form-control mr-sm-2\" type=\"name\" name=\"name\" required placeholder=\"Enter your name\" aria-label=\"name\"\u003e\n            \u003cbutton class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\"\u003eShare Location\u003c/button\u003e\n          \u003c/form\u003e\n          \u003cdiv class=\"share-url\"\u003e\u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/nav\u003e\n    \u003c/header\u003e\n```\n\nNow, we’ll render our header partial and add the HTML markup for our homepage:\n\n``` html\n    # app/views/trips/index.html.erb\n    \n    \u003c%= render 'layouts/header' %\u003e\n    \u003cdiv id=\"map\"\u003e\u003c/div\u003e\n```\n\nWith this, we should have a homepage that looks like this:\n\n![location-sharing-ruby-homepage](//images.ctfassets.net/1es3ne0caaid/KgbRmHD4GaqAEIAI4mKQ/6aa7dc860863b7c6110bab1c79f5e379/location-sharing-ruby-homepage.png)\n\nIf you encounter any error related to `application.html.erb`, in `config/boot.rb`, change the ExecJS runtime from Duktape to Node.\n\n```\n    # config/boot.rb\n    ENV['EXECJS_RUNTIME'] ='Node'\n```\n\n\n## Displaying users location on a map\n\nOnce our users submit a name, we request their location, save it to the database and then render a map showing that location. We’ll check their current location every five seconds and update the map with it.\nTo make use of the Google Maps API, we need to add the Google Maps script to the head of our `application.html.erb` file. We’ll also add the Pusher library script.\n\n``` html\n    # app/views/layouts/application.html.erb\n    \n    ...\n      \u003chead\u003e\n        \u003ctitle\u003ePusherLocations\u003c/title\u003e\n        \u003c%= csrf_meta_tags %\u003e\n        \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\"\u003e\n        \u003cscript async defer src=\"https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY\"\u003e\u003c/script\u003e # add Google Maps script\n        \u003c%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %\u003e\n        \u003cscript src=\"https://js.pusher.com/4.1/pusher.min.js\"\u003e\u003c/script\u003e # add Pusher script\n        \u003c%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %\u003e\n      \u003c/head\u003e\n      ...\n```\n\nEnsure you add your API key to the Google Maps script.\n\nNow, in your `trips.coffee` file, add the following code:\n\n``` coffeescript\n    # app/assets/javascripts/trips.coffee\n    \n    $(document).ready =\u003e\n      tripId = ''\n      startingPoint = {}\n      # function for converting coordinates from strings to numbers\n      makeNum = (arr) -\u003e\n        arr.forEach (arr) -\u003e\n          arr.lat = Number(arr.lat)\n          arr.lng = Number(arr.lng)\n          return\n        arr\n        \n      # function for creating a new trip\n      saveTrip = (positionData) -\u003e\n        token = $('meta[name=\"csrf-token\"]').attr('content')\n        $.ajax\n          url: '/trips'\n          type: 'post'\n          beforeSend: (xhr) -\u003e\n            xhr.setRequestHeader 'X-CSRF-Token', token\n            return\n          data: positionData\n          success: (response) -\u003e\n            tripId = response.id\n            url = \"\"\"#{window.location.protocol}//#{window.location.host}/trips/#{response.uuid}\"\"\"\n            initMap()\n            $('.name-form').addClass('collapse')\n            $('.share-url').append \"\"\"\n              \u003ch6 class=\"m-0 text-center\"\u003eHello \u003cstrong\u003e#{response.name}\u003c/strong\u003e, here's your location sharing link: \u003ca href=\"#{url}\"\u003e#{url}\u003c/a\u003e\u003c/h6\u003e\n            \"\"\"\n            getCurrentLocation()\n            return\n        return\n        \n      # function for getting the user's location at the begining of the trip\n      getLocation = (name) -\u003e\n        if navigator.geolocation\n          navigator.geolocation.getCurrentPosition (position) -\u003e\n            coord = position.coords\n            timestamp = position.timestamp\n            data =\n              lat: coord.latitude,\n              lng: coord.longitude,\n              name: name\n            startingPoint = data\n            saveTrip data\n        return\n        \n      # function for rendering the map\n      initMap = -\u003e\n        center = \n          lat: startingPoint.lat\n          lng: startingPoint.lng\n        map = new (google.maps.Map)(document.getElementById('map'),\n          zoom: 18\n          center: center)\n        marker = new (google.maps.Marker)(\n          position: center\n          map: map)\n        return\n      \n      # function for updating the map with the user's current location\n      updateMap = (checkin) -\u003e\n        lastCheckin = checkin[checkin.length - 1]\n        center = \n          lat: startingPoint.lat\n          lng: startingPoint.lng\n        map = new (google.maps.Map)(document.getElementById('map'),\n          zoom: 18\n          center: center)\n        marker = new (google.maps.Marker)(\n          position: lastCheckin\n          map: map)\n        flightPath = new (google.maps.Polyline)(\n          path: checkin\n          strokeColor: '#FF0000'\n          strokeOpacity: 1.0\n          strokeWeight: 2)\n        flightPath.setMap map\n        setTimeout(getCurrentLocation, 5000)\n        return\n        \n      # function for updating the database with the user's current location\n      updateCurrentLocation = (tripData, id) -\u003e\n        token = $('meta[name=\"csrf-token\"]').attr('content')\n        $.ajax\n          url: \"/trips/#{id}/checkins\"\n          type: 'post'\n          beforeSend: (xhr) -\u003e\n            xhr.setRequestHeader 'X-CSRF-Token', token\n            return\n          data: tripData\n          success: (response) -\u003e\n            return\n        return\n        \n      # function for finding the user's current location\n      getCurrentLocation = -\u003e\n        navigator.geolocation.getCurrentPosition (position) -\u003e\n          data =\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          updateCurrentLocation(data, tripId)\n        return\n        \n      # run this block of code if we're on the homepage\n      unless location.pathname.startsWith('/trips')\n        # when a user submits their name, get their name and call the function to get their location\n        $('.name-form').on 'submit', (event) -\u003e\n          event.preventDefault()\n          formData = $(this).serialize()\n          name = formData.split('=')[1]\n          data = getLocation(name)\n          return\n```\n\nIn the code above, we get our user’s name and call the `getLocation` function. The `getLocation` function gets the user’s location and saves it to the database.\n\nIf the user’s location is saved successfully, we render the link for sharing their location on the header, render the map on the page by calling the `initMap` function and then call the `getCurrentLocation` function to monitor their current location and update the map.\n\nAlso, add the following code to your trips and checkins controllers respectively:\n\n``` ruby\n    # app/controllers/trips_controller.rb\n    \n    class TripsController \u003c ApplicationController\n      def index\n      end\n    \n      # function for creating a new trip\n      def create\n        @trip = Trip.new(trip_params)\n        @trip.checkins.build(lat: params[:lat], lng: params[:lng])\n        render json: @trip.as_json if @trip.save\n      end\n      \n      # function for showing a trip\n      def show\n        @trip = Trip.find_by(uuid: params[:id])\n      end\n    \n      private\n        def trip_params\n          params.permit(:name)\n        end\n    end\n```\n\n``` ruby\n    # app/controllers/checkins_controller.rb\n    \n    class CheckinsController \u003c ApplicationController\n      def create\n        @checkin = Checkin.new(checkin_params)\n        render json: @checkin.as_json(only: [:lat, :lng, :trip_id]) if @checkin.save\n      end\n      \n      private\n        def checkin_params\n          params.permit(:trip_id, :lat, :lng)\n        end\n    end\n```\n\nIf you have followed the tutorial up to this point, if you refresh the homepage, you should be able to enter your name and see your location in a map on the page. Remember to allow the page to access your location.\n\n\n## Displaying the map via the share link\n\nWhen we share the link with other users, we want them to see the user’s current location on a map. The share link contains the UUID for that current trip. When the page loads, we attach the longitude and latitude data to a hidden field and use it to render the user’s location on a page.\nAdd the following code to the `show.html.erb` file:\n\n``` html\n    # app/views/trips/show.html.erb\n    \n    \u003cdiv id=\"map\"\u003e\u003c/div\u003e\n    \u003c%= hidden_field_tag 'lat', @trip.checkins[0][:lat]  %\u003e # hidden field holding the latitude information\n    \u003c%= hidden_field_tag 'lng', @trip.checkins[0][:lng]  %\u003e# hidden field holding the longitude information\n```\n\nAdd the following code to the `trips.coffee` file:\n\n``` coffeescript\n    # app/assets/javascripts/trips.coffee\n    \n      ......\n      # run this code if we're on the trips page\n      if location.pathname.startsWith('/trips')\n        showLat = $('#lat').val() # get the user's latitude from the hidden field\n        showLng = $('#lng').val() # get the user's longitude from the hidden field\n        data =\n          lat: Number(showLat),\n          lng: Number(showLng)\n        startingPoint = data\n        initMap()\n```\n\nIn the code above, when we’re on the trips page, we get the longitude and latitude from the hidden input field. We then call the `initMap` function to render the map on the page.\n\nWith this, we should be able to view the user’s location via the share link.\n\n\n## Realtime location sharing with Pusher\n\nNow that other users can view user’s location on the map, it’s time for us to update the user’s location in realtime. To achieve this, every time a user’s current location is updated, we publish it and on the frontend of our app, we update the map with the new coordinates.\n\nFirst, let’s initialize our Pusher client. In the `config/initializers` folder, create a `pusher.rb` file and add the following code:\n\n``` ruby\n    # config/initializers/pusher.rb\n    \n    require 'pusher'\n    Pusher.app_id = ENV[\"PUSHER_APP_ID\"]\n    Pusher.key = ENV[\"PUSHER_KEY\"]\n    Pusher.secret = ENV[\"PUSHER_SECRET\"]\n    Pusher.cluster = ENV[\"PUSHER_CLUSTER\"]\n    Pusher.logger = Rails.logger\n    Pusher.encrypted = true\n```\n\nNext, run `figaro install` in your terminal. It will generate an `application.yml` file. In the `application.yml` file add your Pusher keys:\n\n``` yaml\n    # config/application.yml\n    \n    PUSHER_APP_ID: 'xxxxxx'\n    PUSHER_KEY: 'xxxxxxxxxxxxxxxxx'\n    PUSHER_SECRET: 'xxxxxxxxxxxxxx'\n    PUSHER_CLUSTER: 'xx'\n```\n\nWith our Pusher client set up, in our checkin model, we’ll add an after create callback to publish a user’s coordinates after they’re saved.\nAdd the following code in the checkin model:\n\n``` ruby\n    # app/models/checkin.rb\n    \n    class Checkin \u003c ApplicationRecord\n      belongs_to :trip\n      after_create :notify_pusher\n      \n      # method to publish a user's current location\n      def notify_pusher\n        Pusher.trigger('location', 'new', self.trip.as_json)\n      end\n    end\n```\n\n## Updating the UI\n\nNow that our server is publishing coordinate updates, we’ll grab them on the client side and update the map with it.\nLets rename our `trips.coffee` file to `trips.coffee.erb` and replace the code there with the following:\n\n``` coffeescript\n    # app/assets/javascripts/trips.coffee.erb\n    \n    $(document).ready =\u003e\n      tripId = ''\n      startingPoint = {}\n      isOwner = false\n      map = null\n    \n      \u003c%# function for converting coordinates to numbers %\u003e\n      makeNum = (arr) -\u003e\n        arr.forEach (arr) -\u003e\n          arr.lat = Number(arr.lat)\n          arr.lng = Number(arr.lng)\n          return\n        arr\n      \n      \u003c%# function for creating a new trip %\u003e\n      saveTrip = (positionData) -\u003e\n        isOwner = true\n        token = $('meta[name=\"csrf-token\"]').attr('content')\n        $.ajax\n          url: '/trips'\n          type: 'post'\n          beforeSend: (xhr) -\u003e\n            xhr.setRequestHeader 'X-CSRF-Token', token\n            return\n          data: positionData\n          success: (response) -\u003e\n            tripId = response.id\n            url = \"\"\"#{window.location.protocol}//#{window.location.host}/trips/#{response.uuid}\"\"\"\n            initMap()\n            $('.name-form').addClass('collapse')\n            $('.share-url').append \"\"\"\n              \u003ch6 class=\"m-0 text-center\"\u003eHello \u003cstrong\u003e#{response.name}\u003c/strong\u003e, here's your location sharing link: \u003ca href=\"#{url}\"\u003e#{url}\u003c/a\u003e\u003c/h6\u003e\n            \"\"\"\n            getCurrentLocation()\n            return\n        return\n      \n      \u003c%# function for getting the user's location at the begining of the trip %\u003e\n      getLocation = (name) -\u003e\n        if navigator.geolocation\n          navigator.geolocation.getCurrentPosition (position) -\u003e\n            coord = position.coords\n            timestamp = position.timestamp\n            data =\n              lat: coord.latitude,\n              lng: coord.longitude,\n              name: name\n            startingPoint = data\n            saveTrip data\n        return\n      \n      \u003c%# function for rendering the map %\u003e\n      initMap = -\u003e\n        center = \n          lat: startingPoint.lat\n          lng: startingPoint.lng\n        map = new (google.maps.Map)(document.getElementById('map'),\n          zoom: 18\n          center: center)\n        marker = new (google.maps.Marker)(\n          position: center\n          map: map)\n        return\n      \n      \u003c%# function for updating the map with the user's current location %\u003e\n      updateMap = (checkin) -\u003e\n        console.log checkin\n        lastCheckin = checkin[checkin.length - 1]\n        center = \n          lat: startingPoint.lat\n          lng: startingPoint.lng\n        map = new (google.maps.Map)(document.getElementById('map'),\n          zoom: 18\n          center: center)\n        marker = new (google.maps.Marker)(\n          position: lastCheckin\n          map: map)\n        flightPath = new (google.maps.Polyline)(\n          path: checkin\n          strokeColor: '#FF0000'\n          strokeOpacity: 1.0\n          strokeWeight: 2)\n        flightPath.setMap map\n        if isOwner\n          setTimeout(getCurrentLocation, 5000)\n        return\n      \n      \u003c%# function for updating the database with the user's current location %\u003e\n      updateCurrentLocation = (tripData, id) -\u003e\n        token = $('meta[name=\"csrf-token\"]').attr('content')\n        $.ajax\n          url: \"/trips/#{id}/checkins\"\n          type: 'post'\n          beforeSend: (xhr) -\u003e\n            xhr.setRequestHeader 'X-CSRF-Token', token\n            return\n          data: tripData\n          success: (response) -\u003e\n            return\n        return\n      \n      \u003c%# function for finding the user's current location %\u003e\n      getCurrentLocation = -\u003e\n        navigator.geolocation.getCurrentPosition (position) -\u003e\n          data =\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          updateCurrentLocation(data, tripId)\n        return\n    \n      \u003c%# run this block of code if we're on the homepage %\u003e\n      unless location.pathname.startsWith('/trips')\n        \u003c%# when a user submits their name, get their name and call the function to get their location %\u003e\n        $('.name-form').on 'submit', (event) -\u003e\n          event.preventDefault()\n          formData = $(this).serialize()\n          name = formData.split('=')[1]\n          data = getLocation(name)\n          return\n      \n      \u003c%# run this code if we're on the trips page %\u003e\n      if location.pathname.startsWith('/trips')\n        showLat = $('#lat').val()\n        showLng = $('#lng').val()\n        data =\n          lat: Number(showLat),\n          lng: Number(showLng)\n        startingPoint = data\n        initMap()\n        \n      \u003c%# subscribe Pusher client %\u003e\n      pusher = new Pusher('\u003c%= ENV[\"PUSHER_KEY\"] %\u003e',\n        cluster: '\u003c%= ENV[\"PUSHER_CLUSTER\"] %\u003e'\n        encrypted: true)\n      channel = pusher.subscribe('location')\n      channel.bind 'new', (data) -\u003e\n        updateMap makeNum(data.checkins)\n        return\n      return\n```\n\nIn the code above, we subscribed our Pusher client to the `location` channel and listened for the `new` event. Once those events are emitted, we get the coordinates and update the map with it.\n\n## Bringing it all together\n\nRestart the development server if it is currently running. Visit http://localhost:3000 in two separate browser tabs to test the realtime location sharing app.\n\nIn order to see the marker move realtime(without going for a walk), you’ll have to send events to the `location` channel. The easiest way to do this is by using the event creator on the [Pusher Debug Console](https://dashboard.pusher.com/apps/524733/console/realtime_messages). Here is a sample data format that can be used to trigger an update:\n\n``` json\n    {\n      \"id\": \"1\",\n        \"name\": \"John\",\n          \"checkins\": [\n            { \"lat\": \"6.5542937\", \"lng\": \"3.3665464999999997\" },\n            { \"lat\": \"6.5545393\", \"lng\": \"3.3667686\" },\n            { \"lat\": \"6.5550349\", \"lng\": \"3.3667605\" },\n            { \"lat\": \"6.5554759\", \"lng\": \"3.3667485\" }\n          ]\n    }\n```\n\nHere is an image of how the event would look like on the Pusher event creator:\n\n![location-sharing-ruby-pusher-events-dashboard](//images.ctfassets.net/1es3ne0caaid/4fAMhKbPuoo6KEOGYISY66/1154a9e7a0a4f7f77727311e8bd1bf42/location-sharing-ruby-pusher-events-dashboard.png)\n\n## Conclusion\n\nIn this post, we have successfully created a realtime location sharing app. I hope you found this tutorial helpful and would love to apply the knowledge gained here to easily set up your own application using Pusher.\n\nYou can find the source code for the demo app on [GitHub](https://github.com/9jaswag/pusher-locations).","metaTitle":"Build a location sharing app with Ruby and Google Maps","metaDescription":"This tutorial uses Ruby on Rails and the Google Maps API to create a location sharing app. Users are able to pinpoint their location and generate a link that allows others to track their movement."}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"4fZ7gsiu4w0sMCAwqisKaC","type":"Entry","createdAt":"2018-05-28T11:21:02.494Z","updatedAt":"2018-05-28T11:21:02.494Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Track online presence in a Ruby on Rails app","url":"online-presence-ruby-rails","authors":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5Q1I2HN8pqGKG2wYcCeaO2","type":"Entry","createdAt":"2018-02-12T17:24:27.398Z","updatedAt":"2018-02-14T10:09:48.043Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"author"}},"locale":"en-US"},"fields":{"name":"Christian Nwamba","url":"christian-nwamba","email":"nwambachristian@gmail.com","twitter":"https://twitter.com/codebeast","github":"https://github.com/christiannwamba","guestWriter":true}}],"projectRepo":"https://github.com/9jaswag/pusher-online-presence","products":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"SRRvSlyWCAyg2KK4U4EW0","type":"Entry","createdAt":"2018-02-12T14:37:35.058Z","updatedAt":"2019-08-28T08:41:41.310Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"product"}},"locale":"en-US"},"fields":{"name":"Channels","url":"channels","isBeta":false,"featured":true}}],"tags":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6HDXlostEIoyqU6K6WyuM0","type":"Entry","createdAt":"2018-02-12T15:09:53.611Z","updatedAt":"2018-02-26T12:31:12.502Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Online Presence","url":"online-presence","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6S5luSjtlYk4i8eM8AyO4I","type":"Entry","createdAt":"2018-02-02T13:39:48.331Z","updatedAt":"2018-02-12T14:41:19.307Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby","url":"ruby","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"hPWAADkjVmomS68E6seqQ","type":"Entry","createdAt":"2018-02-12T14:48:52.613Z","updatedAt":"2018-02-12T14:48:52.613Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby on Rails","url":"ruby-on-rails","type":"framework"}}],"reviewDate":"2018-05-27","description":"Build a Ruby app that tracks which users are online. You will create a simple app, with signup and login functionality. Users will be able to view a dashboard that updates automatically when new users log in.","prerequisite":"To follow this tutorial, you will need Ruby and Rails installed on your machine. A basic understanding of Ruby, PostgreSQL and CoffeeScript will help you get the most out of this tutorial.","content":"## Introduction\n\nWe live in a social age, an age where people meet and form relationships online. On whatever online platform people meet, one important feature to have is the ability for users to know when their friends are online or offline.\nIn this post we’ll build a simple app where we can monitor the online presence of users in realtime. When we’re done, we’d have built something that looks like this:\n\n![online-presence-ruby-demo](//images.ctfassets.net/1es3ne0caaid/7F57ekAVZCmEAM6SucgmOK/46cd89ce88a696f2f0a7dae2c91bba37/online-presence-ruby-demo.gif)\n\n## Prerequisites\n\nA basic understanding of Ruby, CoffeeScript and PostgreSQL will help you get the best out of this tutorial. You can check the [PostgreSQL](https://www.postgresql.org/download/), [Ruby](https://www.ruby-lang.org/en/downloads/) and [Rails](http://guides.rubyonrails.org/getting_started.html) documentation for installation steps.\n\nBefore we start building our app, let’s ensure we have Ruby and Rails installed. Run the following command in your terminal to confirm you have both Ruby and Rails installed:\n\n```\n    $ ruby -v      // 2.1 or above\n    $ rails -v   // 4.2 or above\n```\n\n## Setting up the application\n\nOpen your terminal and run the following Rails commands to create our demo application:\n\n```\n    # create a new Rails application\n    $ rails new pusher-online-presence -T --database=postgresql\n```\n\nGo ahead and change directory into the newly created `pusher-online-presence` folder:\n\n```\n    # change directory\n    $ cd pusher-online-presence\n```\n\nIn the root of your `pusher-online-presence` directory, open your `Gemfile` and add the following gems:\n\n```\n    # Gemfile\n    \n    gem 'bootstrap', '~\u003e 4.1.0'\n    gem 'jquery-rails'\n    gem 'pusher'\n    gem 'figaro'\n    gem 'devise'\n```\n\nIn your terminal, ensure you are in the `pusher-online-presence` project directory and install the gems by running:\n\n```\n    $ bundle install\n```\n\n## Database setup\n\nTo get our app up and running, we’ll create a database for it to work with. You can check out this [article](https://www.digitalocean.com/community/tutorials/how-to-setup-ruby-on-rails-with-postgres) on how to create a Postgres database and an associated user and password.\n\nOnce you have your database details, in your `database.yml` file, under the `development` key, add the following code:\n\n``` yaml\n    # config/database.yml\n    \n    ...\n    development:\n      \u003c\u003c: *default\n      database: pusher-online-presence_development // add this line if it isn't already there\n      username: database_user // add this line\n      password: user_password // add this line\n    ...\n```\n\nEnsure that the username and password entered in the code above has access to the `pusher-online-presence_development database`. After that, run the following code to setup the database:\n\n```\n    # setup database\n    $ rails db:setup\n```\n\n## Bootstrap the application\n\nWith our database all set up, first thing we’ll do is to set up [Devise](https://github.com/plataformatec/devise). Devise is a flexible authentication solution for Ruby on Rails. It helps you set up user authentication in seconds. In your terminal, run the following command:\n\n```\n    # run the devise generator\n    $ rails generate devise:install\n```\n\nAt this point, a number of instructions will appear in the console, one of which involves adding some code to your `application.html.erb` file. We’ll also add our Pusher script while we’re at it.\n\n``` html\n    # app/views/layouts/application.html.erb\n    \n      \u003chead\u003e\n        .....\n        \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\"\u003e\n        \u003c%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %\u003e\n        \u003cscript src=\"https://js.pusher.com/4.1/pusher.min.js\"\u003e\u003c/script\u003e # add Pusher script\n        \u003c%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %\u003e\n      \u003c/head\u003e\n      \u003cbody\u003e\n        \u003cdiv class=\"container\"\u003e # add this block of code\n          \u003c% if notice %\u003e\n            \u003cdiv class=\"alert alert-info alert-dismissible fade show\" role=\"alert\"\u003e\n              \u003cp class=\"notice m-0\"\u003e\u003c%= notice %\u003e\u003c/p\u003e\n              \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"\u003e\n                \u003cspan aria-hidden=\"true\"\u003e\u0026times;\u003c/span\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c% end %\u003e\n          \u003c% if alert %\u003e\n            \u003cdiv class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\"\u003e\n              \u003cp class=\"m-0\"\u003e\u003c%= alert %\u003e\u003c/p\u003e\n              \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"\u003e\n                \u003cspan aria-hidden=\"true\"\u003e\u0026times;\u003c/span\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c% end %\u003e\n        \u003c/div\u003e # code block ends here\n        \u003c%= yield %\u003e\n      \u003c/body\u003e\n```\n\nNext, we’ll generate our authentication view pages and user model using Devise. In your terminal, run the following command:\n\n```\n    # generate Devise view pages\n    $ rails generate devise:views\n    \n    # generate user model\n    $ rails generate devise user\n    \n    # generate migration to add extra columns to the user model\n    $ rails generate migration add_username_to_users username:string:uniq is_signed_in:boolean\n```\n\nNow that we have our migration files generated, we’ll make some modifications to some files and then run our migrations.\n\nIn your migrate folder, open the `add_username_to_users` migration file and add the following:\n\n``` ruby\n    # db/migrate/20180524154037_add_username_to_users.rb\n    \n    class AddUsernameToUsers \u003c ActiveRecord::Migration[5.1]\n      def change\n        add_column :users, :username, :string\n        add_index :users, :username, unique: true\n        add_column :users, :is_signed_in, :boolean, default: true # update this line\n      end\n    end\n```\n\nNote that your `add_username_to_users` file may have a different name from what is above, based on when you ran the migration commands.\nNow, let’s add some validation to our user model:\n\n``` ruby\n    # app/models/user.rb\n    \n    class User \u003c ApplicationRecord\n      # Include default devise modules. Others available are:\n      # :confirmable, :lockable, :timeoutable and :omniauthable\n      validates :username, presence: :true, uniqueness: { case_sensitive: false } # add this line\n      validates :is_signed_in, inclusion: [true, false] # add this line\n      devise :database_authenticatable, :registerable,\n             :recoverable, :rememberable, :trackable, :validatable\n    end\n```\n\nUpdate the code in your application controller with the following:\n\n``` ruby\n    # app/controllers/application_controller.rb\n    \n    class ApplicationController \u003c ActionController::Base\n      protect_from_forgery with: :exception\n      before_action :configure_permitted_parameters, if: :devise_controller?\n      before_action :authenticate_user!\n      \n      protected\n      \n      def configure_permitted_parameters\n        added_attrs = [:username, :email, :password, :password_confirmation, :remember_me]\n        devise_parameter_sanitizer.permit :sign_up, keys: added_attrs\n        devise_parameter_sanitizer.permit :account_update, keys: added_attrs\n      end\n    end\n```\n\nNow, we’re ready to run our migration and see our app. In your terminal, run the following:\n\n```\n    # run database migrations\n    $ rails db:migrate\n```\n\nAfter running migrations, start the development server on your terminal by running `rails s`. Visit [http://localhost:3000](http://localhost:3000/) in your browser to see your brand new application:\n\n![youre-on-rails](//images.ctfassets.net/1es3ne0caaid/3sOsgC4S80gOKM8Waqkgui/87c5c9e64375cbb2f8f2516223f4e515/youre-on-rails.png)\n\n## Pusher account setup\n\nNow that our application is up and running, it’s time for us to create our app on Pusher. Head over to Pusher and [sign up for a free account](https://dashboard.pusher.com/accounts/sign_up).\n\n![ruby-create-pusher-account](//images.ctfassets.net/1es3ne0caaid/6uDbn5kOyIOiKyeSeOKqeS/6136b86bc4d9b6ceff7fcf8458375a19/ruby-create-pusher-account.png)\n\nCreate a new app by selecting **Channels apps** on the sidebar and clicking **Create Channels app** button on the bottom of the sidebar:\n\n![ruby-channels-dashboard](//images.ctfassets.net/1es3ne0caaid/5IDtPf0HhC4aKg66gguYq8/183e0b23ec44fdfc23a38921e11fe9e3/ruby-channels-dashboard.png)\n\nConfigure an app by providing basic information requested in the form presented. You can also choose the environment you intend to integrate with Pusher, to be provided with some boilerplate setup code:\n\n![ruby-new-pusher-app](//images.ctfassets.net/1es3ne0caaid/3qnLmThfu8ue2ImYKKSw8a/2e4f39b15b8787e0f6d3b4f2ea022d95/ruby-new-pusher-app.png)\n\nClick the **App Keys** tab to retrieve your keys\n\n![ruby-app-keys](//images.ctfassets.net/1es3ne0caaid/1XHWE3GCeoCeqsMCO8uM2q/52523148497d08f6e9ba4f52fe0750f6/ruby-app-keys.png)\n\n## Styling the authentication pages\n\nWhile bootstrapping the application, we generated some views courtesy of Devise. Those pages amongst others include our sign up and login pages. We’ll add some styling to the login and signup pages.\nReplace the code in the following files with the ones below:\n\n``` html\n    # app/views/devise/registrations/new.html.erb\n    \n    \u003cdiv class=\"container col-11 col-md-7 col-lg-5 bg-info login-container p-4 mt-5\"\u003e\n      \u003ch2\u003eSign up\u003c/h2\u003e\n      \u003c%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %\u003e\n        \u003c%= devise_error_messages! %\u003e\n        \u003cdiv class=\"field\"\u003e\n          \u003c%= f.label :email %\u003e\u003cbr /\u003e\n          \u003c%= f.email_field :email, autofocus: true, autocomplete: \"email\", class: 'form-control' %\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"field\"\u003e\n          \u003c%= f.label :username %\u003e\u003cbr /\u003e\n          \u003c%= f.text_field :username, autofocus: true, autocomplete: \"username\", class: 'form-control' %\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"field\"\u003e\n          \u003c%= f.label :password %\u003e\n          \u003c% if @minimum_password_length %\u003e\n          \u003cem\u003e(\u003c%= @minimum_password_length %\u003e characters minimum)\u003c/em\u003e\n          \u003c% end %\u003e\u003cbr /\u003e\n          \u003c%= f.password_field :password, autocomplete: \"off\", class: 'form-control' %\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"field\"\u003e\n          \u003c%= f.label :password_confirmation %\u003e\u003cbr /\u003e\n          \u003c%= f.password_field :password_confirmation, autocomplete: \"off\", class: 'form-control' %\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"actions\"\u003e\n          \u003c%= f.submit \"Sign up\", class: 'btn btn-primary my-2' %\u003e\n        \u003c/div\u003e\n      \u003c% end %\u003e\n      \u003c%= render \"devise/shared/links\" %\u003e\n    \u003c/div\u003e\n```\n\n``` html\n    # app/views/devise/sessions/new.html.erb\n    \n    \u003cdiv class=\"container col-11 col-md-7 col-lg-5 bg-info login-container p-4 mt-5\"\u003e\n      \u003ch2\u003eLog in\u003c/h2\u003e\n      \u003c%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %\u003e\n        \u003cdiv class=\"field\"\u003e\n          \u003c%= f.label :email %\u003e\u003cbr /\u003e\n          \u003c%= f.email_field :email, autofocus: true, autocomplete: \"email\", class: 'form-control' %\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"field\"\u003e\n          \u003c%= f.label :password %\u003e\u003cbr /\u003e\n          \u003c%= f.password_field :password, autocomplete: \"off\", class: 'form-control' %\u003e\n        \u003c/div\u003e\n        \u003c% if devise_mapping.rememberable? -%\u003e\n          \u003cdiv class=\"field\"\u003e\n            \u003c%= f.check_box :remember_me %\u003e\n            \u003c%= f.label :remember_me %\u003e\n          \u003c/div\u003e\n        \u003c% end -%\u003e\n        \u003cdiv class=\"actions\"\u003e\n          \u003c%= f.submit \"Log in\", class: 'btn btn-primary my-2' %\u003e\n        \u003c/div\u003e\n      \u003c% end %\u003e\n      \u003c%= render \"devise/shared/links\" %\u003e\n    \u003c/div\u003e\n```\n\nIf you visit http://localhost:3000/users/sign_in or http://localhost:3000/users/sign_up, you’ll see our forms are still not looking pretty. Let’s change that with Bootstrap.\n\nAdd the following code to your `application.js` file, all before the last line:\n\n``` javascript\n    # app/assets/javascripts/application.js\n    \n    .....\n    //= require jquery3 # add this line\n    //= require popper # add this line\n    //= require bootstrap # add this line\n    //= require_tree .\n```\n\nRename your `application.css` file to `application.scss` and add the following styles:\n\n``` scss\n    # app/assets/stylesheets/application.scss\n    \n     @import \"bootstrap\";\n     @import url('https://fonts.googleapis.com/css?family=Dosis');\n     body {\n      font-family: 'Dosis', sans-serif;\n     }\n     .login-container {\n       border-radius: 3px;\n     }\n     .full-page {\n       height: 100vh;\n     }\n     .left {\n       overflow-y: scroll;\n       height: 86vh;\n     }\n     .active-user {\n       border-radius: 3px;\n       padding-left: 0.5rem;\n       font-weight: 900;\n       margin-right: 0.5rem;\n       .online-icon {\n         border-radius: 50%;\n         width: 0.5rem;\n         height: 0.5rem;\n       }\n     }\n     .left::-webkit-scrollbar {\n      width: 0.3rem;\n    }\n    .left::-webkit-scrollbar-thumb {\n      background: #fff3; \n    }\n```\n\nIf we reload our authentication pages now, we should be greeted with a pretty sight.\n\nIf you encounter any error related to `application.html.erb`, in `config/boot.rb`, change the ExecJS runtime from Duktape to Node.\n\n``` ruby\n    # config/boot.rb\n    ENV['EXECJS_RUNTIME'] ='Node'\n```\n\n## Building the homepage\n\nWith our authentication pages set up, let’s design our homepage. We’ll set our root page to our index file and add some HTML markup and styling to it.\n\n``` ruby\n    # config/routes.rb\n    \n    Rails.application.routes.draw do\n      get 'users/index'\n      devise_for :users\n      root 'users#index'\n      # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html\n    end\n```\n\nNext, we’ll generate our users controller and add some markup to our index page.\n\n```\n    # generate a users controller with an index view\n    $ rails g controller users index\n```\n\nIn your `index.html.erb` file, add the following code:\n\n``` html\n    # app/views/users/index.html.erb\n    \n    \u003cdiv class=\"container-fluid full-page\"\u003e\n      \u003cdiv class=\"row\"\u003e\n        \u003cdiv class=\"col-6 col-md-3 col-lg-2 bg-dark full-page\"\u003e\n          \u003c% if user_signed_in? %\u003e\n            \u003cp class=\"text-white mt-3\"\u003eSigned in as \u003c%= current_user.username %\u003e\u003c/p\u003e\n          \u003c% end %\u003e\n          \u003ch6 class=\"text-white my-3\"\u003eOnline Users\u003c/h6\u003e\n          \u003cdiv class=\"left\"\u003e\n            \u003c% @users.each do |user| %\u003e\n              \u003c% if user.username != current_user.username and user.is_signed_in %\u003e\n                \u003cp class=\"active-user bg-white\" data-id=\"\u003c%= user.id %\u003e\"\u003e\n                  \u003cspan class=\"online-icon d-inline-block bg-success\"\u003e\u003c/span\u003e\n                  \u003cspan class=\"username\"\u003e@\u003c%= user.username %\u003e\u003c/span\u003e\n                \u003c/p\u003e\n              \u003c% end %\u003e\n            \u003c% end %\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"col-6 col-md-9 col-lg-10 bg-light full-page right py-3\"\u003e\n          \u003c%= link_to 'Log out', destroy_user_session_path, method: :delete, class: 'btn btn-warning d-inline-block float-right' %\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n```\n\nLastly, we’ll add the following code to our users controller:\n\n``` ruby\n    # app/controllers/users_controller.rb\n    \n    class UsersController \u003c ApplicationController\n      def index\n        @users = User.all\n      end\n    end\n```\n\nNow you can go ahead and visit http://localhost:3000/ in the browser to see our new homepage; after you create an account.\n\n## Realtime service with Pusher\n\nDevise controls our users’ sessions via its sessions controller. For us to know when a user logs in or logs out, all we need to do is publish the events via Pusher. This way, we can subscribe to them and update the client side of our application.\n\nFirst, let’s initialize our Pusher client. In the `config/initializers` folder, create a `pusher.rb` file and add the following code:\n\n``` ruby\n    # config/initializers/pusher.rb\n    \n    require 'pusher'\n    Pusher.app_id = ENV[\"PUSHER_APP_ID\"]\n    Pusher.key = ENV[\"PUSHER_KEY\"]\n    Pusher.secret = ENV[\"PUSHER_SECRET\"]\n    Pusher.cluster = ENV[\"PUSHER_CLUSTER\"]\n    Pusher.logger = Rails.logger\n    Pusher.encrypted = true\n```\n\nNext, run `figaro install` in your terminal. It will generate an `application.yml` file. In the `application.yml` file add your Pusher keys:\n\n``` yamls\n    # config/application.yml\n    \n    PUSHER_APP_ID: 'xxxxxx'\n    PUSHER_KEY: 'xxxxxxxxxxxxxxxxx'\n    PUSHER_SECRET: 'xxxxxxxxxxxxxx'\n    PUSHER_CLUSTER: 'xx'\n```\n\nWith our Pusher client set up, let’s create a sessions controller that extends the Devise session controller. In your terminal, run the following command:\n\n```\n    # generate a sessions controller\n    $ rails generate controller sessions\n```\n\nIn the sessions controller, add the following code:\n\n``` ruby\n    # app/controllers/sessions_controller.rb\n    \n    class SessionsController \u003c Devise::SessionsController\n      after_action :notify_pusher_login, only: :create\n      before_action :notify_pusher_logout, only: :destroy\n      \n      def notify_pusher_login\n        user = User.find(current_user.id)\n        user.update(is_signed_in: true)\n        notify_pusher 'login'\n      end\n      \n      def notify_pusher_logout\n        user = User.find(current_user.id)\n        user.update(is_signed_in: false)\n        notify_pusher 'logout'\n      end\n      \n      def notify_pusher(activity_type)\n        Pusher.trigger('activity', activity_type, current_user.as_json)\n      end\n    end\n```\n\nIn the code above, we have two callbacks;  an `after_action` for after a user logs in and a `before_action`  for before a user logs out. In both callbacks, we update the user’s `is_signed_in` status and notify Pusher.\n\nNow, let’s inform Devise of our new sessions controller. In your routes file, add the following code:\n\n``` ruby\n    # config/routes.rb\n    \n    Rails.application.routes.draw do\n      get 'users/index'\n      devise_for :users, :controllers =\u003e { :sessions =\u003e \"sessions\" } # update this line\n      root 'users#index'\n    end\n```\n\nLastly, in our app, after a new user signup, users are automatically logged in. So we need to also publish login events whenever a there is a new signup. Let’s update our user model to achieve this:\n\n``` ruby\n    # app/models/user.rb\n    \n    class User \u003c ApplicationRecord\n      # Include default devise modules. Others available are:\n      # :confirmable, :lockable, :timeoutable and :omniauthable\n      validates :username, presence: :true, uniqueness: { case_sensitive: false }\n      validates :is_signed_in, inclusion: [true, false]\n      devise :database_authenticatable, :registerable,\n             :recoverable, :rememberable, :trackable, :validatable\n      after_create :notify_pusher # add this line\n      \n      def notify_pusher # add this method\n        Pusher.trigger('activity', 'login', self.as_json)\n      end\n      \n      def as_json(options={}) # add this method\n        super(\n          only: [:id, :email, :username]\n        )\n      end\n    end\n```\n\n## Updating the UI\n\nNow that Pusher is aware of users’ log in and log out, all we need to do is to subscribe to the event and make the necessary changes to the DOM.\nRename your `users.coffee` file to `users.coffee.erb` and add the following code:\n\n``` ruby\n    # app/assets/javascripts/users.coffee.erb\n    \n    $(document).ready =\u003e\n      \u003c%# function for adding a user to the DOM when they log in %\u003e\n      addLoggenInUser = (user) -\u003e\n        $('.left').append \"\"\"\n          \u003cp class=\"active-user bg-white\" data-id=\"#{user.id}\"\u003e\n            \u003cspan class=\"online-icon d-inline-block bg-success\"\u003e\u003c/span\u003e\n            \u003cspan class=\"username\"\u003e@#{user.username}\u003c/span\u003e\n          \u003c/p\u003e\n        \"\"\"\n        return\n      \u003c%# function for removing a user from the DOM when they log out %\u003e\n      removeLoggedOutUser = (user) -\u003e\n        user = $ 'p[data-id=\\'' + user.id + '\\']'\n        $(user).remove()\n        return\n      \n      \u003c%# subscribe our Pusher client to the activity channel and if there's a login or logout event, call the necessary function %\u003e\n      pusher = new Pusher('\u003c%= ENV[\"PUSHER_KEY\"] %\u003e',\n        cluster: '\u003c%= ENV[\"PUSHER_CLUSTER\"] %\u003e'\n        encrypted: true)\n      channel = pusher.subscribe('activity')\n      channel.bind 'login', (data) -\u003e\n        addLoggenInUser data\n      channel.bind 'logout', (data) -\u003e\n        removeLoggedOutUser data\n        return\n      return\n```\n\nIn the code above, we subscribed our Pusher client to the `activity` channel and listened to the `login` and `logout` event. Whenever those events are broadcast, we call the appropriate function to manipulate the DOM.\n\n\n## Bringing it all together\n\nRestart the development server if it is currently running. Visit http://localhost:3000 in two separate incognito browser tabs to test the app. You should see users appear and disappear from the sidebar in realtime as they log in and logout.\n\n\n## Conclusion\n\nIn this post, we have successfully created an app to monitor the online presence of users. I hope you found this tutorial helpful and would love to apply the knowledge gained here to easily set up your own application using Pusher.\nYou can find the source code for the demo app on [GitHub](https://github.com/9jaswag/pusher-online-presence).","metaTitle":"Track online presence in a Ruby on Rails app","metaDescription":"This tutorial uses Ruby on Rails and PostgreSQL to create a simple Ruby app featuring: user signup and login, and a dashboard where users are alerted when a new user logs in."}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"121B5pZDQcg0umAwY4cOWs","type":"Entry","createdAt":"2018-05-24T08:08:32.375Z","updatedAt":"2018-05-24T08:08:32.375Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Build a social feed with Ruby on Rails and PostgreSQL","url":"social-feed-ruby-rails","authors":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5Q1I2HN8pqGKG2wYcCeaO2","type":"Entry","createdAt":"2018-02-12T17:24:27.398Z","updatedAt":"2018-02-14T10:09:48.043Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"author"}},"locale":"en-US"},"fields":{"name":"Christian Nwamba","url":"christian-nwamba","email":"nwambachristian@gmail.com","twitter":"https://twitter.com/codebeast","github":"https://github.com/christiannwamba","guestWriter":true}}],"projectRepo":"https://github.com/9jaswag/pusher-live-feeds","products":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"SRRvSlyWCAyg2KK4U4EW0","type":"Entry","createdAt":"2018-02-12T14:37:35.058Z","updatedAt":"2019-08-28T08:41:41.310Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"product"}},"locale":"en-US"},"fields":{"name":"Channels","url":"channels","isBeta":false,"featured":true}}],"tags":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"4aiivgGBJYcu0SWUg0QggM","type":"Entry","createdAt":"2018-02-12T15:07:12.232Z","updatedAt":"2018-02-26T12:31:13.536Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Feeds","url":"feeds","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"uGIU8YRFv2icaWKKwW4GQ","type":"Entry","createdAt":"2018-01-26T11:40:16.226Z","updatedAt":"2018-02-12T14:41:04.134Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"JavaScript","url":"javascript","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6S5luSjtlYk4i8eM8AyO4I","type":"Entry","createdAt":"2018-02-02T13:39:48.331Z","updatedAt":"2018-02-12T14:41:19.307Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby","url":"ruby","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"hPWAADkjVmomS68E6seqQ","type":"Entry","createdAt":"2018-02-12T14:48:52.613Z","updatedAt":"2018-02-12T14:48:52.613Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby on Rails","url":"ruby-on-rails","type":"framework"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6KUSaq9zVuw0SWMYaWAUQI","type":"Entry","createdAt":"2018-02-12T15:11:33.107Z","updatedAt":"2018-02-26T12:31:11.535Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Social","url":"social","type":"use case"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5NDDHe4dnGooOgCWY6gkmK","type":"Entry","createdAt":"2018-02-12T15:11:43.730Z","updatedAt":"2018-02-26T12:31:11.551Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":2,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Social Interactions","url":"social-interactions","type":"use case"}}],"reviewDate":"2018-05-23","description":"This tutorial will show you how to create a simple social media feed using Ruby on Rails. Users will be able to make posts, and like other people's posts. The feed will update instantly as new posts are made.","prerequisite":"To follow this tutorial, you will need Ruby and Rails installed on your machine. A basic understanding of Ruby, PostgreSQL and CoffeeScript will help you get the most out of this tutorial.","content":"## Introduction\n\nThe common feature at the heart of every social media platform is posts. In one way or another, every social media platform out there provides a summary of these posts in feeds.\nThe best social media platforms offer realtime updates of posts in user feeds. This way, no social content is delayed and everyone gets access to the latest information as soon as it drops.\n\nIn this post, we’ll build a simple app with realtime feed and likes. Posts will appear in our feed as soon as they are posted as well as their like counts increase in realtime once they’re liked.\n\nA sneak-peek into what we will build in this post:\n\n![ruby-social-feed-demo](//images.ctfassets.net/1es3ne0caaid/4pbg6jUfZK6QG24o48kso0/be6f2e60308c6e363439d6447f87edf7/ruby-social-feed-demo.gif)\n\n## Prerequisites\n\nA basic understanding of Ruby, CoffeeScript and PostgreSQL will help you get the best out of this tutorial. You can check the [PostgreSQL](https://www.postgresql.org/download/), [Ruby](https://www.ruby-lang.org/en/downloads/) and [Rails](http://guides.rubyonrails.org/getting_started.html) documentation for installation steps.\n\n## Setting up the application\n\nBefore starting off, ensure that you have Ruby and Rails installed. Run the following command to confirm your version:\n\n```\n    $ ruby -v      // 2.1 or above\n    $ rails -v   // 4.2 or above\n```\n\nOpen your terminal and run the following Rails commands to create our demo application:\n\n```\n    # create a new Rails application\n    $ rails new pusher-live-feeds -T --database=postgresql\n```\n\nGo ahead and change directory into the newly created `pusher-live-feeds` folder:\n\n```\n    # change directory\n    $ cd pusher-live-feeds\n```\n\nIn the root of your `pusher-live-feeds` directory, open your `Gemfile` and add the following gems:\n\n```\n    # Gemfile\n    \n    gem 'bootstrap', '~\u003e 4.1.0'\n    gem 'jquery-rails'\n    gem 'pusher'\n    gem 'figaro'\n```\n\nIn your terminal, ensure you are in the `pusher-live-feeds` project directory and install the gems by running:\n\n```\n    $ bundle install\n```\n\n## Database setup\n\nTo get our app up and running, we’ll go ahead and create a database for it to work with. You can check out this [article](https://www.digitalocean.com/community/tutorials/how-to-setup-ruby-on-rails-with-postgres) on how to create a Postgres database and an associated user and password.\n\nOnce you have your database details, in your `database.yml` file, under the `development` key, add the following code:\n\n``` yaml\n    # config/database.yml\n    \n    ...\n    development:\n      \u003c\u003c: *default\n      database: pusher-live-feeds_development // add this line if it isn't already there\n      username: database_user // add this line\n      password: user_password // add this line\n    ...\n```\n\nEnsure that the username and password entered in the code above has access to the `pusher-live-feeds_development database`. After that, run the following code to setup the database:\n\n```\n    # setup database\n    $ rails db:setup\n```\n\n## Bootstrap the application\n\nWith our database all set up, we’ll go ahead and create our models and controllers. In your terminal, while in the project’s directory, run the following code:\n\n```\n    # generate a post model\n    $ rails g model post username:string post:text\n    \n    # generate a like model\n    $ rails g model like like_count:integer post:references\n    \n    # generate a posts controller with the index, new and create view\n    $ rails g controller posts index new create\n```\n\nNext, we’ll modify our like model migration file to contain an initial default value for likes. In the `db/migrate` folder, look for the create likes migration file. It should be a file with the current date stamp and ends with `_create_likes.rb`. In that file, update the code there with the following:\n\n``` ruby\n    # db/migrate/20180520125755_create_likes.rb\n    \n    class CreateLikes \u003c ActiveRecord::Migration[5.1]\n      def change\n        create_table :likes do |t|\n          t.integer :like_count, default: 0 # add the default: 0 part.\n          t.references :post, foreign_key: true\n          t.timestamps\n        end\n      end\n    end\n```\n\nIn our post model, we’ll also add an association to the likes model. In your post model, add the following code:\n\n``` ruby\n    # app/models/post.rb\n    \n    class Post \u003c ApplicationRecord\n      has_many :likes\n    end\n```\n\nNow, we’re ready to run our database migrations and see our new app. In your terminal, run the following code:\n\n```\n    # run database migrations\n    $ rails db:migrate\n```\n\nAfter running migrations, start the development server on your terminal by running `rails s`. Visit http://localhost:3000 in your browser to see your brand new application:\n\n![youre-on-rails](//images.ctfassets.net/1es3ne0caaid/3sOsgC4S80gOKM8Waqkgui/87c5c9e64375cbb2f8f2516223f4e515/youre-on-rails.png)\n\n## Pusher account setup\n\nIt’s time for us to create our app on Pusher. Head over to Pusher and [sign up for a free account](https://dashboard.pusher.com/accounts/sign_up).\n\n![ruby-create-pusher-account](//images.ctfassets.net/1es3ne0caaid/6uDbn5kOyIOiKyeSeOKqeS/6136b86bc4d9b6ceff7fcf8458375a19/ruby-create-pusher-account.png)\n\nCreate a new app by selecting **Channels apps** on the sidebar and clicking **Create Channels app** button on the bottom of the sidebar:\n\n![ruby-channels-dashboard](//images.ctfassets.net/1es3ne0caaid/5IDtPf0HhC4aKg66gguYq8/183e0b23ec44fdfc23a38921e11fe9e3/ruby-channels-dashboard.png)\n\nConfigure an app by providing basic information requested in the form presented. You can also choose the environment you intend to integrate Pusher with for a better setup experience:\n\n![ruby-new-pusher-app](//images.ctfassets.net/1es3ne0caaid/3qnLmThfu8ue2ImYKKSw8a/2e4f39b15b8787e0f6d3b4f2ea022d95/ruby-new-pusher-app.png)\n\nClick the **App Keys** tab to retrieve your keys\n\n![ruby-app-keys](//images.ctfassets.net/1es3ne0caaid/1XHWE3GCeoCeqsMCO8uM2q/52523148497d08f6e9ba4f52fe0750f6/ruby-app-keys.png)\n\n## Building the homepage\n\nWith our Pusher account set up, let’s change our app’s landing page to something eye-worthy. Let’s set our homepage to our post’s index page and add the necessary routes for our app.\nIn your routes file, add the following code:\n\n``` ruby\n    # config/routes.rb\n    \n    Rails.application.routes.draw do\n      resources :posts\n      post '/likes/:post_id', to: 'posts#add_like', as: \"add_likes\"\n      root 'posts#index'\n    end\n```\nNext, we’ll require Bootstrap and add some styling. Add the following code to your `application.js` file, all before the last line:\n\n``` javascript\n    # app/assets/javascripts/application.js\n    \n    .....\n    //= require jquery3 # add this line\n    //= require popper # add this line\n    //= require bootstrap # add this line\n    //= require_tree .\n```\n\nRename your `application.css` file to `application.scss` and add the following code:\n\n``` scss\n    # app/assets/stylesheets/application.scss\n    \n     @import \"bootstrap\";\n     @import url('https://fonts.googleapis.com/css?family=Tajawal');\n     \n     body {\n     font-family: 'Tajawal', sans-serif;\n    }\n    #post {\n      min-height: 5rem;\n      max-height: 8rem;\n    }\n    .card-header {\n      padding: 0.25rem 0.85rem;\n      font-weight: 700;\n    }\n    .card-body {\n      padding: 0.55rem 0.85rem;\n    }\n    .far {\n      cursor: pointer;\n    }\n```\n\nNow, we’ll add the HTML markup for our homepage in our `index.html.erb` file:\n\n``` html\n    # app/views/posts/index.html.erb\n    \n    \u003cdiv class=\"container-fluid\"\u003e\n      \u003cdiv class=\"container\"\u003e\n        \u003cdiv class=\"container bg-light p-3 col-8 col-lg-6 welcome-page\"\u003e\n          \u003ch5 class=\"text-center\"\u003eEnter your username\u003c/h5\u003e\n          \u003cinput type=\"text\" id=\"new-user-form\" class=\"form-control my-5\" required /\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"container bg-light p-3 col-8 col-lg-6 post-page collapse\"\u003e\n          \u003cdiv class=\"post-form-wrapper\"\u003e\n            \u003cp class=\"current-user\"\u003e\u003c/p\u003e\n            \u003c%= form_with(model: @post, scope: :post, format: :json, id: 'post-form') do |form| %\u003e\n              \u003cdiv class=\"field\"\u003e\n                \u003c%= form.text_area :post, id: :post, class: \"form-control post-textarea\", required: true %\u003e\n                \u003c%= form.hidden_field :username, id: :username %\u003e\n              \u003c/div\u003e\n              \u003cdiv class=\"actions text-right\"\u003e\n                \u003c%= form.submit 'Submit post', class: \"btn btn-success btn-sm mt-1\" %\u003e\n              \u003c/div\u003e\n            \u003c% end %\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"posts mt-5\"\u003e\n            \u003c% @posts.each do |post| %\u003e\n              \u003cdiv class=\"post-wrapper col-12 mb-2 p-0\"\u003e\n                \u003cdiv class=\"card\"\u003e\n                  \u003cdiv class=\"card-header\"\u003e\n                    @\u003c%= post.username %\u003e\n                    \u003csmall class=\"float-right mt-1\"\u003e\u003c%= post.created_at.strftime(\"at %I:%M%p\") %\u003e\u003c/small\u003e\n                  \u003c/div\u003e\n                  \u003cdiv class=\"card-body\"\u003e\n                    \u003cp class=\"card-text\"\u003e\u003c%= post.post %\u003e\u003c/p\u003e\n                    \u003c%= link_to '', add_likes_path(post_id: post.id), remote: true, method: :post, class: \"far fa-thumbs-up add-like\" %\u003e\u003cspan class=\"ml-2\" data-post=\"\u003c%= post.id %\u003e\"\u003e\u003c%= post.likes[0].like_count %\u003e\u003c/span\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c% end %\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n```\n\nNext, we’ll add the JavaScript code to display the feeds page after collecting the user’s username. Add the following code to your `post.coffee` file:\n\n``` coffeescript\n    # app/assets/javascripts/post.coffee\n    \n    $(document).ready =\u003e\n      currentUser = ''\n      welcomePage = $('.welcome-page')\n      postPage = $('.post-page')\n      newUserForm = $('#new-user-form')\n    \n      # when user enters a username, store it and show the post page\n      newUserForm.on 'keyup', (event) -\u003e\n        if event.keyCode == 13 and !event.shiftKey\n          currentUser = event.target.value\n          newUserForm.val('')\n          welcomePage.addClass('collapse')\n          postPage.removeClass('collapse')\n          greeting = \"\"\"welcome @#{currentUser}\"\"\"\n          $('.current-user').html(greeting)\n          $('#username').val(currentUser)\n        return\n```\n\nIn our posts controller, we’ll instantiate a posts object. In your `posts_controller.rb` file, add the following code:\n\n``` ruby\n    # app/controllers/posts_controller.rb\n    \n    class PostsController \u003c ApplicationController\n      def index\n        @posts = Post.all.order(created_at: :desc) # add this line\n      end\n      ...\n    end\n```\n\nLastly, we’ll be making use of [Font Awesome](https://fontawesome.com/) icons, so we need to add the Font Awesome CDN to our app head tag. While we’re at it, we’ll also add the Pusher library.\n\n``` html\n    # app/views/layouts/application.html.erb\n    \n    \u003chead\u003e\n      ....\n      \u003clink rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.0.13/css/all.css\" integrity=\"sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp\" crossorigin=\"anonymous\"\u003e # add this line\n      \u003cscript src=\"https://js.pusher.com/4.1/pusher.min.js\"\u003e\u003c/script\u003e # add this line\n      \u003c%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %\u003e\n    \u003c/head\u003e\n```\n\nIf you’ve followed the tutorial so far, when you reload the homepage, you should see the first image below. On entering a username, you should see the second image below.\n\n![ruby-social-feed-enter-username](//images.ctfassets.net/1es3ne0caaid/2d3IghEs9qgUASCogqo8KM/e27a11b7e6264f110b9b3fb94d4d85b0/ruby-social-feed-enter-username.png)\n\n![ruby-social-feed-main-page](//images.ctfassets.net/1es3ne0caaid/2AomTyRGDKYIk4SSQeIgIM/7ce5b4a5b463fb0413c6487d84b36d90/ruby-social-feed-main-page.png)\n\nIf you encounter a RegExp error while trying to set up Bootstrap, In `config/boot.rb`, change the ExecJS runtime from Duktape to Node.\n\n``` ruby\n    # config/boot.rb\n    ENV['EXECJS_RUNTIME'] ='Node'\n```\n\n## Adding posts\n\nNow that our app’s UI is set up, we’ll go ahead and start adding posts. In the posts controller, we’ll add code for creating posts and liking them. Update your posts controller with following:\n\n``` ruby\n    # app/controllers/posts_controller.rb\n    \n    class PostsController \u003c ApplicationController\n      def index\n        @posts = Post.all.order(created_at: :desc)\n      end\n      \n      def new\n        @post = Post.new\n      end\n      \n      def create\n        @post = Post.new(post_params)\n        @post.likes.build()\n        respond_to do |format|\n          if @post.save\n            format.json { render :show, status: :created }\n          else\n            format.json { render json: @chat.errors, status: :unprocessable_entity }\n          end\n        end\n      end\n      \n      def add_like\n        @post = Post.find(params[:post_id])\n        if @post\n          @post.likes[0].like_count +=1\n          \n          if @post.likes[0].save\n            respond_to do |format|\n              format.json { render :show, status: :ok }\n            end\n          end\n        end\n      end\n      \n      private\n        def post_params\n          params.require(:post).permit(:post, :username)\n        end\n    end\n```\n\nWe’ll build our server response to JSON using [Jbuilder](https://github.com/rails/jbuilder). In your posts views folder, create a `show.json.jbuilder` file and add the following code:\n\n```\n    # app/views/posts/show.json.jbuilder\n    \n    json.extract! @post, :id, :username, :post, :created_at\n    json.url post_url(@post, format: :json)\n    json.likes @post.likes[0].like_count\n```\n\nWhenever a new post is created, we’ll handle it via AJAX and prepend it to our current feed so the new feeds are at the top. Update your `posts.coffee` file with the following:\n\n``` coffeescript\n    # app/assets/javascripts/posts.coffee\n    \n      # function for adding new posts to the feed\n      updateFeed = (post) -\u003e\n        postTime = new Date(post.created_at.replace(' ', 'T')).toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true })\n        $('.posts').prepend \"\"\"\n          \u003cdiv class=\"post-wrapper col-12 mb-2 p-0\"\u003e\n            \u003cdiv class=\"card\"\u003e\n              \u003cdiv class=\"card-header\"\u003e@#{post.username}\u003csmall class=\"float-right mt-1\"\u003eat #{postTime}\u003c/small\u003e\u003c/div\u003e\n              \u003cdiv class=\"card-body\"\u003e\n                \u003cp class=\"card-text\"\u003e#{post.post}\u003c/p\u003e\n                \u003ca class=\"far fa-thumbs-up add-like\" data-remote=\"true\" rel=\"nofollow\" data-method=\"post\" href=\"/likes/#{post.id}\"\u003e\u003c/a\u003e\n                \u003cspan class=\"ml-2\" data-post=\"#{post.id}\"\u003e#{post.likes[0].like_count}\u003c/span\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \"\"\"\n        return\n        \n      # if the post was successfully saved, get the post and pass it to the updateFeed function\n      $('#post-form').on 'ajax:success', (data) -\u003e\n        post = data.detail[0]\n        updateFeed post\n        $('#post-form')[0].reset()\n        return\n```\n\nWith that, we should be able to create new posts and see them appear in our feed. Next, we’ll add our killer realtime feature.\n\n## Realtime feed with Pusher\n\nTo make our feed realtime, whenever a new post is created, we publish it on the server via Pusher and subscribe to it on the frontend of our app. Before we can do this though, we need to initialize our Pusher client.\nIn the `config/initializers` folder, create a `pusher.rb` file and add the following code:\n\n``` ruby\n    # config/initializers/pusher.rb\n    \n    require 'pusher'\n    Pusher.app_id = ENV[\"PUSHER_APP_ID\"]\n    Pusher.key = ENV[\"PUSHER_KEY\"]\n    Pusher.secret = ENV[\"PUSHER_SECRET\"]\n    Pusher.cluster = ENV[\"PUSHER_CLUSTER\"]\n    Pusher.logger = Rails.logger\n    Pusher.encrypted = true\n```\n\nNext, install [Figaro](https://github.com/laserlemon/figaro) by running `figaro install` in your terminal. It will generate an `application.yml` file. In the `application.yml` file add your Pusher keys:\n\n``` yaml\n    # config/application.yml\n    \n    PUSHER_APP_ID: 'xxxxxx'\n    PUSHER_KEY: 'xxxxxxxxxxxxxxxxx'\n    PUSHER_SECRET: 'xxxxxxxxxxxxxx'\n    PUSHER_CLUSTER: 'xx'\n```\n\nNow we can go ahead and publish new posts and likes whenever they’re created. Add the following code to your post and like models:\n\n``` ruby\n    # app/models/post.rb\n    \n    class Post \u003c ApplicationRecord\n      after_create :notify_pusher, on: :create\n      has_many :likes\n      \n      def notify_pusher\n        Pusher.trigger('feed', 'new-post', self.as_json(include: :likes))\n      end\n    end\n```\n\n``` ruby\n    # app/models/like.rb\n    \n    class Like \u003c ApplicationRecord\n      after_save :notify_pusher, on: :create\n      belongs_to :post\n      \n      def notify_pusher\n        Pusher.trigger('feed', 'new-like', self.post.as_json(include: :likes))\n      end\n    end\n```\n\nIn the code above, we add an `after_create` and `after_save` callback to the post and like models respectively. These callbacks call the function to publish new posts and likes.\n\n## Updating the UI\n\nNow that our server is publishing data each time it’s created, it’s up to the client to listen for those changes and do something with that data.\nLets rename our `posts.coffee` file to `posts.coffee.erb` and update it with the following code:\n\n``` ruby\n    $(document).ready =\u003e\n      currentUser = ''\n      welcomePage = $('.welcome-page')\n      postPage = $('.post-page')\n      newUserForm = $('#new-user-form')\n      \n      \u003c%# when user enters a username, store it and show the post page %\u003e\n      newUserForm.on 'keyup', (event) -\u003e\n        if event.keyCode == 13 and !event.shiftKey\n          currentUser = event.target.value\n          newUserForm.val('')\n          welcomePage.addClass('collapse')\n          postPage.removeClass('collapse')\n          greeting = \"\"\"welcome @#{currentUser}\"\"\"\n          $('.current-user').html(greeting)\n          $('#username').val(currentUser)\n        return\n        \n      \u003c%# function for adding new posts to the feed %\u003e\n      updateFeed = (post) -\u003e\n        postTime = new Date(post.created_at.replace(' ', 'T')).toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true })\n        $('.posts').prepend \"\"\"\n          \u003cdiv class=\"post-wrapper col-12 mb-2 p-0\"\u003e\n            \u003cdiv class=\"card\"\u003e\n              \u003cdiv class=\"card-header\"\u003e@#{post.username}\u003csmall class=\"float-right mt-1\"\u003eat #{postTime}\u003c/small\u003e\u003c/div\u003e\n              \u003cdiv class=\"card-body\"\u003e\n                \u003cp class=\"card-text\"\u003e#{post.post}\u003c/p\u003e\n                \u003ca class=\"far fa-thumbs-up add-like\" data-remote=\"true\" rel=\"nofollow\" data-method=\"post\" href=\"/likes/#{post.id}\"\u003e\u003c/a\u003e\n                \u003cspan class=\"ml-2\" data-post=\"#{post.id}\"\u003e#{post.likes[0].like_count}\u003c/span\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \"\"\"\n        return\n        \n      \u003c%# if the post was successfully saved, get the post and pass it to the updateFeed function %\u003e\n      $('#post-form').on 'ajax:success', (data) -\u003e\n        post = data.detail[0]\n        $('#post-form')[0].reset()\n        return\n        \n      \u003c%# suscribe our Pusher client to the feed channel. Whenever there is a new post or new like, update the view with it %\u003e\n      pusher = new Pusher('\u003c%= ENV[\"PUSHER_KEY\"] %\u003e',\n        cluster: '\u003c%= ENV[\"PUSHER_CLUSTER\"] %\u003e'\n        encrypted: true)\n      channel = pusher.subscribe('feed')\n      channel.bind 'new-post', (data) -\u003e\n        updateFeed data\n      channel.bind 'new-like', (data) -\u003e\n        \u003c%# whenever there is a new like, find the liked post via it's \"data-post\" attribute then update its likes count %\u003e\n        currentPost = $ 'span[data-post=\\'' + data.id + '\\']'\n        currentPost.text(data.likes[0].like_count)\n        return\n      return \n```\n\nIn the code above, we subscribed our Pusher client to the `feed` channel and listened for the `new-post` and `new-like` events. Once those events are emitted, we get the data and update the feed and likes count with it.\n\n## Bringing it all together\n\nRestart the development server if it is currently running. Visit http://localhost:3000 in two separate browser tabs and test out the realtime feed and likes.\n\n## Conclusion\n\nIn this post, we have been able to create a realtime feed app using Pusher. I hope you found this tutorial helpful and would love to apply the knowledge gained here to easily set up your own application using Pusher.\nYou can find the source code for the demo app on [GitHub](https://github.com/9jaswag/pusher-live-feeds).","metaTitle":"Build a social feed with Ruby on Rails and PostgreSQL","metaDescription":"Build a social media feed using Ruby on Rails. The web app allows users to make and like posts, with changes being displayed to all users instantly."}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"2h8nFMJzZiUw0kq8giIymy","type":"Entry","createdAt":"2018-05-22T07:28:18.179Z","updatedAt":"2018-05-22T07:28:18.179Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Build a live chat widget with Ruby and PostgreSQL","url":"live-chat-ruby","authors":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"5Q1I2HN8pqGKG2wYcCeaO2","type":"Entry","createdAt":"2018-02-12T17:24:27.398Z","updatedAt":"2018-02-14T10:09:48.043Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"author"}},"locale":"en-US"},"fields":{"name":"Christian Nwamba","url":"christian-nwamba","email":"nwambachristian@gmail.com","twitter":"https://twitter.com/codebeast","github":"https://github.com/christiannwamba","guestWriter":true}}],"projectRepo":"https://github.com/9jaswag/pusher-chat-widget","products":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"SRRvSlyWCAyg2KK4U4EW0","type":"Entry","createdAt":"2018-02-12T14:37:35.058Z","updatedAt":"2019-08-28T08:41:41.310Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"product"}},"locale":"en-US"},"fields":{"name":"Channels","url":"channels","isBeta":false,"featured":true}}],"tags":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"3FIHOHpvluMeKQoeGgGEGu","type":"Entry","createdAt":"2018-02-12T15:07:01.668Z","updatedAt":"2019-08-22T11:16:51.566Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Chat","url":"chat","type":"use case","featured":true}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"6S5luSjtlYk4i8eM8AyO4I","type":"Entry","createdAt":"2018-02-02T13:39:48.331Z","updatedAt":"2018-02-12T14:41:19.307Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":3,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby","url":"ruby","type":"language"}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"1es3ne0caaid"}},"id":"hPWAADkjVmomS68E6seqQ","type":"Entry","createdAt":"2018-02-12T14:48:52.613Z","updatedAt":"2018-02-12T14:48:52.613Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":1,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"tag"}},"locale":"en-US"},"fields":{"name":"Ruby on Rails","url":"ruby-on-rails","type":"framework"}}],"reviewDate":"2018-05-21","description":"Build a chat widget and admin dashboard using Ruby on Rails and PostgreSQL. The application provides the basic functionality for a business help or sales chat widget.","prerequisite":"To follow this tutorial, you need to have Ruby, Rails and PostgreSQL installed on your machine. Basic knowledge of Ruby and CoffeeScript will be helpful.","content":"## Introduction\n\nIn this age of full online shopping experience, customer retention is key. Customers want answers to their questions in realtime with precision. Whenever this is unavailable, they tend to click away to other sites.\n\nOne of the most effective ways for businesses to attend to their customers is through the use of a live chat system. With it, businesses have been able to provide convenient answers to their customers while at the same time, also increase sales.\n\nIn this tutorial, we’ll explore how to create a live chat system in Ruby while leveraging on the awesome features of Pusher.\nWhen we’re done, we should have built something like this:\n\n![ruby-chat-widget-demo](//images.ctfassets.net/1es3ne0caaid/4nmtCUTpZ6SOgOwwSog00q/48404d5f33fea5e13bb04b561ce11946/ruby-chat-widget-demo.gif)\n\n## Prerequisites\n\nA basic understanding of Ruby, CoffeeScript and PostgreSQL will help you with this tutorial. You should also have PostgreSQL installed. Kindly check the [PostgreSQL](https://www.postgresql.org/download/), [Ruby](https://www.ruby-lang.org/en/downloads/) and [Rails](http://guides.rubyonrails.org/getting_started.html) documentation for further installation steps. You also need to have a [Pusher account](https://dashboard.pusher.com/accounts/sign_up).\n\n\n## Setting up the application\n\nOpen your terminal and run the following commands to create our demo application:\n```\n    # create a new Rails application\n    $ rails new pusher-widget -T --database=postgresql\n```\nGo ahead and change directory into the newly created folder:\n```\n    # change directory\n    $ cd pusher-widget\n```\nIn the root of your `pusher-widget` directory, open your `Gemfile` and add the following gems:\n\n```\n    # Gemfile\n    \n    gem 'bootstrap', '~\u003e 4.1.0'\n    gem 'jquery-rails'\n    gem 'pusher'\n    gem 'figaro'\n```\nIn your terminal, ensure you are in the project directory and install the gems by running:\n\n```\n    $ bundle install\n```\nNext, we set up a database for our demo application. Check out this [article](https://www.digitalocean.com/community/tutorials/how-to-setup-ruby-on-rails-with-postgres) on how to create a Postgres database and an associated user and password.\n\nOnce you have your database details, in your `database.yml` file, under the `development` key, add the following code:\n``` yaml\n    # config/database.yml\n    \n    ...\n    development:\n      \u003c\u003c: *default\n      database: pusher-widget_development // add this line if it isn't already there\n      username: database_user // add this line\n      password: user_password // add this line\n    ...\n```\nThe username and password in the code above should have access to the `pusher-widget_development` database. After that, run the following code to setup the database:\n\n```\n    # setup database\n    $ rails db:setup\n```\n\n\n## Bootstrap the application\n\nWith our database set up, we’ll go ahead and create our models and controllers. In your terminal, while in the project’s directory, run the following code:\n```\n    # generate a chatroom model\n    $ rails g model chatroom email:string name:string\n    \n    # generate a chat model\n    $ rails g model chat message:string name:string chatroom:references\n    \n    # run database migrations\n    $ rails db:migrate\n    \n    # generate chatrooms controller with views\n    $ rails g controller chatrooms index new create show\n    \n    # generate chats controller with views\n    $ rails g controller chats index new create show\n```\n\n## Start the application\n\nAfter setting up the models and controllers, in your terminal, start the development server by running `rails s`. Visit http://localhost:3000 in your browser to see your brand new application:\n\n![youre-on-rails](//images.ctfassets.net/1es3ne0caaid/3sOsgC4S80gOKM8Waqkgui/87c5c9e64375cbb2f8f2516223f4e515/youre-on-rails.png)\n\n## Pusher account setup\n\nHead over to Pusher and [sign up for a free account](https://dashboard.pusher.com/accounts/sign_up).\n\n![ruby-create-pusher-account](//images.ctfassets.net/1es3ne0caaid/6uDbn5kOyIOiKyeSeOKqeS/6136b86bc4d9b6ceff7fcf8458375a19/ruby-create-pusher-account.png)\n\nCreate a new app by selecting **Channels apps** on the sidebar and clicking **Create Channels app** button on the bottom of the sidebar:\n\n![ruby-channels-dashboard](//images.ctfassets.net/1es3ne0caaid/5IDtPf0HhC4aKg66gguYq8/183e0b23ec44fdfc23a38921e11fe9e3/ruby-channels-dashboard.png)\n\nConfigure an app by providing basic information requested in the form presented. You can also choose the environment you intend to integrate Pusher with for a better setup experience:\n\n![ruby-new-pusher-app](//images.ctfassets.net/1es3ne0caaid/3qnLmThfu8ue2ImYKKSw8a/2e4f39b15b8787e0f6d3b4f2ea022d95/ruby-new-pusher-app.png)\n\nClick the **App Keys** tab to retrieve your keys\n\n![ruby-app-keys](//images.ctfassets.net/1es3ne0caaid/1XHWE3GCeoCeqsMCO8uM2q/52523148497d08f6e9ba4f52fe0750f6/ruby-app-keys.png)\n\n## Building the homepage\n\nNow that we have our Pusher credential and our models and controllers have been set up, we will go ahead and build our homepage.\n\nReplace the code in your routes file with the following:\n``` ruby\n    # config/routes.rb\n    \n    Rails.application.routes.draw do\n      resources :chatrooms\n      resources :chats\n      get '/dashboard', to: 'chats#index'\n      root 'chatrooms#index'\n    end\n```\nNext, we hook up Bootstrap and add some styles. In your `application.js` file, add the following code just before the last line:\n``` javascript\n    // app/assets/javascripts/application.js\n    \n    .....\n    //= require jquery3 # add this line\n    //= require popper # add this line\n    //= require bootstrap # add this line\n    //= require_tree .\n```\nRename your `application.css` file to `application.scss` and add the following code:\n``` scss\n     # app/assets/stylesheets/application.scss\n     \n     @import \"bootstrap\";\n     @import url('https://fonts.googleapis.com/css?family=Tajawal');\n     body {\n      font-family: 'Tajawal', sans-serif;\n     }\n     .full-page {\n       height: 100vh;\n       width: 100vw;\n       overflow: hidden;\n     }\n     .jumbotron {\n       margin-top: 8rem;\n     }\n     .popup-wrapper {\n       height: 20rem;\n       position: fixed;\n       right: 1rem;\n       bottom: 0;\n       border-top-left-radius: 15px;\n       border-top-right-radius: 15px;\n     }\n     .popup-head {\n      border-top-left-radius: 15px;\n      border-top-right-radius: 15px;\n      text-align: center;\n      cursor: pointer;\n        p {\n          margin: 0;\n        }\n     }\n     .popup-trigger {\n      height: 2rem;\n      border-top-left-radius: 15px;\n      border-top-right-radius: 15px;\n      position: fixed;\n      bottom: 0;\n      right: 1rem;\n      cursor: pointer;\n      text-align: center;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n        p {\n          margin: 0;\n          font-weight: 900;\n        }\n      }\n      .chat-bubble {\n        border-radius: 3px;\n      }\n      .chats {\n        height: 23vh;\n        overflow: scroll;\n      }\n      .dashboard-sidebar-chat {\n        border-radius: 3px;\n        margin: 1rem 0;\n        padding: 0.2rem .5rem;\n        cursor: pointer;\n        a {\n          text-decoration: none;\n          color: unset;\n        }\n      }\n      .admin-chats {\n        height: 70vh;\n        overflow: scroll;\n      }\n```\nAdd the markup for our homepage in the chatrooms `index.html.erb` file\n``` html\n    # app/views/chatrooms/index.html.erb\n    \n    \u003cdiv class=\"container-fluid full-page bg-dark position-relative\"\u003e\n      \u003cdiv class=\"jumbotron jumbotron-fluid bg-transparent text-white\"\u003e\n        \u003cdiv class=\"container\"\u003e\n          \u003ch1 class=\"display-4\"\u003ePusher Chat Widget\u003c/h1\u003e\n          \u003cp class=\"lead\"\u003eRealtime chat.\u003c/p\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"popup-trigger bg-info text-white col-3\"\u003e\n        \u003cp\u003eChat with support\u003c/p\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"popup-wrapper bg-white col-3 p-0 collapse\"\u003e\n        \u003cdiv class=\"popup-head bg-info p-1\"\u003e\n          \u003cp\u003eClose chat window\u003c/p\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"start-chat-wrapper bg-light px-1 mt-5\"\u003e\n          \u003c%= form_with(model: @chatroom, format: :json, id: 'start-chat-form') do |form| %\u003e\n            \u003cdiv class=\"field\"\u003e\n              \u003c%= form.text_field :name, id: :name, class: \"form-control\", required: true, placeholder: \"Enter your name\" %\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"field\"\u003e\n              \u003c%= form.email_field :email, id: :email, class: \"form-control mt-3\", required: true, placeholder: \"Enter your email\" %\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"actions\"\u003e\n              \u003c%= form.submit 'Start chat', class: \"btn btn-primary btn-block mt-2\" %\u003e\n            \u003c/div\u003e\n          \u003c% end %\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"chat-wrapper bg-light px-1 collapse\"\u003e\n          \u003cdiv class=\"chats\"\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"chat-form\"\u003e\n            \u003c%= form_with( scope: :chat, url: chats_path, format: :json, id: 'chat-form') do |form| %\u003e\n              \u003cdiv class=\"field\"\u003e\n                \u003c%= form.text_field :message, id: :message, class: \"form-control\", required: true, placeholder: \"Enter your message\" %\u003e\n                \u003c%= form.hidden_field :name, id: :name %\u003e\n                \u003c%= form.hidden_field :chatroom_id, id: :chatroom_id %\u003e\n              \u003c/div\u003e\n            \u003c% end %\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n```\n\nIf you followed the tutorial so far you should have been able to create the homepage with the chat widget at the bottom right of the screen. Reloading your homepage should display this:\n\n![ruby-chat-widget-homepage](//images.ctfassets.net/1es3ne0caaid/3Lr3bS7y5W0wKICeCU6iQ0/ce92048cb2aa7359b74c7c807fa1b00d/ruby-chat-widget-homepage.png)\n\nIf you encounter a RegExp error while trying to set up Bootstrap, In `config/boot.rb`, change the ExecJS runtime from Duktape to Node.\n\n``` ruby\n    # config/boot.rb\n    ENV['EXECJS_RUNTIME'] ='Node'\n```\n\n## Building the admin dashboard\n\nNow that our homepage is set, next we’ll build the admin dashboard. Let’s add the markup for our dashboard in the chats `index.html.erb` file\n``` html\n    # app/views/chats/index.html.erb\n    \n    \u003cdiv class=\"container-fluid full-page position-relative\"\u003e\n      \u003cdiv class=\"row\"\u003e\n        \u003cdiv class=\"col-3 col-md-2 bg-dark full-page px-1 py-2 sidebar\"\u003e\n          \u003c% @chatrooms.each do |chatroom| %\u003e\n            \u003c% if chatroom.chats.any? %\u003e\n              \u003cdiv class=\"dashboard-sidebar-chat bg-info\"\u003e\n                \u003c%= link_to chatroom.email, chat_path(id: chatroom.id), remote: true, class: 'sidebar-chat' %\u003e\n              \u003c/div\u003e\n            \u003c% end %\u003e\n          \u003c% end %\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"col-9 col-md-10 bg-light full-page container\"\u003e\n          \u003ch5 class=\"mt-4\"\u003e👈 Select a chat from the sidebar to load the message\u003c/h5\u003e\n          \u003cdiv class=\"admin-chat-wrapper\"\u003e\n            \u003ch3 class=\"user-email mt-5\"\u003e\u003c/h3\u003e\n            \u003cdiv class=\"chat-form\"\u003e\n              \u003cdiv class=\"admin-chats\"\u003e\u003c/div\u003e\n              \u003c%= form_with( scope: :chat, url: chats_path, format: :json, id: 'admin-chat-form') do |form| %\u003e\n                \u003cdiv class=\"field\"\u003e\n                  \u003c%= form.text_field :message, id: :message, class: \"form-control\", required: true, placeholder: \"Enter your message\" %\u003e\n                  \u003c%= form.hidden_field :name, id: :name, value: 'Pusher support' %\u003e\n                  \u003c%= form.hidden_field :chatroom_id, id: :chatroom_id %\u003e\n                \u003c/div\u003e\n              \u003c% end %\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n```\n\nAdd the following code to the chatrooms controller:\n``` ruby\n    # app/controllers/chatrooms_controller.rb\n    \n    class ChatroomsController \u003c ApplicationController\n      def index\n        @chatroom = Chatroom.new\n      end\n      def new\n        @chatroom = Chatroom.new\n      end\n      def create\n        @chatroom = Chatroom.new(chatroom_params)\n        respond_to do |format|\n          if @chatroom.save\n            format.html { redirect_to @chatroom }\n            format.json { render :show, status: :created, location: @chatroom }\n          else\n            format.html { render :new }\n            format.json { render json: @chatroom.errors, status: :unprocessable_entity }\n          end\n        end\n      end\n      def show\n        @chatroom = Chatroom.find(params[:id])\n        render json: @chatroom.chats\n      end\n      private\n        def chatroom_params\n          params.require(:chatroom).permit(:email, :name)\n        end\n    end\n```\nAlso, add the following to the `chats_controller.rb` file\n``` ruby\n    # app/controllers/chats_controller.erb\n    \n    class ChatsController \u003c ApplicationController\n      def index\n        @chatrooms = Chatroom.all\n      end\n      def create\n        @chat = Chat.new(chat_params)\n        respond_to do |format|\n          if @chat.save\n            format.json { render :show, status: :created, location: @chat }\n          else\n            format.json { render json: @chat.errors, status: :unprocessable_entity }\n          end\n        end\n      end\n      def new\n        @chat = Chat.new\n      end\n      def show\n        @chats = Chat.where(chatroom_id: params[:id])\n        respond_to do |format|\n          if @chats\n            format.json { render :chats, status: :ok }\n          else\n            format.json { render json: @chats.errors, status: :unprocessable_entity }\n          end\n        end\n      end\n      private\n        def chat_params\n          params.require(:chat).permit(:message, :name, :chatroom_id)\n        end\n    end\n```\nIf you visit http://localhost:3000/dashboard in your browser, you should be greeted with this awesome view:\n\n![ruby-chat-widget-admin-dashboard](//images.ctfassets.net/1es3ne0caaid/391xf8ezoISskSGSKuYem0/f6b74c3faeb76c9d510dd0551422866d/ruby-chat-widget-admin-dashboard.png)\n\n\n## Sending live chat messages\n\nOur live chat system is ready to start receiving messages. All that is left is to handle the messages being sent by both the users and admins. Whenever messages are sent, we update the chat interface via AJAX. In your `chatrooms.coffee` file, add the following code:\n\n``` coffeescript\n    # app/assets/javascripts/chatrooms.coffee\n    \n    $(document).ready =\u003e\n      popupWrapper = $('.popup-wrapper')\n      popupTrigger = $('.popup-trigger')\n      # open the live chat widget if clicked\n      $('.popup-head').click -\u003e\n        popupWrapper.addClass('collapse')\n        popupTrigger.removeClass('collapse')\n        return\n        \n      # close the live chat widget if clicked\n      $('.popup-trigger').click -\u003e\n        popupWrapper.removeClass('collapse')\n        popupTrigger.addClass('collapse')\n        return\n        \n      # if the user's name and email is successfully submitted, hide the form and show the chat interface in the widget\n      $('#start-chat-form').on 'ajax:success', (data) -\u003e\n        chatroom = data.detail[0]\n        $('.chat-form').removeClass('collapse')\n        $('.start-chat-wrapper').addClass('collapse')\n        $('.chat-wrapper').removeClass('collapse')\n        $('#chat-form #name').val(chatroom.name)\n        $('#chat-form #chatroom_id').val(chatroom.id)\n        getChats chatroom.id\n        $('#start-chat-form')[0].reset()\n        return\n      getChats = (id) -\u003e\n        token = $('meta[name=\"csrf-token\"]').attr('content')\n        $.ajax\n          url: 'chatrooms/' + id\n          type: 'get'\n          beforeSend: (xhr) -\u003e\n            xhr.setRequestHeader 'X-CSRF-Token', token\n            return\n          success: (data) -\u003e\n            return\n        return\n      \n      # update the user's chat with new chat messages\n      updateChat = (data) -\u003e\n        if data.chatroom_id == parseInt($('input#chatroom_id').val())\n          $('.chats').append \"\"\"\n            \u003cdiv class=\"chat-bubble-wrapper d-block\"\u003e\n              \u003cdiv class=\"chat-bubble bg-dark p-1 text-white my-1 d-inline-block\"\u003e\n                \u003csmall class=\"chat-username\"\u003e#{data.name}\u003c/small\u003e\n                \u003cp class=\"m-0 chat-message\"\u003e#{data.message}\u003c/p\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \"\"\"\n        return\n      \n      # if the user's chat message is successfully sent, reset the chat input field\n      $('#chat-form').on 'ajax:success', (data) -\u003e\n        chat = data.detail[0]\n        $('#chat-form')[0].reset()\n        return\n        \n      # function for displaying chat messages that belong to chat selcted in the admin sidebar\n      loadAdminChat = (chatArray) -\u003e\n        $('.admin-chats').html \"\"\n        $('input#chatroom_id').val(chatArray.chats[0].chatroom_id)\n        $.map(chatArray.chats, (chat) -\u003e\n          $('.admin-chats').append \"\"\"\n            \u003cdiv class=\"chat-bubble-wrapper d-block\"\u003e\n              \u003cdiv class=\"chat-bubble bg-dark p-1 text-white my-1 d-inline-block\" style=\"min-width: 10rem;\"\u003e\n                \u003csmall class=\"chat-username\"\u003e#{chat.name}\u003c/small\u003e\n                \u003cp class=\"m-0 chat-message\"\u003e#{chat.message}\u003c/p\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \"\"\"\n          return\n        )\n        return\n      \n      # if the available chat in the sidebar is clicked, call the function that displays it's messages\n      $('body').on 'ajax:success', '.sidebar-chat', (data) -\u003e\n        chat = data.detail[0]\n        loadAdminChat chat\n        return\n      \n      # function to update admin's chat with new chat messages\n      updateAdminChat = (chat) -\u003e\n        if chat.chatroom_id == parseInt($('input#chatroom_id').val())\n          $('.admin-chats').append \"\"\"\n            \u003cdiv class=\"chat-bubble-wrapper d-block\"\u003e\n              \u003cdiv class=\"chat-bubble bg-dark p-1 text-white my-1 d-inline-block\" style=\"min-width: 10rem;\"\u003e\n                \u003csmall class=\"chat-username\"\u003e#{chat.name}\u003c/small\u003e\n                \u003cp class=\"m-0 chat-message\"\u003e#{chat.message}\u003c/p\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \"\"\"\n        return\n      \n      # function to update the available chats in the sidebar\n      updateAdminChatrooms = (chatroom) -\u003e\n        $('.sidebar').append \"\"\"\n          \u003cdiv class=\"dashboard-sidebar-chat bg-info\"\u003e\n            \u003ca class=\"sidebar-chat\" data-remote=\"true\" href=\"/chats/#{chatroom.id}\"\u003e#{chatroom.email}\u003c/a\u003e\n          \u003c/div\u003e\n        \"\"\"\n        return\n      # if admin's chat is successfully  sent, clear the chat input field\n      $('#admin-chat-form').on 'ajax:success', (data) -\u003e\n        chat = data.detail[0]\n        $('#admin-chat-form')[0].reset()\n        return\n```\nWe’ll make use of [Jbuilder](https://github.com/rails/jbuilder) to build our server response into JSON. In your chatroom views folder, create a `show.json.jbuilder` file and add the following code:\n\n``` \n    # app/views/chatrooms/show.json.jbuilder\n    \n    json.extract! @chatroom, :id, :name, :email\n    json.url chatroom_url(@chatroom, format: :json)\n```\nIn the views/chats folder, create two files: `show.json.jbuilder` and `chats.json.jbuilder` and add the following code respectively:\n\n```\n    # app/views/chats/show.json.jbuilder\n    \n    json.extract! @chat, :id, :message, :name, :chatroom_id\n    json.url chat_url(@chat, format: :json)\n```\n\n```\n    # app/views/chats/show.json.builder\n    \n    json.chats @chats do |chat|\n      json.(chat, :id, :name, :message, :chatroom_id)\n    end\n```\nLastly, we add update the chatroom model with the following\n``` ruby\n    # app/models/chatroom.rb\n    class Chatroom \u003c ApplicationRecord\n      has_many :chats # add this line\n    end\n```\nIf you followed the tutorial so far you should have been able to send messages from the chat widget on the homepage and if you reload your admin dashboard, you should see your message there.\nSweet! Next, we’ll remove the hassles of reloading with Pusher.\n\n\n## Realtime service with Pusher\n\nFor a live chat widget to be successful, the company should be immediately aware when there is a new message from a customer. We’ll go ahead and get that done with Pusher.\n\nFirstly, we will initialize a Pusher client in our application. In the `config/initializers` directory, create a `pusher.rb` file and add the following code:\n\n``` ruby\n    # config/initializers/pusher.rb\n    \n    require 'pusher'\n    Pusher.app_id = ENV[\"PUSHER_APP_ID\"]\n    Pusher.key = ENV[\"PUSHER_KEY\"]\n    Pusher.secret = ENV[\"PUSHER_SECRET\"]\n    Pusher.cluster = ENV[\"PUSHER_CLUSTER\"]\n    Pusher.logger = Rails.logger\n    Pusher.encrypted = true\n```\nIn your terminal, run `figaro install` to generate an `application.yml` file. In the `application.yml` file add your Pusher keys:\n\n``` yaml\n    # config/application.yml\n    \n    PUSHER_APP_ID: 'xxxxxx'\n    PUSHER_KEY: 'xxxxxxxxxxxxxxxxx'\n    PUSHER_SECRET: 'xxxxxxxxxxxxxx'\n    PUSHER_CLUSTER: 'xx'\n```\nAdd the Pusher library inside the head tag in the `application.html.erb` file just before the `javascript_include_tag`:\n\n``` html\n    \u003c%# app/views/layouts/application.html.erb %\u003e\n    \n    \u003chead\u003e\n      ....\n      \u003cscript src=\"https://js.pusher.com/4.1/pusher.min.js\"\u003e\u003c/script\u003e // add this line\n      \u003c%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %\u003e\n    \u003c/head\u003e\n```\nFor the admin to be notified of a new customer chat, we notify Pusher whenever a customer starts a new chat. On the admin end, we’ll subscribe to events on our Pusher channel and update the UI accordingly.\n\nSame thing applies for when both the user and admin exchange messages, we publish the messages via Pusher and subscribe to the updates on the frontend.\n\nUpdate your chat and chatroom model respectively:\n\n``` ruby\n    # app/models/chat.rb\n    class Chat \u003c ApplicationRecord\n      after_create :notify_pusher\n      belongs_to :chatroom\n    \n      def notify_pusher\n        Pusher.trigger('chat', 'new-chat', self.as_json)\n      end\n    end\n\n\n    # app/models/chatroom.rb\n    class Chatroom \u003c ApplicationRecord\n      after_create :notify_pusher\n      has_many :chats\n    \n      def notify_pusher\n        Pusher.trigger('chat', 'new-chatroom', self.as_json)\n      end\n    end\n```\nIn the code above, we add an `after_create` callback to both the chat and the chatroom models, which calls the function to publish new chats and chatrooms.\n\nRename your `chatroom.coffee` file to `chatroom.coffee.erb` and add the following code to the end of the file:\n\n``` ruby\n    # app/assets/javascripts/chatroom.coffee.erb\n    \n    .....\n      pusher = new Pusher('\u003c%= ENV[\"PUSHER_KEY\"] %\u003e',\n        cluster: '\u003c%= ENV[\"PUSHER_CLUSTER\"] %\u003e'\n        encrypted: true)\n      channel = pusher.subscribe('chat')\n      channel.bind 'new-chat', (data) -\u003e\n        updateChat data\n        updateAdminChat data\n      channel.bind 'new-chatroom', (data) -\u003e\n        updateAdminChatrooms data\n        return\n```\nIn the code above, we subscribe our Pusher client to the chat channel. Whenever there is a new chat or chatroom, we update the admin and user’s chat interface.\nEnsure the code added above is indented as other code in the file.\n\n\n## Bringing it all together\n\nRestart your development server and send some messages through the chat widget, they should pop up on the admin side.\n\n\n## Conclusion\n\nIn this tutorial, you learned how to build a customer support widget and administrator interface using Ruby and Pusher. Feel free to explore more by visiting Pusher’s documentation.\nThe source code to the article is available on [GitHub](https://github.com/9jaswag/pusher-chat-widget).","metaTitle":"Build a live chat widget with Ruby and PostgreSQL","metaDescription":"This tutorial will guide you through creating a chat widget and admin dashboard, suitable for a business help chat or sales chat. You will use Ruby on Rails and PostgreSQL."}}],"defaultValue":"Ruby","queryType":"tag","pages":2,"route":"/tutorials","query":{"tag":"Ruby"}}},"page":"/tutorials","query":{"tag":"Ruby"},"buildId":"5ca6c1ecbe5c9b23ac66836b5e096d6b6c6ce25f","isFallback":false,"customServer":true,"ids":[]}</script><script nomodule="" src="_next/static/runtime/polyfills-6cf13c089a5684eabd63.js"></script><script async="" data-next-page="/tutorials" src="_next/static/5ca6c1ecbe5c9b23ac66836b5e096d6b6c6ce25f/pages/tutorials.js"></script><script async="" data-next-page="/_app" src="_next/static/5ca6c1ecbe5c9b23ac66836b5e096d6b6c6ce25f/pages/_app.js"></script><script src="_next/static/runtime/webpack-b65cab0b00afd201cbda.js" async=""></script><script src="_next/static/chunks/framework.8f8ac35b6c50c5d44e18.js" async=""></script><script src="_next/static/chunks/commons.5bea89f818e6d7d50d28.js" async=""></script><script src="_next/static/runtime/main-584a95128cf78f0fbea3.js" async=""></script><script src="_next/static/chunks/76f4f697.bba43166686acfbb5f45.js" async=""></script><script src="_next/static/chunks/40541903ab1c1ac841a57dd2b1fba9dfbed8c9ab.d608edb81271263c90db.js" async=""></script><script src="_next/static/chunks/5cad565c69a90ad2361a05d3169ab69cc3ef1b5b.50169a8607cbe0f0091c.js" async=""></script><script src="_next/static/5ca6c1ecbe5c9b23ac66836b5e096d6b6c6ce25f/_buildManifest.js" async=""></script><script src="_next/static/5ca6c1ecbe5c9b23ac66836b5e096d6b6c6ce25f/_ssgManifest.js" async=""></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css"/></body>
<!-- Mirrored from pusher.com/tutorials?tag=Ruby by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 13 Sep 2020 12:19:20 GMT -->
</html>